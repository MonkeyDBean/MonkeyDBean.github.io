<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[SpringBoot+Mybatisé…ç½®å¤šæ•°æ®æº]]></title>
    <url>%2F2017%2F10%2F09%2Fmulti_datasource%2F</url>
    <content type="text"><![CDATA[å¼€å‘ä¼ä¸šçº§åº”ç”¨ç¨‹åºæ—¶å¸¸é‡åˆ°è¦ä½¿ç”¨å¤šä¸ªæœåŠ¡å™¨ä¸Šæ•°æ®åº“çš„æƒ…å†µï¼Œæ­¤æ—¶éœ€è¦é…ç½®å¤šä¸ªæ•°æ®æºã€‚æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œé‡åˆ°ä¸å°‘å‘ï¼Œäº²æµ‹å¦‚ä¸‹ï¼š é¡¹ç›®ç›®å½•ç»“æž„ å…³é”®æ–‡ä»¶pomæ–‡ä»¶é…ç½®ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.3.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;com.kodgames&lt;/groupId&gt; &lt;artifactId&gt;MultiDataSource&lt;/artifactId&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;name&gt;MultiDataSource&lt;/name&gt; &lt;description&gt;test Spring boot multi Datasource&lt;/description&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;jarName&gt;MultiDataSource&lt;/jarName&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- Spring Boot webä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt; &lt;version&gt;2.6.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt; &lt;version&gt;2.6.1&lt;/version&gt; &lt;/dependency&gt; &lt;!--MySQL JDBCé©±åŠ¨--&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- æ•°æ®åº“è¿žæŽ¥æ±  --&gt; &lt;!-- https://mvnrepository.com/artifact/com.zaxxer/HikariCP --&gt; &lt;dependency&gt; &lt;groupId&gt;com.zaxxer&lt;/groupId&gt; &lt;artifactId&gt;HikariCP&lt;/artifactId&gt; &lt;version&gt;2.6.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.0&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;excludes&gt; &lt;exclude&gt;*.*&lt;/exclude&gt; &lt;/excludes&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;/project&gt; application.propertiesé…ç½®æ–‡ä»¶12345678910111213server.port=8095# Primary DataSource configurationdatasource.primary.url=jdbc:mysql://123.206.224.79/club4agency?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=falsedatasource.primary.username=gymj_writedatasource.primary.password=q9oL2G2ZVidatasource.primary.driver-class-name=com.mysql.jdbc.Driver# Secondary DataSource configurationdatasource.secondary.url=jdbc:mysql://182.254.139.94/mahjongforagency?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=falsedatasource.secondary.username=qa_writedatasource.secondary.password=xPpfgs4TzjBxV7datasource.secondary.driver-class-name=com.mysql.jdbc.Driver ApplicationConfigurationé…ç½®ç±»1234567891011121314151617181920212223242526272829303132333435363738package com.test.multi.component.config;import org.apache.ibatis.session.SqlSessionFactory;import org.mybatis.spring.SqlSessionFactoryBean;import org.mybatis.spring.annotation.MapperScan;import org.springframework.beans.factory.annotation.Qualifier;import org.springframework.boot.autoconfigure.jdbc.DataSourceBuilder;import org.springframework.boot.context.properties.ConfigurationProperties;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.context.annotation.Primary;import org.springframework.core.io.support.PathMatchingResourcePatternResolver;import javax.sql.DataSource;/** * Created by Bean on 2017/10/9. */@Configuration@MapperScan(value = &quot;com.test.multi.component.dao.dao1&quot;, sqlSessionFactoryRef = &quot;primarySqlSessionFactory&quot;)public class ApplicationConfiguration &#123; @Bean(name = &quot;primaryDatasource&quot;) @Primary @ConfigurationProperties(prefix = &quot;datasource.primary&quot;) public DataSource primaryDataSource() &#123; return DataSourceBuilder.create().build(); &#125; @Bean(name = &quot;primarySqlSessionFactory&quot;) @Primary public SqlSessionFactory sqlSessionFactory1(@Qualifier(&quot;primaryDatasource&quot;) DataSource dataSource) throws Exception &#123; SqlSessionFactoryBean bean = new SqlSessionFactoryBean(); bean.setDataSource(dataSource); bean.setMapperLocations(new PathMatchingResourcePatternResolver().getResources(&quot;classpath:ClubDataDaoMapper.xml&quot;)); return bean.getObject(); &#125;&#125; åŒæ ·çš„ï¼ŒApplicationConfiguration2é…ç½®ç±»1234567891011121314151617181920212223242526272829303132333435package com.test.multi.component.config;import org.apache.ibatis.session.SqlSessionFactory;import org.mybatis.spring.SqlSessionFactoryBean;import org.mybatis.spring.annotation.MapperScan;import org.springframework.beans.factory.annotation.Qualifier;import org.springframework.boot.autoconfigure.jdbc.DataSourceBuilder;import org.springframework.boot.context.properties.ConfigurationProperties;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.core.io.support.PathMatchingResourcePatternResolver;import javax.sql.DataSource;/** * Created by Bean on 2017/10/9. */@Configuration@MapperScan(value = &quot;com.test.multi.component.dao.dao2&quot;, sqlSessionFactoryRef = &quot;secondSqlSessionFactory&quot;)public class ApplicationConfiguration2 &#123; @Bean(name = &quot;secondaryDataSource&quot;) @ConfigurationProperties(prefix = &quot;datasource.secondary&quot;) public DataSource secondDataSource() &#123; return DataSourceBuilder.create().build(); &#125; @Bean(name = &quot;secondSqlSessionFactory&quot;) public SqlSessionFactory sqlSessionFactory2(@Qualifier(&quot;secondaryDataSource&quot;) DataSource dataSource) throws Exception &#123; SqlSessionFactoryBean bean = new SqlSessionFactoryBean(); bean.setDataSource(dataSource); bean.setMapperLocations(new PathMatchingResourcePatternResolver().getResources(&quot;classpath:GmDataDaoMapper.xml&quot;)); return bean.getObject(); &#125;&#125; ApplicationConfigurationä¸ŽApplicationConfiguration2é…ç½®ç±»ï¼Œ@MapperScanæŒ‡å®šæ‰«æåŸŸè¦åŒºåˆ†å¼€ï¼Œä¸¤ä¸ªdaoæ–‡ä»¶ClubDataDaoä¸ŽGmDataDaoåˆ†åˆ«æ“ä½œä¸åŒçš„æ•°æ®æºã€‚ ApplicationConfigurationä¸ŽApplicationConfiguration2é…ç½®ç±»ï¼ŒsqlSessionFactoryRefå‚æ•°å£°æ˜Žmybatis sqlsessionfactoryæ¥æºã€‚ @Primaryä»…æ³¨è§£åˆ°å•ä¸ªæ•°æ®æºï¼Œä½œä¸ºé»˜è®¤æ•°æ®æºï¼Œç”¨ä½œæ“ä½œé¢‘çŽ‡æœ€é«˜çš„æ•°æ®æºä¸Šï¼ˆä¹Ÿå¸¸ç”¨æ¥åŒºåˆ†ä¸»ä»Žæ•°æ®åº“ï¼Œè¿™ä¸ªä¸Žæœ¬æ–‡æ— å…³ï¼‰ã€‚ å…¶ä»–æ–‡ä»¶ClubDataDao12345678910package com.test.multi.component.dao.dao1;import org.apache.ibatis.annotations.Mapper;import java.util.List;@Mapperpublic interface ClubDataDao &#123; List&lt;Integer&gt; queryClubManagerIdByAgencyId(int agencyID);&#125; GmDataDao123456789package com.test.multi.component.dao.dao2;import org.apache.ibatis.annotations.Mapper;@Mapperpublic interface GmDataDao &#123; Integer queryGroupIdByAgencyId(int agencyID);&#125;` ClubDataDaoMapper.xml123456789101112&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;com.test.multi.component.dao.dao1.ClubDataDao&quot;&gt; &lt;select id=&quot;queryClubManagerIdByAgencyId&quot; resultType=&quot;Integer&quot; parameterType=&quot;Integer&quot;&gt; select DISTINCT club_manager_id from club4agency.agency_club_info where club_agency_id=#&#123;agencyID&#125;; &lt;/select&gt;&lt;/mapper&gt; GmDataDaoMapper.xml1234567891011&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;com.test.multi.component.dao.dao2.GmDataDao&quot;&gt; &lt;select id=&quot;queryGroupIdByAgencyId&quot; resultType=&quot;int&quot;&gt; select groupId from account where agencyID = #&#123;agencyID&#125;; &lt;/select&gt;&lt;/mapper&gt; CrossOriginFilter12345678910111213141516171819202122232425262728293031package com.test.multi.component.filter;import javax.servlet.*;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;/** * Created by Bean on 2017/10/9. */public class CrossOriginFilter implements Filter &#123; @Override public void destroy() &#123; // TODO Auto-generated method stub &#125; @Override public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123; HttpServletRequest httpServletRequest = (HttpServletRequest) request; HttpServletResponse httpServletResponse = (HttpServletResponse) response; httpServletResponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;); chain.doFilter(httpServletRequest, httpServletResponse); &#125; @Override public void init(FilterConfig arg0) throws ServletException &#123; // TODO Auto-generated method stub &#125;&#125; Swagger21234567891011121314151617181920212223242526272829303132333435363738394041package com.test.multi.component.doc;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import springfox.documentation.builders.ApiInfoBuilder;import springfox.documentation.builders.PathSelectors;import springfox.documentation.builders.RequestHandlerSelectors;import springfox.documentation.service.ApiInfo;import springfox.documentation.service.Contact;import springfox.documentation.spi.DocumentationType;import springfox.documentation.spring.web.plugins.Docket;import springfox.documentation.swagger2.annotations.EnableSwagger2;/** * Created by Bean on 2017/10/9. */@Configuration@EnableSwagger2public class Swagger2 &#123; public static Contact contact = new Contact(&quot;MonkeyBean&quot;, &quot;http://hostip:8095/swagger-ui.html&quot;, &quot;monkeybean_zhang@163.com&quot;); @Bean public Docket createRestApi() &#123; return new Docket(DocumentationType.SWAGGER_2) .apiInfo(apiInfo()) .select() .apis(RequestHandlerSelectors.basePackage(&quot;com.test.multi&quot;)) .paths(PathSelectors.any()) .build(); &#125; private ApiInfo apiInfo() &#123; return new ApiInfoBuilder() .title(&quot;Spring Bootä¸­ä½¿ç”¨Swagger2æž„å»ºRESTful APIs&quot;) .description(&quot;å¤šæ•°æ®æºæµ‹è¯•&quot;) .termsOfServiceUrl(&quot;https://www.google.com/&quot;) .contact(contact) .version(&quot;1.0&quot;) .build(); &#125;&#125; æµ‹è¯•ç±»TestController1234567891011121314151617181920212223242526272829303132333435363738394041package com.test.multi.controller;import com.test.multi.component.dao.dao1.ClubDataDao;import com.test.multi.component.dao.dao2.GmDataDao;import io.swagger.annotations.ApiOperation;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.bind.annotation.RestController;import java.util.HashMap;import java.util.List;/** * Created by Bean on 2017/10/9. */@RequestMapping(path = &quot;test&quot;)@RestControllerpublic class TestController &#123; @Autowired private ClubDataDao clubDataDao; @Autowired private GmDataDao gmDataDao; /** * æµ‹è¯•å¤šæ•°æ®æº */ @ApiOperation(value = &quot;testMultiDataSource&quot;) @RequestMapping(path = &quot;multi&quot;, method = RequestMethod.GET) public HashMap&lt;String, Object&gt; testMulti(@RequestParam(value = &quot;agentId&quot;) Integer agentId) &#123; HashMap&lt;String, Object&gt; result = new HashMap&lt;&gt;(); List&lt;Integer&gt; managerIdList = clubDataDao.queryClubManagerIdByAgencyId(agentId); result.put(&quot;managerIdList&quot;, managerIdList); Integer groupId = gmDataDao.queryGroupIdByAgencyId(agentId); result.put(&quot;groupId&quot;, groupId); return result; &#125;&#125; ä½¿ç”¨swagger2æµ‹è¯•å¦‚ä¸‹ï¼š]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java é˜»å¡žé˜Ÿåˆ—å®žçŽ°è¶…æ—¶æœºåˆ¶]]></title>
    <url>%2F2017%2F08%2F25%2Fblockqueue%2F</url>
    <content type="text"><![CDATA[é˜»å¡žé˜Ÿåˆ—æ¦‚å¿µå®šä¹‰ï¼šé˜»å¡žé˜Ÿåˆ— (BlockingQueue)æ˜¯Java util.concurrentåŒ…ä¸‹é‡è¦çš„æ•°æ®ç»“æž„ï¼ŒBlockingQueueæä¾›äº†çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—è®¿é—®æ–¹å¼ï¼šå½“é˜»å¡žé˜Ÿåˆ—è¿›è¡Œæ’å…¥æ•°æ®æ—¶ï¼Œå¦‚æžœé˜Ÿåˆ—å·²æ»¡ï¼Œçº¿ç¨‹å°†ä¼šé˜»å¡žç­‰å¾…ç›´åˆ°é˜Ÿåˆ—éžæ»¡ï¼›ä»Žé˜»å¡žé˜Ÿåˆ—å–æ•°æ®æ—¶ï¼Œå¦‚æžœé˜Ÿåˆ—å·²ç©ºï¼Œçº¿ç¨‹å°†ä¼šé˜»å¡žç­‰å¾…ç›´åˆ°é˜Ÿåˆ—éžç©ºã€‚å¹¶å‘åŒ…ä¸‹å¾ˆå¤šé«˜çº§åŒæ­¥ç±»çš„å®žçŽ°éƒ½æ˜¯åŸºäºŽBlockingQueueå®žçŽ°çš„ã€‚BlockingQueueæ˜¯ä¸ªæŽ¥å£ï¼Œå®žçŽ°æœ‰ArrayBlockingQueueã€DelayQueueã€LinkedBlockingQueueã€PriorityBlockingQueueã€SynchronousQueueã€‚æœ¬æ–‡ä½¿ç”¨ArrayBlockingQueueï¼šæœ‰ç•Œçš„é˜»å¡žé˜Ÿåˆ—ï¼Œå†…éƒ¨å®žçŽ°æ˜¯å°†å¯¹è±¡æ”¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚jdkæºç ä¸ºï¼š12345678public ArrayBlockingQueue(int capacity, boolean fair) &#123; if (capacity &lt;= 0) throw new IllegalArgumentException(); this.items = new Object[capacity]; lock = new ReentrantLock(fair); notEmpty = lock.newCondition(); notFull = lock.newCondition();&#125; å‚æ•°capacityä¸ºæ•°ç»„å®¹é‡ï¼›fairä¸ºtrueï¼Œæ’å…¥æˆ–åˆ é™¤å¯¹è±¡æ—¶ï¼ŒæŒ‰FIFOé¡ºåºå¤„ç†ã€‚ é˜»å¡žé˜Ÿåˆ—å·¥å…·å®žçŽ° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475import java.util.Map;import java.util.UUID;import java.util.concurrent.ArrayBlockingQueue;import java.util.concurrent.BlockingQueue;import java.util.concurrent.ConcurrentHashMap;import java.util.concurrent.TimeUnit;public class BlockQueueUtil &#123; /** * é˜»å¡žé˜Ÿåˆ—è¶…æ—¶æ—¶é—´,å•ä½ç§’ */ private static final int TIMEOUT = 5; /** * å…¨å±€MAPï¼Œä¸€ä¸ªUUIDæ ‡è¯†ä¸€ä¸ªé˜»å¡žé˜Ÿåˆ— */ public static Map&lt;UUID, BlockingQueue&gt; msgHdMap = new ConcurrentHashMap&lt;&gt;(); /** * å•ä¾‹ */ private static BlockQueueUtil bqInstance = null; public static BlockQueueUtil getInstance() &#123; if (bqInstance == null) &#123; bqInstance = new BlockQueueUtil(); &#125; return bqInstance; &#125; /** * æ–°å»ºé˜»å¡žé˜Ÿåˆ—ï¼Œæ”¾å…¥å…¨å±€mapä¸­ * @return uuid */ public UUID getMsgMap() &#123; UUID uuid = UUID.randomUUID(); BlockingQueue&lt;String&gt; msgqueue = new ArrayBlockingQueue&lt;String&gt;(3, true); msgHdMap.put(uuid, msgqueue); return uuid; &#125; /** * èŽ·å–é˜»å¡žé˜Ÿåˆ— * @param uuid */ public BlockingQueue getQueue(UUID uuid) &#123; return msgHdMap.get(uuid); &#125; /** * å…¥é˜Ÿ */ public void queueIn(UUID uuid, String responseStr) &#123; BlockingQueue&lt;String&gt; msgqueue = msgHdMap.get(uuid); msgqueue.add(responseStr); &#125; /** * å‡ºé˜Ÿ * @param uuid */ public String queueOut(UUID uuid) &#123; BlockingQueue&lt;String&gt; msgqueue = msgHdMap.get(uuid); String tac = null; try &#123; tac = msgqueue.poll(TIMEOUT, TimeUnit.SECONDS); &#125; catch (InterruptedException e) &#123; // è¶…æ—¶ e.printStackTrace(); &#125; finally &#123; // recycle map msgHdMap.remove(uuid); &#125; return tac; &#125;&#125; ConcurrentHashMapçš„keyä¸ºå”¯ä¸€æ ‡å¿—uuidï¼Œvalueä¸ºé˜»å¡žé˜Ÿåˆ—ã€‚ä¸Šè¿°getMsgMapæ–¹æ³•åˆ›å»ºå®¹é‡ä¸º3çš„é˜»å¡žé˜Ÿåˆ—ï¼›å‡ºé˜Ÿæ–¹æ³•queueOutè°ƒç”¨pollæ–¹æ³•ï¼ˆæ£€ç´¢å¹¶åˆ é™¤æ­¤é˜Ÿåˆ—çš„å¤´ï¼‰ï¼Œè¶…æ—¶æ—¶é—´è®¾ç½®ä¸º5ç§’ã€‚ è°ƒç”¨å‘èµ·é˜»å¡žï¼Œç­‰å¾…äº‹ä»¶ï¼š12345678BlockQueueUtil queueUtil = BlockQueueUtil.getInstance();UUID uuid = queueUtil.getMsgMap();String tac = queueUtil.queueOut(uuid);if (tac == null) &#123;System.out.println(&quot;timeout....&quot;);&#125; else &#123;your normal logic balabala&#125; åˆå§‹ï¼Œæ¯ä¸ªé˜»å¡žé˜Ÿåˆ—ä¸ºç©ºï¼Œæ‰§è¡Œå‡ºé˜Ÿæ“ä½œï¼Œé˜»å¡žç›´åˆ°äº‹ä»¶è§¦å‘æˆ–è€…è¶…æ—¶ã€‚äº‹ä»¶è§¦å‘ï¼š1// é˜»å¡žé˜Ÿåˆ—ï¼Œå…¥é˜Ÿ BlockQueueUtil.getInstance().queueIn(UUID.fromString(json.getString(&quot;uuid&quot;)), json.get(&quot;res&quot;).toString()); å…¥é˜ŸåŽï¼Œé˜»å¡žé˜Ÿåˆ—ä¸ä¸ºç©ºï¼ŒqueueUtil.queueOut(uuid)è¢«è§¦å‘ï¼Œæ‰§è¡ŒåŽç»­æ“ä½œyour normal logic balabalaã€‚é˜»å¡žé˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯ä¸ºçº¿ç¨‹é—´é€šä¿¡ï¼ˆå¦‚ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼ï¼‰æˆ–ä¸ºç½‘ç»œé€šä¿¡ï¼ˆsocketæˆ–httpï¼‰ã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaè¿‡æ»¤Emojiå­—ç¬¦]]></title>
    <url>%2F2017%2F08%2F25%2Ffilter_emoji%2F</url>
    <content type="text"><![CDATA[å¾®ä¿¡æ˜µç§°æ”¯æŒEmojiè¡¨æƒ…ï¼Œå­˜å‚¨å¾®ä¿¡æ˜µç§°æ—¶ï¼Œè‹¥çº¿ä¸Šmysqlç¼–ç æœªé‡‡ç”¨utfmb4ï¼Œä¾ç„¶ä½¿ç”¨utf-8ï¼Œå‘æ•°æ®åº“å†™æ•°æ®æ—¶å°±è¦è¿‡æ»¤æŽ‰æ˜µç§°ä¸­çš„Emojiè¡¨æƒ…ã€‚è¿‡æ»¤emojiå¯é€‰ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š æ–¹æ³•ä¸€ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990public class EmojiFilter &#123; /** * æ£€æµ‹æ˜¯å¦æœ‰emojiå­—ç¬¦ * @param source * @return ä¸€æ—¦å«æœ‰å°±æŠ›å‡º */ public static boolean containsEmoji(String source) &#123; if (source == null || &quot;&quot;.equals(source)) &#123; return false; &#125; int len = source.length(); for (int i = 0; i &lt; len; i++ ) &#123; char codePoint = source.charAt(i); if (isEmojiCharacter(codePoint)) &#123; // do nothingï¼Œåˆ¤æ–­åˆ°äº†è¿™é‡Œè¡¨æ˜Žï¼Œç¡®è®¤æœ‰è¡¨æƒ…å­—ç¬¦ return true; &#125; &#125; return false; &#125; private static boolean isEmojiCharacter(char codePoint) &#123; return (codePoint == 0x0) || (codePoint == 0x9) || (codePoint == 0xA) || (codePoint == 0xD) || ((codePoint &gt;= 0x20) &amp;&amp; (codePoint &lt;= 0xD7FF)) || ((codePoint &gt;= 0xE000) &amp;&amp; (codePoint &lt;= 0xFFFD)) || ((codePoint &gt;= 0x10000) &amp;&amp; (codePoint &lt;= 0x10FFFF)); &#125; /** * è¿‡æ»¤emoji æˆ–è€… å…¶ä»–éžæ–‡å­—ç±»åž‹çš„å­—ç¬¦ * @param source * @return */ public static String filterEmoji(String source) &#123; if (!containsEmoji(source)) &#123; return source;// å¦‚æžœä¸åŒ…å«ï¼Œç›´æŽ¥è¿”å›ž &#125; // åˆ°è¿™é‡Œé“å®šåŒ…å« StringBuilder buf = null; int len = source.length(); for (int i = 0; i &lt; len; i++ ) &#123; char codePoint = source.charAt(i); if (isEmojiCharacter(codePoint)) &#123; if (buf == null) &#123; buf = new StringBuilder(source.length()); &#125; buf.append(codePoint); &#125; else &#123;&#125; &#125; if (buf == null) &#123; return source;// å¦‚æžœæ²¡æœ‰æ‰¾åˆ° emojiè¡¨æƒ…ï¼Œåˆ™è¿”å›žæºå­—ç¬¦ä¸² &#125; else &#123; if (buf.length() == len) &#123;// è¿™é‡Œçš„æ„ä¹‰åœ¨äºŽå°½å¯èƒ½å°‘çš„toStringï¼Œå› ä¸ºä¼šé‡æ–°ç”Ÿæˆå­—ç¬¦ä¸² buf = null; return source; &#125; else &#123; return buf.toString(); &#125; &#125; &#125;&#125; å•å…ƒæµ‹è¯•å¦‚ä¸‹ï¼š12345678public void testEmojiFilter1() &#123; boolean expireRight = true; String predictStr = &quot;An awesome string with a few emojis!&quot;; String nickname= &quot;An ðŸ˜€awesome ðŸ˜ƒstring with a few ðŸ˜‰emojis!&quot;; String newNickname = EmojiFilter.filterEmoji(nickname); System.out.println(&quot;newNickname: &quot;+newNickname); assertTrue(&quot;newNickname result: &quot; + newNickname, newNickname.equals(predictStr));&#125; æ–¹æ³•äºŒï¼šå¦‚æžœæ˜¯mavené¡¹ç›®ï¼Œåœ¨pomä¸­å¼•å…¥12345&lt;dependency&gt; &lt;groupId&gt;com.vdurmont&lt;/groupId&gt; &lt;artifactId&gt;emoji-java&lt;/artifactId&gt; &lt;version&gt;3.3.0&lt;/version&gt;&lt;/dependency&gt; ä½¿ç”¨åº“å°è£…çš„æ–¹æ³•ï¼š1String resultStr = EmojiParser.removeAllEmojis(str); EmojiParseræä¾›emojiå¤„ç†çš„å„ç§æ–¹æ³•ï¼Œæ„Ÿå…´è¶£è‡ªå·±è¯•ä¸‹ã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Springä½¿ç”¨hibernate-validatorå¯¹è¯·æ±‚å‚æ•°æ ¡éªŒ]]></title>
    <url>%2F2017%2F08%2F24%2FreqModel_bean%2F</url>
    <content type="text"><![CDATA[æœåŠ¡ç«¯æ”¶åˆ°é€šè¿‡æ‹¦æˆªå™¨çš„è¯·æ±‚åŽï¼Œç¬¬ä¸€æ­¥ï¼Œå³ä¸ºå¯¹è¯·æ±‚å‚æ•°çš„åˆæ³•æ€§æ ¡éªŒã€‚åˆæ³•æ€§æ ¡éªŒä¾æ¬¡ä¸ºä¸‰éƒ¨åˆ†ï¼š å‚æ•°æ˜¯å¦å­˜åœ¨ å‚æ•°ç±»åž‹æ˜¯å¦åˆæ³• å…¶ä»–å¤æ‚æ ¡éªŒ ä¸€èˆ¬çš„å‚æ•°æ ¡éªŒä¸¾ä¾‹å¦‚ä¸‹ï¼š1234567891011121314151617181920public HashMap&lt;String, Object&gt; roleInfo(HttpServletRequest request) &#123; HashMap&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;(); String roleId; try &#123; roleId = request.getParameter(&quot;id&quot;); &#125; catch (Throwable t) &#123; logger.error(&quot;ProxyController roleInfo args error:&quot; + t); result.put(&quot;result&quot;, StatusCode.ILLEGAL_PARAM.getValue()); result.put(&quot;description&quot;, StatusCode.ILLEGAL_PARAM.getDescription()); return result; &#125; if (!LegalUtil.isLegalRoleId(roleId)) &#123; logger.error(&quot;ProxyController roleinfo roleId error:&quot; + roleId); result.put(&quot;result&quot;, StatusCode.ILLEGAL_PARAM.getValue()); result.put(&quot;description&quot;, StatusCode.ILLEGAL_PARAM.getDescription()); return result; &#125; return proxyService.getRoleInfo(Integer.valueOf(request.getSession().getAttribute(&quot;agencyID&quot;).toString()), Integer.valueOf(roleId)); &#125; å¦‚æžœé‡‡ç”¨å¦‚ä¸‹æ–¹å¼æŽ¥å—ä¼ å…¥å‚æ•°ï¼Œçœ‹èµ·æ¥å¥½åƒå¯ä»¥è§£å†³æ ¡éªŒè‡ƒè‚¿çš„é—®é¢˜ï¼š123456789public HashMap&lt;String, Object&gt; roleInfo(@RequestParam(value = &quot;id&quot;) int id) &#123; if (!LegalUtil.isLegalRoleId(roleId)) &#123; logger.error(&quot;ProxyController roleinfo roleId error:&quot; + roleId); result.put(&quot;result&quot;, StatusCode.ILLEGAL_PARAM.getValue()); result.put(&quot;description&quot;, StatusCode.ILLEGAL_PARAM.getDescription()); return result; &#125; return proxyService.getRoleInfo(Integer.valueOf(request.getSession().getAttribute(&quot;agencyID&quot;).toString()), Integer.valueOf(roleId)); &#125; ä½†æ˜¯å¦‚æžœå‚æ•°è¿‡å¤šå‘¢ï¼Œä¼šå¯¼è‡´ä¼ å…¥å‚æ•°æŒ‰ä¸ªåˆ—å‡ºæ˜¾å¾—è¿‡é•¿ï¼Œè€Œæ˜¯è€¦åˆå¤ªç´§ï¼Œä¹Ÿæ— æ³•å¤ç”¨ã€‚ç»Ÿä¸€æå‡ºä¸ºModelç±»åž‹ï¼Œä½¿ç”¨hibernate-validatoræ ¡éªŒï¼ˆhibernate-validatorçš„å¼•å…¥åŠæ³¨è§£ä½¿ç”¨å‚ç…§å®˜æ–¹æ–‡æ¡£ï¼‰ï¼Œé‡‡ç”¨beanæ³¨å…¥æ–¹å¼è°ƒç”¨ï¼Œä½¿ä»£ç çœ‹èµ·æ¥ä¸é‚£ä¹ˆè‡ƒè‚¿ï¼Œå±‚æ¬¡åˆ†æ˜Žï¼ŒModelå¤§å¤šæ—¶å€™å¯ä»¥å¤ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š12345678910111213141516import javax.validation.constraints.NotNull;import javax.validation.constraints.Pattern;public class RoleInfoReq &#123; @Pattern(regexp = &quot;^[1-9]\\d&#123;6,9&#125;$&quot;, message = &quot;ç”¨æˆ·idä¸åˆæ³•&quot;) @NotNull private String id; public Integer getId() &#123; return Integer.valueOf(id); &#125; public void setId(String id) &#123; this.id = id; &#125;&#125; 1234//è°ƒç”¨public HashMap&lt;String, Object&gt; roleInfo(@Valid RoleInfoReq reqModel, HttpServletRequest request) &#123; return proxyService.getRoleInfo(Integer.valueOf(request.getSession().getAttribute(&quot;agencyID&quot;).toString()), reqModel.getId()); &#125; æœ‰æœ¨æœ‰è§‰å¾—å¾ˆæ¸…çˆ½~å¤æ‚çš„ä¾‹å­å¦‚ä¸‹ï¼šæå‡ºå‰ï¼š1234567891011121314151617181920212223242526272829303132 public HashMap&lt;String, Object&gt; chargeList(HttpServletRequest request, HttpSession session) &#123; HashMap&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;(); String idStr; String begintime; String endtime;String currentpage;String pagesize;String totalnum;String flag; try &#123; idStr = request.getParameter(&quot;id&quot;); begintime = request.getParameter(&quot;begintime&quot;); endtime = request.getParameter(&quot;endtime&quot;); currentpage = request.getParameter(&quot;currentpage&quot;); pagesize = request.getParameter(&quot;pagesize&quot;); totalnum = request.getParameter(&quot;totalnum&quot;); flag = request.getParameter(&quot;flag&quot;); &#125; catch (Throwable t) &#123; logger.error(&quot;ChargeController player chargeList args error:&quot; + t); result.put(&quot;result&quot;, StatusCode.ILLEGAL_PARAM.getValue()); result.put(&quot;description&quot;, StatusCode.ILLEGAL_PARAM.getDescription()); return result; &#125; if (!LegalUtil.isLegalIdIncludeZero(idStr) || !LegalUtil.isLegalDate(begintime) || !LegalUtil.isLegalDate(endtime) || !LegalUtil.isDigital(currentpage) || !LegalUtil.isDigital(pagesize) || !LegalUtil.isDigital(totalnum) || !LegalUtil.isDigital(flag)) &#123; result.put(&quot;result&quot;, StatusCode.ILLEGAL_PARAM.getValue()); result.put(&quot;description&quot;, StatusCode.ILLEGAL_PARAM.getDescription()); return result; &#125; å§å•¦å§å•¦ã€‚ã€‚ã€‚ å’•å™œå’•å™œã€‚ã€‚ã€‚ &#125; æå‡ºåŽï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102import javax.validation.constraints.Max;import javax.validation.constraints.NotNull;import javax.validation.constraints.Pattern;public class ChargeRecordsCardGivePlayerReq &#123; private final String dateformat = &quot;^(([0-9]&#123;3&#125;[1-9]|[0-9]&#123;2&#125;[1-9][0-9]|[0-9][1-9][0-9]&#123;2&#125;|[1-9][0-9]&#123;3&#125;)-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]&#123;2&#125;)(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))-02-29)$&quot;; private final String isDigit = &quot;^[0-9]*$&quot;; /** * 7-10ä½æ­£æ•´æ•°æˆ–0 */ @Pattern(regexp = &quot;^([1-9]\\d&#123;6,9&#125;)|(0)$&quot;, message = &quot;ç”¨æˆ·idä¸åˆæ³•&quot;) @NotNull private String id; /** * æ—¶é—´æ ¼å¼å¿…é¡»ä¸ºYYYY-MM-DD */ @Pattern(regexp = dateformat, message = &quot;æ—¶é—´æ ¼å¼ä¸åˆæ³•&quot;) @NotNull private String begintime; @Pattern(regexp = dateformat, message = &quot;æ—¶é—´æ ¼å¼ä¸åˆæ³•&quot;) @NotNull private String endtime; @Pattern(regexp = isDigit, message = &quot;å½“å‰é¡µï¼Œæ ¼å¼ä¸åˆæ³•&quot;) @Max(Integer.MAX_VALUE) @NotNull private String currentpage; @Pattern(regexp = isDigit, message = &quot;æ¯é¡µè®°å½•æ•°ï¼Œæ ¼å¼ä¸åˆæ³•&quot;) @Max(Integer.MAX_VALUE) @NotNull private String pagesize; @Pattern(regexp = isDigit, message = &quot;æ€»è®°å½•æ•°ï¼Œæ ¼å¼ä¸åˆæ³•&quot;) @Max(Integer.MAX_VALUE) @NotNull private String totalnum; @Pattern(regexp = &quot;^1|2$&quot;, message = &quot;æˆ¿å¡ç±»åž‹ä¸åˆæ³•&quot;) @NotNull private String flag; public String getBegintime() &#123; return begintime; &#125; public void setBegintime(String begintime) &#123; this.begintime = begintime; &#125; public String getEndtime() &#123; return endtime; &#125; public void setEndtime(String endtime) &#123; this.endtime = endtime; &#125; public Integer getCurrentpage() &#123; return Integer.valueOf(currentpage); &#125; public void setCurrentpage(String currentpage) &#123; this.currentpage = currentpage; &#125; public Integer getPagesize() &#123; return Integer.valueOf(pagesize); &#125; public void setPagesize(String pagesize) &#123; this.pagesize = pagesize; &#125; public Integer getTotalnum() &#123; return Integer.valueOf(totalnum); &#125; public void setTotalnum(String totalnum) &#123; this.totalnum = totalnum; &#125; public Integer getFlag() &#123; return Integer.valueOf(flag); &#125; public void setFlag(String flag) &#123; this.flag = flag; &#125; public Integer getId() &#123; return Integer.valueOf(id); &#125; public void setId(String id) &#123; this.id = id; &#125;&#125; 12345678//è°ƒç”¨public HashMap&lt;String, Object&gt; chargeList(@Valid ChargeRecordsCardGivePlayerReq reqModel, HttpSession session) &#123; if (reqModel.getFlag() == 1) &#123; return chargeService.getGivePlayerRecords(Integer.valueOf(session.getAttribute(&quot;agencyID&quot;).toString()), reqModel.getId(), reqModel.getBegintime(), reqModel.getEndtime(), reqModel.getCurrentpage(), reqModel.getPagesize(), reqModel.getTotalnum()); &#125; else &#123; return chargeService.getGiveManagerRecord(Integer.valueOf(session.getAttribute(&quot;agencyID&quot;).toString()), reqModel.getId(), reqModel.getBegintime(), reqModel.getEndtime(), reqModel.getCurrentpage(), reqModel.getPagesize(), reqModel.getTotalnum()); &#125; &#125; è‹¥å‚æ•°æ ¡éªŒä¸åˆæ³•ï¼Œè¿”å›žçŠ¶æ€ç 400ï¼Œå‡ºé”™æ—¶é—´ï¼Œé”™è¯¯åŽŸå› ç­‰è¯¦ç»†ä¿¡æ¯ï¼Œå¯¹æŽ¥è‰¯å¥½ã€‚æ³¨æ„ï¼Œè‹¥ä¸ºpostè¯·æ±‚ï¼Œä½¿ç”¨æ³¨è§£@Valid @ModelAttribute1public HashMap&lt;String, Object&gt; chargeList(@Valid @ModelAttribute ChargeRecordsCardGivePlayerReq reqModel, HttpSession session) &#123;&#125; è‹¥ä¸ºgetè¯·æ±‚ï¼Œä½¿ç”¨æ³¨è§£@Valid1public HashMap&lt;String, Object&gt; chargeList(@Valid ChargeRecordsCardGivePlayerReq reqModel, HttpSession session) &#123;&#125; æ¨¡æ‹Ÿå•çº¯å‘httpè¯·æ±‚ï¼Œä¸èµ°æµè§ˆå™¨ï¼Œä½¿ç”¨curlæˆ–è€…postmanï¼Œcurlå¯ä»¥çœ‹åˆ°è¯·æ±‚çš„è¯¦ç»†è¿‡ç¨‹ï¼Œpostmanå›¾å½¢ç•Œé¢ä¸”æœ‰åŽ†å²è®°å½•ï¼Œå¼€å‘ä¸­æŽ¨èä½¿ç”¨curlï¼Œä¸¤è€…çš†å¯ã€‚å¦‚ä»¥ä¸Šçš„chargeListå‡½æ•°çš„å‚æ•°æ ¡éªŒï¼Œæ¨¡æ‹Ÿè¯·æ±‚ï¼š1234567891011121314151617#æ­£ç¡®è¾“å…¥curl -v http://127.0.0.1:8091/guiyang/agentboot/charge/records/card/give/player?id=1234567&quot;&amp;&quot;begintime=2017-01-01&quot;&amp;&quot;endtime=2018-01-01&quot;&amp;&quot;currentpage=1&quot;&amp;&quot;pagesize=1&quot;&amp;&quot;totalnum=1&quot;&amp;&quot;flag=1#ç¼ºå°‘å‚æ•°curl -v http://127.0.0.1:8091/guiyang/agentboot/charge/records/card/give/player?id=1234567&quot;&amp;&quot;begintime=2017-01-01&quot;&amp;&quot;endtime=2018-01-01&quot;&amp;&quot;pagesize=1&quot;&amp;&quot;totalnum=1&quot;&amp;&quot;flag=1#ç”¨æˆ·idä¸åˆæ³•curl -v http://127.0.0.1:8091/guiyang/agentboot/charge/records/card/give/player?id=124534567&quot;&amp;&quot;begintime=2017-01-01&quot;&amp;&quot;endtime=2018-01-01&quot;&amp;&quot;currentpage=1&quot;&amp;&quot;pagesize=1&quot;&amp;&quot;totalnum=1&quot;&amp;&quot;flag=1#æ—¶é—´æ ¼å¼ä¸åˆæ³•curl -v http://127.0.0.1:8091/guiyang/agentboot/charge/records/card/give/player?id=1234567&quot;&amp;&quot;begintime=2017-01-01&quot;&amp;&quot;endtime=2018-0101&quot;&amp;&quot;currentpage=1&quot;&amp;&quot;pagesize=1&quot;&amp;&quot;totalnum=1&quot;&amp;&quot;flag=1#æ€»æ•°é‡æ ¼å¼ä¸åˆæ³•curl -v http://127.0.0.1:8091/guiyang/agentboot/charge/records/card/give/player?id=1234567&quot;&amp;&quot;begintime=2017-01-01&quot;&amp;&quot;endtime=2018-01-01&quot;&amp;&quot;currentpage=-1&quot;&amp;&quot;pagesize=1&quot;&amp;&quot;totalnum=1&quot;&amp;&quot;flag=1#å¡ç±»åž‹ä¸åˆæ³•curl -v http://127.0.0.1:8091/guiyang/agentboot/charge/records/card/give/player?id=1234567&quot;&amp;&quot;begintime=2017-01-01&quot;&amp;&quot;endtime=2018-01-01&quot;&amp;&quot;currentpage=1&quot;&amp;&quot;pagesize=1&quot;&amp;&quot;totalnum=1&quot;&amp;&quot;flag=0 è¯·æ±‚æ ¼å¼ç»Ÿä¸€æå‡ºModelï¼ŒåŒæ ·åœ°ï¼Œè¿”å›žæ ¼å¼ä¹Ÿå¯ç»Ÿä¸€æ ¼å¼ï¼Œæå‡ºModelï¼Œè¿™å—ä¸å¤šä»‹ç»ï¼Œæ„Ÿå…´è¶£çš„å°è¯•ä¸€ä¸‹ã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaä¸­RSAçš„ä½¿ç”¨]]></title>
    <url>%2F2017%2F08%2F20%2Frsa_java%2F</url>
    <content type="text"><![CDATA[RSAä¸ºéžå¯¹ç§°åŠ å¯†ï¼Œæ ¹æ®åº”ç”¨åœºæ™¯ä¸åŒï¼Œåˆ†å¦‚ä¸‹ä¸¤ç§ï¼š1.ç­¾åï¼šä½¿ç”¨ç§é’¥åŠ å¯†ï¼Œå…¬é’¥è§£å¯†ã€‚ç”¨äºŽéªŒè¯ç§é’¥æŒæœ‰è€…çš„èº«ä»½ï¼Œé˜²æ­¢ç§é’¥æ‰€æœ‰è€…å‘å¸ƒçš„å†…å®¹è¢«ç¯¡æ”¹ï¼Œä½†æ˜¯å…¬é’¥ä¸€èˆ¬æ˜¯å…¬å¼€çš„ï¼Œæ‰€ä»¥æ— æ³•ä¿è¯åŠ å¯†å†…å®¹ä¸è¢«å…¶ä»–äººèŽ·å¾—ã€‚2.åŠ å¯†ï¼šå…¬é’¥åŠ å¯†ï¼Œç§é’¥è§£å¯†ã€‚åŠ å¯†å†…å®¹æ— æ³•è¢«ä»–äººèŽ·å¾—ï¼Œä½†æ˜¯ä¿¡æ¯å¯èƒ½è¢«ä»–äººç¯¡æ”¹ä¼ªé€ ã€‚ä»¥ä¸‹ä¸ºJavaä¸­RSAç®—æ³•çš„å®žçŽ°:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193public class RSACoder &#123; public static final String KEY_ALGORITHM = &quot;RSA&quot;; public static final String SIGNATURE_ALGORITHM = &quot;MD5withRSA&quot;; private static final String PUBLIC_KEY = &quot;RSAPublicKey&quot;; private static final String PRIVATE_KEY = &quot;RSAPrivateKey&quot;; /** * åˆå§‹åŒ–å¯†é’¥ * * @return * @throws Exception */ public static Map&lt;String, Object&gt; initKey() throws Exception &#123; KeyPairGenerator keyPairGen = KeyPairGenerator.getInstance(KEY_ALGORITHM); keyPairGen.initialize(512); KeyPair keyPair = keyPairGen.generateKeyPair(); // å…¬é’¥ RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic(); // ç§é’¥ RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate(); Map&lt;String, Object&gt; keyMap = new HashMap&lt;String, Object&gt;(2); keyMap.put(PUBLIC_KEY, publicKey); keyMap.put(PRIVATE_KEY, privateKey); return keyMap; &#125; /** * å–å¾—ç§é’¥ * * @param keyMap * @return * @throws Exception */ public static String getPrivateKey(Map&lt;String, Object&gt; keyMap) throws Exception &#123; Key key = (Key) keyMap.get(PRIVATE_KEY); return encryptHex(key.getEncoded()); &#125; /** * å–å¾—å…¬é’¥ * * @param keyMap * @return * @throws Exception */ public static String getPublicKey(Map&lt;String, Object&gt; keyMap) throws Exception &#123; Key key = (Key) keyMap.get(PUBLIC_KEY); return encryptHex(key.getEncoded()); &#125; /** * from koduser åŠ å¯†&lt;br&gt; * ç”¨ç§é’¥åŠ å¯† * * @param data * @param key * @return * @throws Exception */ public static byte[] encryptByPrivateKey(byte[] data, String key) throws Exception &#123; // å¯¹å¯†é’¥è§£å¯† byte[] keyBytes = decryptHex(key); // å–å¾—ç§é’¥ PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec); // å¯¹æ•°æ®åŠ å¯† Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm()); cipher.init(Cipher.ENCRYPT_MODE, privateKey); return cipher.doFinal(data); &#125; /** * ç”¨ç§é’¥è§£å¯† * * @param data * @param key * @return * @throws Exception */ public static byte[] decryptByPrivateKey(byte[] data, String key) throws Exception &#123; byte[] keyBytes = decryptHex(key); PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec); Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm()); cipher.init(Cipher.DECRYPT_MODE, privateKey); return cipher.doFinal(data); &#125; /** * ç”¨å…¬é’¥åŠ å¯† * * @param data * @param key * @return * @throws Exception */ public static byte[] encryptByPublicKey(byte[] data, String key) throws Exception &#123; byte[] keyBytes = decryptHex(key); // å–å¾—å…¬é’¥ X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); Key publicKey = keyFactory.generatePublic(x509KeySpec); // å¯¹æ•°æ®åŠ å¯† Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm()); cipher.init(Cipher.ENCRYPT_MODE, publicKey); return cipher.doFinal(data); &#125; /** * ç”¨å…¬é’¥è§£å¯† * * @param data * @param key * @return * @throws Exception */ public static byte[] decryptByPublicKey(byte[] data, String key) throws Exception &#123; byte[] keyBytes = decryptHex(key); // å–å¾—å…¬é’¥ X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); Key publicKey = keyFactory.generatePublic(x509KeySpec); // å¯¹æ•°æ®è§£å¯† Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm()); cipher.init(Cipher.DECRYPT_MODE, publicKey); return cipher.doFinal(data); &#125; /** * ç”¨ç§é’¥æ¥ç­¾å * * @param data * @param privateKey * @return * @throws Exception */ public static String sign(byte[] data, String privateKey) throws Exception &#123; byte[] keyBytes = decryptHex(privateKey); PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); PrivateKey priKey = keyFactory.generatePrivate(pkcs8KeySpec); Signature signature = Signature.getInstance(SIGNATURE_ALGORITHM); signature.initSign(priKey); signature.update(data); return encryptHex(signature.sign()); &#125; /** * ç”¨å…¬é’¥æ¥éªŒç­¾ * * @param data * @param publicKey * @param sign * @return * @throws Exception */ public static boolean verify(byte[] data, String publicKey, String sign) throws Exception &#123; byte[] keyBytes = decryptHex(publicKey); X509EncodedKeySpec keySpec = new X509EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); PublicKey pubKey = keyFactory.generatePublic(keySpec); Signature signature = Signature.getInstance(SIGNATURE_ALGORITHM); signature.initVerify(pubKey); signature.update(data); return signature.verify(decryptHex(sign)); &#125;&#125; æµ‹è¯•ä»¥ä¸Šæ–¹æ³•å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546/** * ç§é’¥ç­¾åï¼Œå…¬é’¥éªŒç­¾ */public void testSignVerify() throws Exception &#123; Map&lt;String, Object&gt; key = RSACoder.initKey(); String publicKey = RSACoder.getPublicKey(key); String privateKey = RSACoder.getPrivateKey(key); String data = &quot;testData&quot;; String sign = RSACoder.sign(data.getBytes(), privateKey); RSACoder.verify(data.getBytes(), publicKey, sign); assertTrue(RSACoder.verify(data.getBytes(), publicKey, sign));&#125;/** * ç§é’¥åŠ å¯†ï¼Œå…¬é’¥è§£å¯† * * @throws Exception */public void testPrivateEncryt() throws Exception &#123; Map&lt;String, Object&gt; key = RSACoder.initKey(); String publicKey = RSACoder.getPublicKey(key); String privateKey = RSACoder.getPrivateKey(key); String data = &quot;testDataPrivate&quot;; byte[] encryDataByte = RSACoder.encryptByPrivateKey(data.getBytes(), privateKey); byte[] decryDataByte = RSACoder.decryptByPublicKey(encryDataByte, publicKey); String decryData = new String(decryDataByte); System.out.println(decryData); assertTrue(decryData.equals(data));&#125;/** * å…¬é’¥åŠ å¯†ï¼Œç§é’¥è§£å¯† */public void testPublicEncryt() throws Exception &#123; Map&lt;String, Object&gt; key = RSACoder.initKey(); String publicKey = RSACoder.getPublicKey(key); String privateKey = RSACoder.getPrivateKey(key); String data = &quot;testDataPublic&quot;; byte[] encryDataByte = RSACoder.encryptByPublicKey(data.getBytes(), publicKey); byte[] decryDataByte = RSACoder.decryptByPrivateKey(encryDataByte, privateKey); String decryData = new String(decryDataByte); System.out.println(decryData); assertTrue(decryData.equals(data));&#125; ä¸€èˆ¬ä½¿ç”¨ç§é’¥ç­¾åï¼Œå°†ç­¾åå†…å®¹ä¸€åŒå‘é€ç»™æŽ¥æ”¶è€…éªŒç­¾ï¼Œè¿™æ ·ä¿è¯äº†å‘é€è€…çš„èº«ä»½æœ‰æ•ˆæ€§ï¼ˆæœåŠ¡å™¨Aç»™æœåŠ¡å™¨Bå‘é€å†…å®¹ï¼Œä½¿ç”¨æœåŠ¡å™¨Açš„å…¬é’¥ç§é’¥ï¼‰ã€‚å¦‚æžœå…¬é’¥ä¸å¯¹å¤–æš´éœ²ï¼ŒæœåŠ¡å™¨ä¹‹é—´é‡‡ç”¨ç›¸äº’ä¿¡ä»»çš„æœºåˆ¶ï¼Œå„è‡ªä¿ç•™å¯¹æ–¹çš„å…¬é’¥ï¼Œé‚£ä¹ˆå¯é‡‡å–å…¬é’¥åŠ å¯†ç§é’¥è§£å¯†çš„æ–¹å¼ï¼ˆæœåŠ¡å™¨Aç»™æœåŠ¡å™¨Bå‘é€å†…å®¹ï¼Œä½¿ç”¨æœåŠ¡å™¨Bçš„å…¬é’¥ç§é’¥ï¼‰ã€‚æ³¨ï¼šåŠ è§£å¯†å‚æ•°åŠç»“æžœç»å¸¸ä¸ºå­—èŠ‚æ•°ç»„ï¼Œæ­¤æ—¶æ¶‰åŠå­—èŠ‚æ•°ç»„ä¸Žå­—ç¬¦ä¸²çš„æ¯”è¾ƒï¼Œé‚£ä¹ˆå°±è¦è½¬æ¢ç±»åž‹ã€‚String aè½¬byte[] bä¸ºæ–¹æ³•ä¸ºa.getBytes(),getBytes()å‚æ•°ä¸ºç¼–ç ç±»åž‹ï¼Œæ— å‚åˆ™ä½¿ç”¨çŽ¯å¢ƒç¼–ç ï¼ˆCharset.defaultCharset()æŸ¥çœ‹å½“å‰ç³»ç»Ÿç¼–ç ï¼‰ï¼Œä»Žjdkæºç çœ‹ï¼Œè‹¥ç¼–ç ä¸æ”¯æŒï¼Œåˆ™ä½¿ç”¨ISO-8859-1ç¼–ç ï¼Œå»ºè®®åˆ¶å®šå…¼å®¹çš„UTF-8ç¼–ç ã€‚byte[] bè½¬String açš„æ–¹æ³•ä¸ºnew String(b),åŒæ ·å¯æŒ‡å®šç¼–ç ï¼Œåˆ‡å‹¿ä½¿ç”¨b.toString(),å­—èŠ‚æ•°ç»„æœªè¦†ç›–Objectçš„toStringæ–¹æ³•ï¼ŒtoString()èŽ·å¾—çš„æ˜¯å†…å­˜åœ°å€ï¼ˆä¹Ÿéžå®žé™…ç‰©ç†åœ°å€ï¼Œåªæ˜¯çº¦å®šä¸ºgetClass().getName() + â€œ@â€ + Integer.toHexString(hashCode())ï¼‰ã€‚ æ‹“å±•æŽ¨èä¸€ä¸ªJavaå·¥å…·ç±»ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œå…¶ä¸­å°è£…äº†å„ç§åŠ è§£å¯†æ–¹æ³•ã€‚ç®€å•æµ‹è¯•å…¶AESç®—æ³•ä¸º123456789public void testAESHex() throws UnsupportedEncodingException &#123; String content = &quot;justForTest&quot;; byte[] key = SecureUtil.generateKey(SymmetricAlgorithm.AES.getValue()).getEncoded(); System.out.println(&quot;key length: &quot; + key.length); SymmetricCrypto aes = new SymmetricCrypto(SymmetricAlgorithm.AES, key); String encryptHex = aes.encryptHex(content); String decrypt = aes.decryptStr(encryptHex, CharsetUtil.CHARSET_UTF_8); assertTrue(decrypt.equals(content));&#125; aesåŠ è§£å¯†encryptHexå¯¹åº”decryptStrï¼Œencryptå¯¹åº”decryptï¼Œä»¥ä¸Škeyä¸ºå·¥å…·ç±»ç”Ÿæˆçš„ï¼Œè‹¥è‡ªå·±æŒ‡å®škeyï¼Œåˆ™keyå¿…é¡»ä¸º16ã€24ã€32ä½ç­‰ï¼Œå¦‚ä¸‹ctä¸ºæ¯«ç§’çº§çš„Unixæ—¶é—´æˆ³ï¼Œåªæœ‰13ä½ï¼Œä¸ºå‡‘è¶³16ä½ï¼ŒéšæœºåŠ ä¸Š3ä½ï¼Œå¦‚â€123â€:12345678910public void testAES1() throws UnsupportedEncodingException &#123; String content = &quot;justForTest&quot;; long ct = System.currentTimeMillis(); //13ä½ String key = String.valueOf(ct) + &quot;123&quot;; SymmetricCrypto aes = new SymmetricCrypto(SymmetricAlgorithm.AES, key.getBytes(&quot;ISO-8859-1&quot;)); byte[] encrypt = aes.encrypt(content); byte[] decrypt = aes.decrypt(encrypt); String result = new String(decrypt, &quot;ISO-8859-1&quot;); assertTrue(result.equals(content));&#125;]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mysqlåˆ†é¡µ]]></title>
    <url>%2F2017%2F08%2F17%2Fpaging_mysql%2F</url>
    <content type="text"><![CDATA[mysqlä½¿ç”¨limitï¼Œoffsetå®žçŽ°åˆ†é¡µã€‚limt 3 offset 5 æ•ˆæžœåŒ limit 5,3éƒ½è¡¨ç¤ºåç§»5ï¼Œä»Žç¬¬6æ¡å¼€å§‹è¯»ï¼Œè¯»3æ¡è®°å½•ã€‚ç¤ºä¾‹å¦‚ä¸‹:12345678910selectdate_format(createTime, &quot;%Y-%m-%d %T&quot;) as time,buyerId,commissionfrompartner_commission_recordwheredate_format(createTime, &quot;%Y-%m-%d&quot;) between #&#123;date_from&#125; and #&#123;date_to&#125;and agencyId = #&#123;agencyId&#125; and (rebateLV=1 or rebateLV=2) and isCancel=0order bycreateTime desclimit #&#123;limit&#125; offset #&#123;offset&#125;; ORMä½¿ç”¨Mybatisåˆ™å»ºè®®ä½¿ç”¨Mybatisçš„åŠ¨æ€sqlè¯­å¥ï¼Œé€šè¿‡æ ‡ç­¾å®žçŽ°ä¸åŒæƒ…å½¢çš„sqlå¤ç”¨ã€‚ç¤ºä¾‹å¦‚ä¸‹:12345678910111213141516171819&lt;select id=&quot;addCardPlayerRecord&quot; parameterType=&quot;HashMap&quot; resultType=&quot;HashMap&quot;&gt; select playerID,amount,date_format(time, &quot;%Y-%m-%d %T&quot;) as time from add_player_card_log where agency = #&#123;agencyID&#125; &lt;if test=&quot;null!=playerID&quot;&gt; and playerID = #&#123;playerID&#125; &lt;/if&gt; &lt;if test=&quot;null!=date_from and null!=date_to&quot;&gt; and date_format(time, &quot;%Y-%m-%d&quot;) between #&#123;date_from&#125; and #&#123;date_to&#125; &lt;/if&gt; order by add_player_card_log.time desc &lt;if test=&quot;null!=limit and null!=offset&quot;&gt; limit #&#123;limit&#125; offset #&#123;offset&#125;; &lt;/if&gt;&lt;/select&gt;]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>DataBase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mysqlæ’å…¥æµ‹è¯•æ•°æ®ç¤ºä¾‹]]></title>
    <url>%2F2017%2F08%2F08%2Fmysql_insert%2F</url>
    <content type="text"><![CDATA[åœ¨æŽ¥å£è‡ªæµ‹åŠè”è°ƒé˜¶æ®µï¼Œéœ€è¦ä¼ªé€ æ•°æ®ä¾›æµ‹è¯•ä½¿ç”¨ï¼Œä»¥å¦‚ä¸‹ç®€å•ç¨‹åºç¤ºä¾‹å¾ªçŽ¯æ’å…¥æ•°æ®ï¼š1234567891011121314drop procedure if exists test_insert;DELIMITER //create procedure test_insert()begindeclare i int;set i = 1000;while i&lt;1050 doinsert into account(agencyID,userName,referrer,account,weixin,card,createTime,verification,status,payStatus,firstLoginStatus) values(i,concat(&quot;test&quot;,i),2002428,concat(18841000,i),concat(&quot;testweixin&quot;,i),1000,date(now()),1,3,1,1);set i = i+1;end while;end //DELIMITER ;call test_insert(); æ³¨é‡Šï¼šDELIMITERä½œç”¨æ˜¯å‘Šè¯‰Mysqlè§£é‡Šå™¨ï¼Œè¯¥æ®µå‘½ä»¤æ˜¯å¦å·²ç»ç»“æŸã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œdelimiteræ˜¯åˆ†å·;mysqlä¸€é‡åˆ°åˆ†å·ï¼Œå°±è¦è‡ªåŠ¨æ‰§è¡Œï¼Œæ‰€ä»¥éœ€è¦äº‹å…ˆæŠŠdelimiteræ¢æˆå…¶å®ƒç¬¦å·ï¼Œå¦‚//æˆ–$$ï¼Œæœ€åŽå†é‡ç½®ä¸ºé»˜è®¤å€¼ã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>DataBase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®€è°ˆmysqlä¸­utf8mb4]]></title>
    <url>%2F2017%2F08%2F06%2Futf8mb4%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å¼€å‘é‡åˆ°å½“Mysqlå­˜å‚¨å¾®ä¿¡æ˜µç§°,è€Œå¾®ä¿¡æ˜µç§°æœ‰emojiè¡¨æƒ…ç¬¦å·æ—¶ï¼Œæ•°æ®åº“å­˜å‚¨æ•°æ®å‡ºçŽ°ä¹±ç ã€‚åŽŸå› æ˜¯mysqlæ”¯æŒçš„utf8ç¼–ç æœ€å¤§é•¿åº¦ä¸º3å­—èŠ‚ï¼Œå¦‚æžœé‡4å­—èŠ‚çš„å®½å­—ç¬¦(emojiè¡¨æƒ…ç¬¦å·ã€ä¸å¸¸ç”¨çš„æ±‰å­—ã€æ–°å¢žçš„Unicodeå­—ç¬¦ç­‰)å°±ä¼šæ’å…¥å¼‚å¸¸ã€‚Mysqlåœ¨5.5.3ä¹‹åŽå¢žåŠ utf8mb4ï¼ˆmost bytes 4ï¼‰ç¼–ç ,ä¸“é—¨ç”¨äºŽå…¼å®¹å››å­—èŠ‚çš„unicodeï¼Œä¸€èˆ¬æƒ…å†µã€‚ä¸ºäº†èŠ‚çœç©ºé—´ï¼Œä½¿ç”¨utf8å³å¯ï¼Œä½†æ˜¯å»ºè®®ä½¿ç”¨utf8mb4ã€‚ Linuxä¸‹æ›´æ”¹mysqlç¼–ç æ–¹å¼ä½¿ç”¨Linuxçš„å‘è¡Œç‰ˆæœ¬ä¸ºCentos é¦–å…ˆæŸ¥çœ‹mysqlç‰ˆæœ¬ï¼Œæ˜¯å¦æ”¯æŒutf8mb4ï¼ˆ5.5.3ç‰ˆæœ¬åŠä»¥ä¸Šï¼‰ã€‚æŸ¥çœ‹ç‰ˆæœ¬ç®€æ˜“æ–¹æ³•ï¼šç»ˆç«¯ä¸‹ï¼šmysql -Vmysqlä¸‹:status; æˆ– select version(); ä¿®æ”¹mysqlé…ç½®æ–‡ä»¶ä¿®æ”¹my.conf(windowsä¸‹ä¸ºmy.ini)ä¿®æ”¹å‰åŽçš„é…ç½®æ–‡ä»¶åŠç³»ç»Ÿç¼–ç åˆ†åˆ«å¦‚ä¸‹ï¼šä¿®æ”¹å‰ç¼–ç ï¼šä¿®æ”¹å‰é…ç½®æ–‡ä»¶ï¼šä¿®æ”¹åŽçš„ç¼–ç ï¼šä¿®æ”¹åŽçš„é…ç½®æ–‡ä»¶ï¼š ä¿®æ”¹databaseã€tableåŠcolumnçš„å­—ç¬¦é›†123ALTER DATABASE database_name CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci;ALTER TABLE table_name CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;ALTER TABLE table_name CHANGE column_name VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci; é‡å¯mysql1service mysql restart æˆ– systemctl restart mysqld.service è‹¥æ›´æ–°sqlï¼ŒæŒ‡å®šç¼–ç æ–¹å¼ä¸ºutf8mb41mysql -uyourName -pyourPassword --default-character-set=utf8mb4 mahjongforagency &lt; /root/update.sql]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>DataBase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaè§£æžxml]]></title>
    <url>%2F2017%2F07%2F08%2Fjava_xml%2F</url>
    <content type="text"><![CDATA[å¦‚ä¸‹xmlä¸ºä¾‹ï¼š123456789&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;datasoruce&gt; &lt;property name=&quot;driver&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt; &lt;property name=&quot;url&quot;&gt; jdbc:mysql://127.0.0.1:3306/poker?useUnicode=true&amp;amp;characterEncoding=utf8&amp;amp;useSSL=true &lt;/property&gt; &lt;property name=&quot;username&quot;&gt;root&lt;/property&gt; &lt;property name=&quot;password&quot;&gt;root&lt;/property&gt;&lt;/datasoruce&gt; è§£æžå¼•å…¥dom4j,è¿™é‡Œä½¿ç”¨çš„ä¸º2.0.0ç‰ˆæœ¬ï¼Œå…·ä½“æ–‡æ¡£åˆ°ç¤¾åŒºæŸ¥çœ‹ï¼Œgithubå·²æœ‰æœ€æ–°2.0.1ç‰ˆæœ¬ï¼Œdom4jæ›´æ–°å¾ˆæ…¢ï¼Œä¹Ÿå¯ä»¥è¯´æ¯”è¾ƒç¨³å®šã€‚import org.dom4j.Document;import org.dom4j.DocumentException;import org.dom4j.Element;import org.dom4j.io.SAXReader;æ—¥å¿—è¾“å‡ºä½¿ç”¨ï¼šimport org.slf4j.Logger;import org.slf4j.LoggerFactory;è§£æžç±»å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425262728public class XmlParser&#123; private static final Logger logger = LoggerFactory.getLogger(XmlParser.class); public static HashMap&lt;String, String&gt; parse(InputStream inputStream) &#123; SAXReader reader = new SAXReader(); Document document = null; try &#123; document = reader.read(inputStream); &#125; catch (DocumentException e) &#123; logger.error(&quot;parse xml error: &#123;&#125;&quot;, e); &#125; Element root = document.getRootElement(); List nodes = root.elements(&quot;property&quot;); Iterator&lt;Element&gt; it = nodes.iterator(); HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;(); while (it.hasNext()) &#123; Element element = it.next(); map.put(element.attribute(&quot;name&quot;).getText(), element.getStringValue()); &#125; return map; &#125;&#125; å¤–å±‚è°ƒç”¨ï¼š12InputStream inputStream = DbManager.class.getResourceAsStream(&quot;/datasource.xml&quot;);HashMap&lt;String, String&gt; map = XmlParser.parse(inputStream); å¦å¤–ï¼Œå¦‚æžœéªŒè¯æ‹¿åˆ°xmlçš„åˆæ³•æ€§ï¼Œåˆ™å¦‚ä¸‹ï¼Œå°†è¾“å…¥æµè§£æžä¸ºå­—ç¬¦æµè¾“å‡ºï¼Œå¼•å…¥com.google.common.io.CharStreams;12345678910// è¾“å‡ºè¿žæŽ¥æ•°æ®åº“çš„é…ç½®æ–‡ä»¶InputStream inputStream = DbManager.class.getResourceAsStream(&quot;/datasource.xml&quot;);try &#123; String text = CharStreams.toString(new InputStreamReader(inputStream, &quot;UTF-8&quot;)); logger.info(&quot;dataSource.xml str: \n&#123;&#125;&quot;,text);&#125; catch (IOException e) &#123; logger.error(&quot;dataSource.xml IOException e -&gt;&#123;&#125;&quot;, e);&#125;inputStream = DbManager.class.getResourceAsStream(&quot;/datasource.xml&quot;);HashMap&lt;String, String&gt; map = XmlParser.parse(inputStream); String text = CharStreams.toString(new InputStreamReader(inputStream, â€œUTF-8â€));å·²ç»å°†è¾“å…¥æµè¯»å–å®Œæ¯•,å·²åˆ°æµçš„ç»“å°¾ï¼Œä¸å¯ç›´æŽ¥å†æ¬¡ä½¿ç”¨ã€‚éœ€é‡æ–°èŽ·å–inputStream = DbManager.class.getResourceAsStream(â€œ/datasource.xmlâ€); è¡¥å……ï¼Œä¸Šä¸€æ­¥æ‰§è¡Œäº†ä¸¤æ¬¡inputStream = DbManager.class.getResourceAsStream(â€œ/datasource.xmlâ€);æ•ˆçŽ‡å¾ˆä½Ž,çœ‹èµ·æ¥ä¹Ÿå¾ˆå‚»ã€‚åˆçœ‹äº†ä¸‹inputStreamæœ‰mark/resetæ–¹æ³•ï¼Œè§£å†³äº†æˆ‘çš„é—®é¢˜ã€‚å¦‚ä¸‹ï¼š1234567891011inputStream = DbManager.class.getResourceAsStream(&quot;/datasource.xml&quot;);try &#123; // inputStream.markSupported(); inputStream.mark(inputStream.available()); String text = CharStreams.toString(new InputStreamReader(inputStream, &quot;UTF-8&quot;)); inputStream.reset(); logger.info(&quot;dataSource.xml str: \n&#123;&#125;&quot;,text);&#125; catch (IOException e) &#123; logger.error(&quot;dataSource.xml IOException e -&gt;&#123;&#125;&quot;, e);&#125;HashMap&lt;String, String&gt; map = XmlParser.parse(inputStream); InputStreamæœ¬èº«æä¾›ä¸‰ä¸ªæŽ¥å£ markSupported()ï¼›InputStreamæ˜¯å¦æ”¯æŒmarkï¼Œé»˜è®¤ä¸æ”¯æŒ mark(int readLimit);ç”¨äºŽæ ‡è®°å½“å‰ä½ç½®ï¼Œåœ¨è¯»å–ä¸€å®šæ•°é‡çš„æ•°æ®(å°äºŽreadlimitçš„æ•°æ®)åŽä½¿ç”¨resetå¯ä»¥å›žåˆ°markæ ‡è®°çš„ä½ç½®ã€‚ reset()ï¼›å›žåˆ°markæ ‡è®°ä½ç½®ã€‚ å­ç±»éœ€è¦æ”¯æŒmarkå¿…é¡»é‡å†™è¿™ä¸‰ä¸ªæ–¹æ³•ã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsè§£æžxml]]></title>
    <url>%2F2017%2F07%2F06%2Fjs_xml%2F</url>
    <content type="text"><![CDATA[jsè§£æžxmlå­—ç¬¦ä¸²ç¤ºä¾‹ä¸ºDOMParser.parseFromString()çš„ç®€å•ä½¿ç”¨ã€‚ä»¥ä¸‹ç”¨åˆ°ES6çš„å¤šè¡Œå­—ç¬¦ä¸²ï¼Œæ³¨æ„åŒ…å«strå€¼çš„ä¸¤ä¸ªç‚¹æ˜¯Tabé”®ä¸Šé¢ã€æ•°å­—é”®1å·¦è¾¹çš„æŒ‰é”®ï¼Œè€Œä¸æ˜¯å•å¼•å·ã€‚1234567891011121314151617181920212223242526272829303132333435function testXmlStr()&#123; var str = `&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;root&gt; &lt;province name=&quot;åŒ—äº¬ç›´è¾–å¸‚&quot;&gt; &lt;city&gt;æ˜Œå¹³åŒº&lt;/city&gt; &lt;city&gt;æœé˜³åŒº&lt;/city&gt; &lt;city&gt;å´‡æ–‡åŒº&lt;/city&gt; &lt;city&gt;å¤§å…´åŒº&lt;/city&gt; &lt;city&gt;ä¸œåŸŽåŒº&lt;/city&gt; &lt;city&gt;æˆ¿å±±åŒº&lt;/city&gt; &lt;city&gt;ä¸°å°åŒº&lt;/city&gt; &lt;city&gt;æµ·æ·€åŒº&lt;/city&gt; &lt;city&gt;æ€€æŸ”åŒº&lt;/city&gt; &lt;city&gt;é—¨å¤´æ²ŸåŒº&lt;/city&gt; &lt;city&gt;å¯†äº‘åŒº&lt;/city&gt; &lt;city&gt;å¹³è°·åŒº&lt;/city&gt; &lt;city&gt;çŸ³æ™¯å±±åŒº&lt;/city&gt; &lt;city&gt;é¡ºä¹‰åŒº&lt;/city&gt; &lt;city&gt;é€šå·žåŒº&lt;/city&gt; &lt;city&gt;è¥¿åŸŽåŒº&lt;/city&gt; &lt;city&gt;å®£æ­¦åŒº&lt;/city&gt; &lt;city&gt;å»¶åº†åŒº&lt;/city&gt; &lt;/province&gt;&lt;/root&gt;`; //åˆ›å»ºæ–‡æ¡£å¯¹è±¡ var parser=new DOMParser(); var xmlDoc=parser.parseFromString(str,&quot;text/xml&quot;); //æå–æ•°æ® var countrys = xmlDoc.getElementsByTagName(&apos;city&apos;); var arr = []; //è¾“å‡ºæ•°æ® for (var i = 0; i &lt; countrys.length; i++) &#123; arr.push(countrys[i].textContent); &#125;; console.log(arr);&#125; jsè§£æžæœ¬åœ°xmlæ–‡ä»¶è¦è§£æžçš„xmlæ–‡ä»¶éƒ¨åˆ†æ•°æ®å¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;root&gt; &lt;province name=&quot;åŒ—äº¬ç›´è¾–å¸‚&quot;&gt; &lt;city&gt;æ˜Œå¹³åŒº&lt;/city&gt; &lt;city&gt;æœé˜³åŒº&lt;/city&gt; &lt;city&gt;å´‡æ–‡åŒº&lt;/city&gt; &lt;city&gt;å¤§å…´åŒº&lt;/city&gt; &lt;city&gt;ä¸œåŸŽåŒº&lt;/city&gt; &lt;city&gt;æˆ¿å±±åŒº&lt;/city&gt; &lt;city&gt;ä¸°å°åŒº&lt;/city&gt; &lt;city&gt;æµ·æ·€åŒº&lt;/city&gt; &lt;city&gt;æ€€æŸ”åŒº&lt;/city&gt; &lt;city&gt;é—¨å¤´æ²ŸåŒº&lt;/city&gt; &lt;city&gt;å¯†äº‘åŒº&lt;/city&gt; &lt;city&gt;å¹³è°·åŒº&lt;/city&gt; &lt;city&gt;çŸ³æ™¯å±±åŒº&lt;/city&gt; &lt;city&gt;é¡ºä¹‰åŒº&lt;/city&gt; &lt;city&gt;é€šå·žåŒº&lt;/city&gt; &lt;city&gt;è¥¿åŸŽåŒº&lt;/city&gt; &lt;city&gt;å®£æ­¦åŒº&lt;/city&gt; &lt;city&gt;å»¶åº†åŒº&lt;/city&gt; &lt;/province&gt; &lt;province name=&quot;ä¸Šæµ·ç›´è¾–å¸‚&quot;&gt; &lt;city&gt;å®å±±åŒº&lt;/city&gt; &lt;city&gt;é•¿å®åŒº&lt;/city&gt; &lt;city&gt;å´‡æ˜ŽåŽ¿&lt;/city&gt; &lt;city&gt;å¥‰è´¤åŒº&lt;/city&gt; &lt;city&gt;è™¹å£åŒº&lt;/city&gt; &lt;city&gt;é»„æµ¦åŒº&lt;/city&gt; &lt;city&gt;å˜‰å®šåŒº&lt;/city&gt; &lt;city&gt;é‡‘å±±åŒº&lt;/city&gt; &lt;city&gt;é™å®‰åŒº&lt;/city&gt; &lt;city&gt;å¢æ¹¾åŒº&lt;/city&gt; &lt;city&gt;é—µè¡ŒåŒº&lt;/city&gt; &lt;city&gt;å—æ±‡åŒº&lt;/city&gt; &lt;city&gt;æµ¦ä¸œæ–°åŒº&lt;/city&gt; &lt;city&gt;æ™®é™€åŒº&lt;/city&gt; &lt;city&gt;é’æµ¦åŒº&lt;/city&gt; &lt;city&gt;æ¾æ±ŸåŒº&lt;/city&gt; &lt;city&gt;å¾æ±‡åŒº&lt;/city&gt; &lt;city&gt;æ¨æµ¦åŒº&lt;/city&gt; &lt;city&gt;é—¸åŒ—åŒº&lt;/city&gt; &lt;/province&gt;&lt;/root&gt; è§£æžå†…å®¹æ”¾åˆ°äºŒç»´æ•°ç»„ä¸­ï¼Œä»£ç å¦‚ä¸‹ï¼š123456789101112131415161718192021222324if (window.XMLHttpRequest)&#123; // code for IE7+, Firefox, Chrome, Opera, Safarixmlhttp=new XMLHttpRequest();&#125;else&#123; // code for IE6, IE5xmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);&#125;xmlhttp.open(&quot;GET&quot;,&quot;example.xml&quot;,false);xmlhttp.send();xmlDoc=xmlhttp.responseXML;console.log(xmlDoc);var arr=[];var x=xmlDoc.getElementsByTagName(&quot;province&quot;);var arr=new Array(x.length);Array.from(x).forEach( function(el, index) &#123; if(arr[index]==undefined)&#123; arr[index]=[]; &#125; Array.from(el.getElementsByTagName(&quot;city&quot;)).forEach(function (e,i) &#123; arr[index].push(e.childNodes[0].nodeValue); &#125;)&#125;);console.log(arr); openæ–¹æ³•ä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸ºhttpè¯·æ±‚æ–¹å¼ã€è¯·æ±‚åœ°å€ã€åŒæ­¥ï¼ˆfalse,é˜»å¡žï¼Œä¸ä½¿ç”¨å¼‚æ­¥ï¼‰è¿˜æ˜¯å¼‚æ­¥ï¼ˆtrueï¼‰; sendæ–¹æ³•ç”¨äºŽpostä¼ é€’å‚æ•°ï¼Œæœ¬ä¾‹æœªç”¨åˆ°ï¼Œé»˜è®¤ä¸ºnullã€‚å¦‚xmlhttp.send(â€œdata=data&amp;data2=data2â€); responseXMLå±žæ€§è¿”å›žXMLæ–‡æ¡£å¯¹è±¡; xmlDoc.getElementsByTagNameå¾—åˆ°çš„æ˜¯Domå¯¹è±¡ï¼Œä¸å¯ä½¿ç”¨forEach,ä½¿ç”¨Array.from(x)åˆ›å»ºæ•°ç»„å®žä¾‹; Array.from()çš„å‚æ•°ä¸ºç±»ä¼¼æ•°ç»„æˆ–è€…å¯è¿­ä»£çš„å¯¹è±¡ï¼Œåªè¦æœ‰lengthå±žæ€§çš„æ–¹æ³•å‡å¯ä½œä¸ºå‚æ•°; jsè§£æžajaxè¯·æ±‚è¿”å›žçš„æ–‡æ¡£å¯¹è±¡ä½¿ç”¨jqueryçš„ajaxæ–¹æ³•ï¼Œå°†è¿”å›žå¯¹è±¡è§£æžåˆ°jsonä¸­ï¼Œå¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829303132&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;è§£æžxmlæ–‡ä»¶&lt;/title&gt; &lt;script src=&quot;http://cdn.static.runoob.com/libs/jquery/1.10.2/jquery.min.js&quot;&gt; &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;script&gt;console.log(&apos;****************************************************************&apos;);$.ajax(&#123; type: &quot;GET&quot;, url: &quot;https://pay.heepay.com/API/PayTransit/QueryProvincesAndCities.aspx&quot;, dataType: &quot;xml&quot;, success: function (ResponseText) &#123; var json=&#123;&#125;; Array.from(ResponseText).forEach( function(el, index) &#123; if(json[el.getAttribute(&apos;name&apos;)]==undefined)&#123; json[el.getAttribute(&apos;name&apos;)]=[]; &#125; Array.from(el.getElementsByTagName(&quot;city&quot;)).forEach(function (e,i) &#123; json[el.getAttribute(&apos;name&apos;)].push(e.childNodes[0].nodeValue); &#125;) &#125;); console.log(json); &#125;&#125;);&lt;/script&gt;&lt;/html&gt; æŽ§åˆ¶å°æŸ¥çœ‹è¿”å›žå¦‚ä¸‹ï¼Œè·¨åŸŸï¼Œä¸å¯è®¿é—®ã€‚12XMLHttpRequest cannot loadNo &apos;Access-Control-Allow-Origin&apos; header is present on the requested resource. Origin &apos;null&apos; is therefore not allowed access. è€Œç”¨javaï¼ŒhttpClientè¯·æ±‚ï¼ˆç”¨çš„Apache HttpClient 4.5.2ï¼‰ï¼Œå¯ä»¥æ‹¿åˆ°è¯¥èµ„æºã€‚æµè§ˆå™¨è¾“å…¥ç½‘å€å¯ä»¥è®¿é—®ï¼Œç”¨postManä¹Ÿå¯è®¿é—®ï¼Œå”¯æœ‰ajaxä¸å¯è®¿é—®ã€‚äºŽæ˜¯æŸ¥äº†ä¸‹ï¼Œæ‰æƒ³èµ·æ¥æµè§ˆå™¨çš„åŒæºç­–ç•¥å¯¼è‡´Ajaxåªèƒ½åŒæºä½¿ç”¨ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152import java.io.IOException;import org.apache.http.HttpEntity;import org.apache.http.client.methods.CloseableHttpResponse;import org.apache.http.client.methods.HttpGet;import org.apache.http.client.methods.HttpOptions;import org.apache.http.impl.client.CloseableHttpClient;import org.apache.http.impl.client.HttpClients;import org.apache.http.util.EntityUtils;public class TestMain&#123; public static void main(String[] args)&#123; String url = &quot;https://pay.heepay.com/API/PayTransit/QueryProvincesAndCities.aspx&quot;; String result = doGet(url); System.out.println(result); &#125; public static String doGet(String url) &#123; CloseableHttpClient httpclient = HttpClients.createDefault(); CloseableHttpResponse response = null; String result = &quot;&quot;; HttpGet httpGet = new HttpGet(url); try &#123; response = httpclient.execute(httpGet); if (response.getStatusLine().getStatusCode() == 200) &#123; HttpEntity entity = response.getEntity(); result = EntityUtils.toString(entity); EntityUtils.consume(entity); &#125; &#125; catch (Exception e) &#123; e.getStackTrace(); &#125; finally &#123; try &#123; if (response != null) response.close(); httpclient.close(); &#125; catch (IOException e) &#123; &#125; &#125; return result; &#125;&#125; æµè§ˆå™¨çš„åŒæºå®‰å…¨ç­–ç•¥åŒæºå®‰å…¨ç­–ç•¥æ˜¯æµè§ˆå™¨æœ€æ ¸å¿ƒä¹Ÿæ˜¯æœ€åŸºæœ¬çš„å®‰å…¨æœºåˆ¶ã€‚åŒæºç­–ç•¥é™åˆ¶ä»Žä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬å¦‚ä½•ä¸Žæ¥è‡ªå¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚è¿™æ˜¯ä¸€ä¸ªç”¨äºŽéš”ç¦»æ½œåœ¨æ¶æ„æ–‡ä»¶çš„å…³é”®å®‰å…¨æœºåˆ¶ï¼Œä¸ºäº†ä¿è¯ç”¨æˆ·ä¿¡æ¯çš„å®‰å…¨ï¼Œé˜²æ­¢æ¶æ„çš„ç½‘ç«™çªƒå–æ•°æ®ã€‚æ¯”å¦‚Aç½‘ç«™è®¾ç½®çš„ Cookieï¼Œç”±äºŽåŒæºç­–ç•¥ï¼ŒBç½‘ç«™å°±ä¸èƒ½æ‰“å¼€æˆ–ä¿®æ”¹ã€‚è®¾æƒ³å¦‚ä¸‹æƒ…å†µï¼šAç½‘ç«™æ˜¯ä¸€å®¶é“¶è¡Œï¼Œç”¨æˆ·ç™»å½•ä»¥åŽï¼ŒåˆåŽ»æµè§ˆå…¶ä»–ç½‘ç«™ã€‚å¦‚æžœå…¶ä»–ç½‘ç«™å¯ä»¥è¯»å–Aç½‘ç«™çš„ Cookieï¼Œä¿¡æ¯å°±ä¼šæ³„æ¼ï¼Œå…¶ä»–ç½‘ç«™å°±å¯ä»¥å†’å……ç”¨æˆ·ï¼Œä¸ºæ‰€æ¬²ä¸ºã€‚åŒæºçš„å®šä¹‰ï¼š åè®®ç›¸åŒ åŸŸåç›¸åŒ ç«¯å£ç›¸åŒ è·¨åŸŸéœ€è¦åŒç«¯åä½œï¼Œæœ¬æ–‡ç”¨çš„æŽ¥å£æ²¡æœ‰æœåŠ¡ç«¯æŽ§åˆ¶æƒï¼Œåªæœ‰å‰ç«¯å•æ–¹é¢æ— æ³•è§£å†³è·¨åŸŸé—®é¢˜ï¼Œajaxä¸å¯è¯·æ±‚è¯¥èµ„æºã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring-booté›†æˆSwagger2]]></title>
    <url>%2F2017%2F07%2F05%2Fswagger2%2F</url>
    <content type="text"><![CDATA[Swaggerç”¨äºŽå®šä¹‰APIæ–‡æ¡£ï¼Œå®žçŽ°å‰åŽç«¯å¼€å‘åˆ†ç¦»ï¼Œæµ‹è¯•æ—¶ä¸å†éœ€è¦æµè§ˆå™¨è¾“å…¥URLè®¿é—®Controllerã€‚å¯¹äºŽpostè¯·æ±‚ï¼Œæ— éœ€ä½¿ç”¨postmanæ¨¡æ‹Ÿï¼Œåœ¨æŽ¥å£æ–‡æ¡£ä¸­å¡«å‚æ•°ï¼Œå¯ç›´æŽ¥æ¨¡æ‹Ÿå‘è¯·æ±‚ã€‚æœ¬æ–‡ä»‹ç»Swagger2çš„å¼•å…¥åŠå¸¸ç”¨æ³¨è§£ã€‚ pom.xmlä¸­æ·»åŠ ä¾èµ–12345678910&lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt; &lt;version&gt;2.6.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt; &lt;version&gt;2.6.1&lt;/version&gt;&lt;/dependency&gt; å¼•å…¥Swagger2æ–°å»ºç±»ï¼Œæ³¨è§£æ–¹å¼å¼•å…¥Swagger212345678910111213141516171819202122232425@Configuration@EnableSwagger2public class Swagger2 &#123; public static Contact contact = new Contact(&quot;å¼•å…¥swagger2&quot;,&quot;http://monkeybean.cn/&quot;,&quot;monkeybean_zhang@163.com&quot;); @Bean public Docket createRestApi() &#123; return new Docket(DocumentationType.SWAGGER_2) .apiInfo(apiInfo()) .select() .apis(RequestHandlerSelectors.basePackage(&quot;com.kodgames.pokeragent&quot;)) .paths(PathSelectors.any()) .build(); &#125; private ApiInfo apiInfo() &#123; return new ApiInfoBuilder() .title(&quot;Spring Bootä¸­ä½¿ç”¨Swagger2æž„å»ºRESTful APIs&quot;) .description(&quot;swagger2 æŽ¥å£æ–‡æ¡£&quot;) .termsOfServiceUrl(&quot;http://monkeybean.cn/&quot;) .contact(contact) .version(&quot;1.0&quot;) .build(); &#125;&#125; Controllerä¸­æ·»åŠ æ³¨è§£ä¸¾ä¾‹ï¼š1234567891011/** * æŸ¥è¯¢ç”¨æˆ·æ˜¯å¦ä¸ºä»£ç† */@ApiOperation(value=&quot;æŸ¥è¯¢ç”¨æˆ·æ˜¯å¦ä¸ºä»£ç†å•†&quot;)@ApiImplicitParam(name = &quot;id&quot;, value = &quot;ç”¨æˆ·id&quot;, required = true, dataType = &quot;Integer&quot;,paramType = &quot;query&quot;)@ApiResponses(value = &#123;@ApiResponse(code = -1,message = &quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;),@ApiResponse(code = -20,message = &quot;ä»£ç†å•†è¢«å°å·&quot;),@ApiResponse(code = -23,message = &quot;å½“å‰ç”¨æˆ·å·²æäº¤ç”³è¯·ï¼Œä¸”ç”³è¯·å¤„äºŽå®¡æ ¸ä¸­&quot;)&#125;)@RequestMapping(path = &quot;agent/is_agent&quot;, method = RequestMethod.GET)public HashMap&lt;String, Object&gt; isAgent(@RequestParam(value = &quot;id&quot;) int accountId)&#123; return service.isAgent(accountId);&#125; ç¤ºä¾‹è¯´æ˜Žï¼š1.@ApiOperationï¼šç”¨åœ¨æ–¹æ³•ä¸Šï¼Œè¯´æ˜Žæ–¹æ³•çš„ä½œç”¨ï¼Œå†æ¯”å¦‚ï¼š1@ApiOperation(value=&quot;æŸ¥è¯¢è¿”è¿˜æ˜Žç»†&quot;, notes=&quot;ä¸‹çº§idä¸æ”¯æŒæ¨¡ç³Šæœç´¢&quot;) 2.@ApiImplicitParamsï¼šç”¨åœ¨æ–¹æ³•ä¸ŠåŒ…å«ä¸€ç»„å‚æ•°è¯´æ˜Žå¦‚ï¼š123456@ApiImplicitParams(&#123; @ApiImplicitParam(name = &quot;id&quot;, value = &quot;ç”¨æˆ·id&quot;, required = true, dataType = &quot;Integer&quot;,paramType = &quot;query&quot;), @ApiImplicitParam(name = &quot;phone_number&quot;, value = &quot;æ‰‹æœºå·&quot;, required = true, dataType = &quot;String&quot;,paramType = &quot;query&quot;), @ApiImplicitParam(name = &quot;validcode&quot;, value = &quot;éªŒè¯ç &quot;, required = true, dataType = &quot;String&quot;,paramType = &quot;query&quot;), @ApiImplicitParam(name = &quot;advantages&quot;, value = &quot;ä¸ªäººä¼˜åŠ¿&quot;, required = true, dataType = &quot;String&quot;,paramType = &quot;query&quot;) &#125;) 3.@ApiImplicitParamï¼šç”¨åœ¨@ApiImplicitParamsæ³¨è§£ä¸­ï¼Œå¯¹å•ä¸ªå‚æ•°è¿›è¡Œè¯´æ˜Ž nameï¼šå‚æ•°å valueï¼šå‚æ•°å«ä¹‰ requiredï¼šå‚æ•°æ˜¯å¦å¿…é¡»ä¼  defaultValueï¼šå‚æ•°é»˜è®¤å€¼ dataTypeï¼šå‚æ•°ç±»åž‹ï¼ˆå¯¹è±¡ç±»åž‹ï¼ŒåŸºæœ¬ç±»åž‹è¦ä½¿ç”¨åŒ…è£…ç±»ï¼‰ paramTypeï¼šå‚æ•°æ”¾åœ¨å“ªä¸ªä½ç½® headerâ€“&gt;æ”¾åœ¨headerä¸­ï¼Œè¯·æ±‚å‚æ•°èŽ·å–æ–¹æ³•ï¼š@RequestHeader queryâ€“&gt;æ”¾åœ¨urlä¸­ï¼Œè¯·æ±‚å‚æ•°èŽ·å–æ–¹æ³•ï¼š@RequestParam pathï¼ˆç”¨äºŽrestfulæŽ¥å£ï¼‰â€“&gt;è¯·æ±‚å‚æ•°èŽ·å–æ–¹æ³•ï¼š@PathVariableï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼Œé‡ç‚¹ä¸º{} 123456@ApiOperation(value=&quot;èŽ·å–ç”¨æˆ·è¯¦ç»†ä¿¡æ¯&quot;, notes=&quot;æ ¹æ®urlçš„idæ¥èŽ·å–ç”¨æˆ·è¯¦ç»†ä¿¡æ¯&quot;) @ApiImplicitParam(name = &quot;id&quot;, value = &quot;ç”¨æˆ·ID&quot;, required = true, dataType = &quot;Long&quot;, paramType = &quot;path&quot;) @RequestMapping(value=&quot;/&#123;id&#125;&quot;, method=RequestMethod.GET) public User getUser(@PathVariable Long id) &#123; return users.get(id); &#125; bodyåŠformä¸å¸¸ç”¨ @ApiResponsesï¼šç”¨äºŽè¡¨ç¤ºä¸€ç»„å“åº” @ApiResponseï¼šç”¨åœ¨@ApiResponsesä¸­ï¼Œè¡¨ç¤ºå•ä¸ªé”™è¯¯å“åº”ä¿¡æ¯ codeï¼šé”™è¯¯ç  messageï¼šé”™è¯¯ç å«ä¹‰ responseï¼šæŠ›å‡ºå¼‚å¸¸çš„ç±» å¸¸ç”¨è¡¥å……ï¼š @Apiï¼šç”¨åœ¨ç±»ä¸Šï¼Œè¯´æ˜Žè¯¥ç±»çš„ä½œç”¨å¦‚ï¼š 123@Api(value= &quot;ä»£ç†å•†ç›¸å…³api&quot;)public class ProxyController&#123;&#125; @ApiModelï¼šæè¿°ä¸€ä¸ªModelçš„ä¿¡æ¯ï¼ˆä¸€èˆ¬ç”¨äºŽpoståˆ›å»ºæ—¶ï¼Œä½¿ç”¨@RequestBodyï¼Œè¯·æ±‚å‚æ•°æ— æ³•ä½¿ç”¨@ApiImplicitParamæ³¨è§£è¿›è¡Œæè¿°ï¼‰ @ApiModelPropertyï¼šæè¿°å•ä¸ªmodelçš„å±žæ€§ @PathVariableï¼š ä»Žurlæ¨¡æ¿å–å€¼,æ³¨æ„{}ï¼›è‹¥æ–¹æ³•å‚æ•°åç§°å’Œç»‘å®šçš„uri templateä¸­å˜é‡åä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨@PathVariable(â€œnameâ€)æŒ‡å®šuri templateä¸­çš„åç§°ã€‚å¦‚ï¼š 1234567@RequestMapping(&quot;/user/&#123;id&#125;&quot;) public void userInfo(@PathVariable int id) &#123; &#125;@RequestMapping(&quot;/user/&#123;id&#125;&quot;) public void userInfo(@PathVariable(name=&quot;id&quot;) int roleId) &#123; &#125; @RequestHeader: è¯·æ±‚headeréƒ¨åˆ†çš„å€¼ç»‘å®šåˆ°æ–¹æ³•çš„å‚æ•°ä¸Š @CookieValueï¼šRequest headerä¸­å…³äºŽcookieçš„å€¼ç»‘å®šåˆ°æ–¹æ³•çš„å‚æ•°ä¸Šè®¿é—®apiæŽ¥å£æ–‡æ¡£è¾“å…¥http://172.16.2.163:8080/swagger-ui.html è®¿é—®è·¯å¾„ä¸ºswagger-ui.html.ä¸Šä¸€æ­¥éª¤ä¸­çš„æŸ¥è¯¢ç”¨æˆ·æ˜¯å¦ä¸ºä»£ç†çš„ç¤ºä¾‹æ•ˆæžœå¦‚ä¸‹ï¼š å®‰å…¨æ€§apiæŽ¥å£æ–‡æ¡£åœ¨å†…éƒ¨è”è°ƒæ—¶ä½¿ç”¨ä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæ­£å¼ä¸Šçº¿æ—¶æ¶‰åŠåˆ°å®‰å…¨é—®é¢˜ï¼Œè‚¯å®šä¸å¯éšæ„è®¿é—®ï¼ŒåŽå°æŽ¥å£ä¸å¯æš´éœ²ã€‚å¯é‡‡ç”¨å¦‚ä¸‹å®‰å…¨æ–¹æ¡ˆï¼š1.å°†å¯ç”¨Swagger2çš„æ³¨è§£æ³¨é‡ŠæŽ‰ã€‚è¿›å…¥é¡µé¢æ—¶ï¼ŒæœåŠ¡å™¨ä¸ä¼šå°†ä»»ä½•æŽ¥å£è¿”å›žç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨æ‹¿åˆ°çš„æ˜¯æ— ä»»ä½•æŽ¥å£çš„ç©ºé¡µé¢ã€‚æ•ˆæžœå¦‚ä¸‹ï¼š2.å¤šæ•°æƒ…å†µåœ¨ä¸Šçº¿åŽä»æƒ³è®¿é—®åŽå°APIï¼Œåˆ™ä½¿ç”¨æ‹¦æˆªå™¨ï¼Œè¿‡æ»¤tokenKeyã€‚è®¿é—®Urlå¦‚http://172.16.2.163:8080/swagger-ui.html?sdfhiohsdabfnjkawe78oih4342598as1234567891011121314// è¯·æ±‚Swagger2ä½¿ç”¨keyå•ç‹¬è¿‡æ»¤if(httpServletRequest.getServletPath().toLowerCase().contains(&quot;swagger&quot;) || httpServletRequest.getServletPath().toLowerCase().contains(&quot;api-docs&quot;))&#123; if(httpServletRequest.getServletPath().toLowerCase().contains(&quot;/swagger-ui.html&quot;)) &#123; if(!httpServletRequest.getQueryString().toLowerCase().contains(&quot;sdfhiohsdabfnjkawe78oih4342598as&quot;)) &#123; httpServletResponse.setStatus(401); return; &#125; &#125; chain.doFilter(httpServletRequest, httpServletResponse); return;&#125;]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring-bootæ‰“åŒ…]]></title>
    <url>%2F2017%2F07%2F02%2Fjar_war%2F</url>
    <content type="text"><![CDATA[Spring-bootç›¸æ¯”SpringMVCï¼ŒåŸºæœ¬å¹²æŽ‰äº†ç¹ççš„é…ç½®æ–‡ä»¶ï¼ŒSpring-bootè‡ªåŠ¨å®Œæˆé»˜è®¤é…ç½®ã€‚è‹¥æœ‰è‡ªå®šä¹‰é…ç½®ï¼Œåœ¨application.propertiesé…ç½®æ–‡ä»¶è¦†ç›–å³å¯ã€‚Spring-bootå†…ç½®tomcatï¼Œéƒ¨ç½²æ—¶æ‰“æˆjaråŒ…ï¼Œæ”¾åˆ°çº¿ä¸Šå¯åŠ¨å³å¯ï¼Œä½†ç‹¬ç«‹æœåŠ¡ï¼ŒåŒ…æ–‡ä»¶è¾ƒå¤§ã€‚è‹¥å¤šä¸ªSpring-bootæƒ³ä½¿ç”¨åŒä¸€ä¸ªtomcatæˆ–è€…è¿ç»´è¦æ±‚Spring-booté¡¹ç›®åŒå…¶ä»–webé¡¹ç›®æ”¾åˆ°åŒä¸€å®¹å™¨é‡Œï¼Œåˆ™è¦è€ƒè™‘æ‰“æˆwaråŒ…ã€‚ä½¿ç”¨Mavenè¿›è¡Œé¡¹ç›®ç®¡ç†åŠæž„å»ºï¼Œæ‰“åŒ…ç±»åž‹é…ç½®åœ¨ä¾èµ–æ–‡ä»¶pom.xmlæŒ‡æ˜Žã€‚ æ‰“æˆjaråŒ…1.å£°æ˜Žæ‰“åŒ…ç±»åž‹ä¸ºjar1&lt;packaging&gt;jar&lt;/packaging&gt; 2.ä½¿ç”¨å‘½ä»¤ mvn clean packageæ‰“åŒ…éƒ¨ç½²åŽï¼Œæ‰§è¡Œ1nohup java -jar PokerAgentServer.jar &gt;/dev/null 2&gt;&amp;1 &amp; nohup è¡¨ç¤ºåŽå°è¿è¡Œï¼Œç»“å°¾&amp;ä¿è¯nohupæ­£å¸¸è¿è¡Œã€‚&gt;/dev/null 2&gt;&amp;1è¡¨ç¤ºä¸ç”Ÿæˆnohup.outæ–‡ä»¶ã€‚å£°æ˜Žè¿è¡Œä¾èµ–å…¶ä»–ç±»çš„è·¯å¾„ï¼Œä¾‹å¦‚ç±»åº“åŠé…ç½®æ–‡ä»¶ï¼Œåˆ™ä½¿ç”¨-classpathæˆ–ç®€å†™-cpå‘½ä»¤ï¼Œä½¿ç”¨æ­¤å‚æ•°åˆ™ä¸èƒ½ä½¿ç”¨-jar,-jarä¼šå¿½ç•¥-cpæŒ‡å®šçš„è·¯å¾„1nohup java -cp ../dist/*:../lib/*:../resource org.springframework.boot.loader.JarLauncher &gt;/dev/null 2&gt;&amp;1 &amp; 3.è‹¥è¿›è¡Œè¿œç¨‹è°ƒè¯•ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š1nohup java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8091 -jar PokerAgentServer.jar &amp; æˆ–1nohup java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8091 -cp ../dist/*:../lib/*:../resource org.springframework.boot.loader.JarLauncher &gt;/dev/null 2&gt;&amp;1 &amp; Hostä¸ºè¿œç¨‹ä¸»æœºåœ°å€ã€‚å¼€å¯8091ç«¯å£ã€‚ 4.Spring-bootæ‰“åŒ…ä¼šå°†é…ç½®ä¸€å¹¶è¾¾åˆ°jaråŒ…ä¸­ï¼Œæ­¤æ—¶éœ€è¦å°†resourceä¸­çš„æ–‡ä»¶åˆ é™¤ï¼Œå†æ‰§è¡Œmvn clean packageæ‰“åŒ…ã€‚å¯åŠ¨æ—¶ï¼Œ-cpå£°æ˜Žä¾èµ–çš„é…ç½®æ–‡ä»¶ã€‚1nohup java -cp ../dist/*:../lib/*:../resource org.springframework.boot.loader.JarLauncher &gt;/dev/null 2&gt;&amp;1 &amp;` -jarä¸Ž-cpæœ‰å†²çªã€‚å¦‚æžœä½¿ç”¨-jaré€‰é¡¹ï¼Œjava.exeä¼šå¿½ç•¥-cpã€‚è¿™é‡Œå…¥å£ç±»æ˜¯org.springframework.boot.loader.JarLauncherï¼Œå°†jaråŒ…è§£åŽ‹ï¼Œæ‰“å¼€META-INF/MANIFEST.MFæ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š 5.æ¯æ¬¡è¾“å…¥å‘½ä»¤å¯åŠ¨å¤ªéº»çƒ¦ï¼Œæˆ‘ä¸€èˆ¬é€šè¿‡shæ–‡ä»¶æˆ–è€…pythonè„šæœ¬å¯åŠ¨ã€‚ æ‰“æˆwaråŒ…1.ä¿®æ”¹pomæ–‡ä»¶ä¸­jarä¸ºwar1&lt;packaging&gt;war&lt;/packaging&gt; 2.ä¿®æ”¹pomï¼ŒæŽ’é™¤tomcatæ’ä»¶12345678910&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt; 3.ä½¿ç”¨å‘½ä»¤ mvn clean package æ‰“åŒ…åŽï¼ŒåŒä¸€èˆ¬J2EEé¡¹ç›®ä¸€æ ·éƒ¨ç½²åˆ°webå®¹å™¨ã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring-boot å®šæ—¶ä»»åŠ¡]]></title>
    <url>%2F2017%2F06%2F25%2Fschedule%2F</url>
    <content type="text"><![CDATA[å®šæ—¶ä»»åŠ¡åœ¨å¼€å‘ä¸­å¾ˆå¸¸è§ï¼Œæœ€è¿‘åœ¨æ¸…ç†æ•°æ®åº“åºŸå¼ƒæ•°æ®æ—¶ç”¨åˆ°å®šæ—¶ä»»åŠ¡ã€‚Spring-bootå®šæ—¶ä»»åŠ¡å¦‚ä¸‹ï¼š ä¿®æ”¹å…¥å£ç¨‹åº12345678910111213141516171819202122232425262728@SpringBootApplication@EnableSchedulingpublic class MainApplication &#123; private static Logger logger = LoggerFactory.getLogger(MainApplication.class); public static void main(String[] args) &#123; PokerAgentServerConfig.getInstance().requestConfig(); SpringApplication.run(MainApplication.class, args); PokerAgentServerConfig.getInstance().initLogback(); &#125; // é…ç½®filterå®žçŽ°å‰ç«¯çš„è·¨åŸŸè®¿é—® @Bean public FilterRegistrationBean filterRegistrationBean() &#123; FilterRegistrationBean registration = new FilterRegistrationBean(); registration.setFilter(new CrossOriginFilter()); registration.addUrlPatterns(&quot;/*&quot;); return registration; &#125; @Bean public FilterRegistrationBean filterTokenKeyBean() &#123; FilterRegistrationBean registration = new FilterRegistrationBean(); registration.setFilter(new TokenKeyFilter()); registration.addUrlPatterns(&quot;/*&quot;); return registration; &#125;&#125; ä¸å¿…ç´§å¼ ï¼ŒLoggerä¸ºæ—¥å¿—ç›¸å…³ã€‚ä¸¤ä¸ªBeanåˆ†åˆ«æ˜¯å®žçŽ°è·¨åŸŸè®¿é—®å’Œtokenè¿‡æ»¤çš„ã€‚å¯åŠ¨å®šæ—¶ä»»åŠ¡åªéœ€è¿™ä¸€å¥ï¼š1@EnableScheduling æ–°å»ºå®šæ—¶ä»»åŠ¡ç±»123456789101112@Componentpublic class MyTimer &#123; private static TempTokenDao agentInfoDao = DbManager.create(TempTokenDao.class); /** * æ¯å¤©å‡Œæ™¨å››ç‚¹æ¸…ç†ä¸€æ¬¡temptokenè¡¨ */ @Scheduled(cron = &quot;0 0 4 * * ?&quot;) public void clearTempToken()&#123; agentInfoDao.deleteAll(); &#125;&#125; æ³¨æ„ï¼š éœ€è¦åœ¨å®šæ—¶ä»»åŠ¡çš„ç±»ä¸ŠåŠ ä¸Šæ³¨é‡Šï¼š@Componentï¼Œåœ¨å…·ä½“çš„å®šæ—¶ä»»åŠ¡æ–¹æ³•ä¸ŠåŠ ä¸Šæ³¨é‡Š@Scheduledå³å¯å¯åŠ¨è¯¥å®šæ—¶ä»»åŠ¡ã€‚@Scheduled(cron=â€ * ?â€)ï¼šæŒ‰cronè§„åˆ™æ‰§è¡Œã€‚ æ‰©å±•ä»¥ä¸Šé‡‡ç”¨å®šæ—¶åˆ°æŸä¸ªæ—¶åˆ»ã€‚@Scheduledå…¶ä»–åº”ç”¨å¦‚ä¸‹ï¼š @Scheduled(fixedRate=3000)ï¼šä¸Šä¸€æ¬¡å¼€å§‹æ‰§è¡Œæ—¶é—´ç‚¹åŽ3ç§’å†æ¬¡æ‰§è¡Œï¼› @Scheduled(fixedDelay=3000)ï¼šä¸Šä¸€æ¬¡æ‰§è¡Œå®Œæ¯•æ—¶é—´ç‚¹åŽ3ç§’å†æ¬¡æ‰§è¡Œï¼› @Scheduled(initialDelay=1000, fixedDelay=3000)ï¼šç¬¬ä¸€æ¬¡å»¶è¿Ÿ1ç§’æ‰§è¡Œï¼Œç„¶åŽåœ¨ä¸Šä¸€æ¬¡æ‰§è¡Œå®Œæ¯•æ—¶é—´ç‚¹åŽ3ç§’å†æ¬¡æ‰§è¡Œï¼› ä¸¾ä¾‹ï¼š12345//æ¯3ç§’æ‰§è¡Œä¸€æ¬¡@Scheduled(fixedRate = 3000)public void timerRate() &#123; //TODO you want&#125;]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®¢æˆ·ç«¯å†…åµŒWebViewä¸Žæµè§ˆå™¨è®¿é—®é¡µé¢çš„å®‰å…¨æœºåˆ¶]]></title>
    <url>%2F2017%2F06%2F24%2Fencryption_trans%2F</url>
    <content type="text"><![CDATA[è¿‘æœŸæ–°å¢žä»£ç†å•†ç³»ç»Ÿï¼Œæ¸¸æˆå†…åŠ å…¥webviewä»¥åŠä»Žæµè§ˆå™¨ç™»å½•ç³»ç»Ÿä¸¤ç§æ–¹å¼ã€‚ä½œä¸ºæœåŠ¡ç«¯å¼€å‘ï¼Œä¸Žä¸»ç®¡è®¨è®ºä¹‹åŽï¼Œä¸åŒå·²æœ‰åŸºäºŽnettyå¼€å‘çš„å¤šä¸ªæœåŠ¡å™¨ï¼ŒæœåŠ¡ç«¯æ–°å¢žåŸºäºŽSpring-bootå¼€å‘çš„æœåŠ¡å™¨æä¾›å¾®æœåŠ¡ã€‚æœ¬æ–‡ä»‹ç»å®‰å…¨æœºåˆ¶è®¾è®¡ä¸Žå®žçŽ°ã€‚ å®¢æˆ·ç«¯å†…åµŒWebViewä¸ŽæœåŠ¡å™¨é€šä¿¡çš„åŠ å¯†æ–¹æ¡ˆå®‰å…¨éªŒè¯é‡‡ç”¨tokenåšå¯†é’¥ï¼Œæ‘˜è¦ç®—æ³•ä¿è¯å†…å®¹æ­£ç¡®ã€‚æ‘˜è¦ç®—æ³•é‡‡ç”¨æœ€å¸¸è§çš„MD5å³å¯ã€‚åŠ å¯†è¿‡ç¨‹æ˜¯æœåŠ¡ç«¯ç”Ÿæˆtokenï¼Œå¹¶æŠŠè¿™ä¸ªtokenå‘ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ï¼ˆè¿™é‡ŒåŒ…æ‹¬WebViewå†…é¡µé¢ï¼‰æ¯æ¬¡è¯·æ±‚éƒ½é™„å¸¦stimeä»¥åŠtokenï¼Œ å¯¹è¿™ä¸ªå­—ç¬¦ä¸²åšè®¡ç®—å½¢æˆæ‘˜è¦(sign)ã€‚å®¢æˆ·ç«¯è°ƒç”¨WebViewä¹‹å‰ï¼Œé€šè¿‡protobufferåè®®èŽ·å–tokenã€‚123456789101112131415161718//è¯·æ±‚è®¿é—®ä»£ç†é¡µé¢çš„tokenmessage CGGetAgtTokenREQ&#123;&#125;message GCGetAgtTokenRES&#123; required int32 result = 1; required string token = 2;&#125;&lt;Protocol P_CG_GET_AGT_TOKEN_REQ = &quot;è¯·æ±‚è®¿é—®ä»£ç†é¡µé¢çš„token&quot; PROTOCOL_CLASS=&quot;com.kodgames.message.proto.game.GameProtoBuf.CGGetAgtTokenREQ&quot; /&gt;&lt;Protocol P_GC_GET_AGT_TOKEN_RES = &quot;å“åº”token&quot; PROTOCOL_CLASS=&quot;com.kodgames.message.proto.game.GameProtoBuf.GCGetAgtTokenRES&quot; &gt;&lt;String name=&quot;GC_GET_AGT_TOKEN_SUCCESS&quot; isSuccess=&quot;true&quot;&gt;è¯·æ±‚æˆåŠŸ&lt;/String&gt;&lt;String name=&quot;GC_GET_AGT_TOKEN_FAILED&quot;&gt;è¯·æ±‚å¤±è´¥&lt;/String&gt;&lt;/Protocol&gt; æ­¤æ—¶å®¢æˆ·ç«¯å¾—åˆ°çš„tokenæ ¼å¼æ˜¯:1&quot;GAME-&quot;+éšæœºå­—ç¬¦ä¸² éšæœºå­—ç¬¦ä¸²ç”Ÿæˆè§„åˆ™é‡‡ç”¨:1UUID.randomUUID().toString().replaceAll(&quot;-&quot;, &quot;&quot;).substring(0,16).toUpperCase(); å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡æ‹‰èµ·WebViewï¼Œå‘é€æ ¼å¼å¦‚ä¸‹ã€‚é¡µé¢ç›´æŽ¥å°†è¯·æ±‚å‚æ•°è½¬å‘åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ‹¿åˆ°å®Œæ•´urlï¼Œåœ¨æ‹¦æˆªå™¨ä¸­ç”¨åŒæ ·çš„ç®—æ³•åšèº«ä»½éªŒè¯ï¼š1234567http://172.16.2.172:8091/agent/is_agent?id=5006872&amp;stime=1497680416778&amp;sign=35454B055CC325EA1AF2126E27707052å…¶ä¸­token = &quot;GAME-XXXXXXXXX&quot;path = &quot;/agent/is_agent&quot;queryString = &quot;id=5006872&amp;stime=1497680416778&quot;sign = md5(queryString + &quot;&amp;token=&quot; + token) queryStringæ˜¯æœªåŠ å¯†ä¹‹å‰çš„è¯·æ±‚å­—ç¬¦ä¸²ï¼Œstimeæ˜¯å®¢æˆ·ç«¯å½“å‰æ—¶é—´æˆ³ï¼ŒæœåŠ¡ç«¯è®¾ç½®è¯·æ±‚æœ‰æ•ˆæ—¶é—´ä¸ºä¸€åˆ†é’Ÿï¼Œé˜²æ­¢é‡æ”¾æ”»å‡»ã€‚ç”±äºŽtokenåªåœ¨ç¬¬ä¸€æ¬¡ç”±æœåŠ¡ç«¯ä¸‹å‘ç»™å®¢æˆ·ç«¯ï¼ŒåŽç»­æ— ä¼ è¾“ï¼Œæ‰€ä»¥åœ¨ä¸æ³„éœ²tokençš„å‰æä¸‹ï¼Œå¯æœ‰æ•ˆä¿è¯å®¢æˆ·ç«¯æäº¤æ•°æ®åˆæ³•ã€‚ tokenå‘æ”¾æœºåˆ¶ï¼Œé‡‡ç”¨åŒtokenéš”ç¦»å®‰å…¨æ€§ï¼š123456789å®¢æˆ·ç«¯åˆæ¬¡è¯·æ±‚æœåŠ¡ç«¯èŽ·å–tokenï¼Œæ­¤æ—¶token=&quot;GAME-&quot;+éšæœºå­—ç¬¦ä¸²ã€‚å®¢æˆ·ç«¯æ‹‰èµ·webviewè®¿é—®é¡µé¢ï¼Œé¡µé¢ç¬¬ä¸€æ¬¡å‘æœåŠ¡ç«¯æäº¤è¯·æ±‚ï¼ŒæŽ§åˆ¶å™¨åˆ¤æ–­tokençš„ç±»åž‹ï¼Œå¦‚æžœtokenç±»åž‹æ˜¯&quot;GAME-&quot;+éšæœºå­—ç¬¦ä¸²ï¼Œåˆ™æŽ§åˆ¶å™¨é‡æ–°å‘æ”¾é¡µé¢å†…ä¸“ç”¨çš„tokenã€‚æ­¤æ—¶token=&quot;AGENT-&quot;+éšæœºå­—ç¬¦ä¸²ã€‚webtokenæ˜¯é€šè¿‡cookieçš„æœºåˆ¶å‘é€ï¼šCookie cookie = new Cookie(&quot;token&quot;,token);httpServletResponse.addCookie(cookie);åŽç»­é¡µé¢å†…è¯·æ±‚å‡é‡‡ç”¨æ­¤tokenã€‚é€€å‡ºé¡µé¢æ—¶ï¼ŒæŠŠcookieç½®ç©ºï¼Œä»¥å…tokenæ³„éœ²ã€‚ æ¯æ¬¡å®¢æˆ·ç«¯è®¿é—®æ—¶ï¼Œä¼šé‡æ–°å‘æœåŠ¡ç«¯è¯·æ±‚tokenï¼ŒæœåŠ¡ç«¯æ›´æ–°tokenåŽå‘é€ç»™å®¢æˆ·ç«¯ã€‚ æµè§ˆå™¨ç½‘é¡µç™»å½•ä¸ŽæœåŠ¡å™¨é€šä¿¡çš„åŠ å¯†æ–¹æ¡ˆæµè§ˆå™¨è®¿é—®çš„ç”¨æˆ·è®¤è¯ä¸é‡‡ç”¨ä¼ ç»Ÿçš„sessionIdï¼Œæ²¿è¢­å†…åµŒWebViewä¸ŽæœåŠ¡å™¨é€šä¿¡çš„tokenè®¤è¯ï¼Œé€šè¿‡è®¿é—®è·¯å¾„åŒºåˆ†ä¸‰ç§å®‰å…¨æœºåˆ¶ï¼š ç”¨æˆ·ç™»å½•åŠä¿®æ”¹å¯†ç é‡‡ç”¨ä¸´æ—¶tokenç­–ç•¥ï¼Œç”¨æˆ·è¿›å…¥é¡µé¢å³èŽ·å–ä¸´æ—¶tokenåŠuuidï¼Œç™»å½•è¯·æ±‚æ—¶æºå¸¦uuidã€‚æœåŠ¡ç«¯éªŒè¯é€šè¿‡åŽï¼Œå°†ä¸´æ—¶tokenå†™å…¥åˆ°ç”¨æˆ·æ­£å¼è¡¨ä¸­ï¼Œä¸´æ—¶tokenè¡¨åˆ é™¤tokenã€‚å‡ºçŽ°åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åªæœ‰è®¤è¯æˆåŠŸçš„ç”¨æˆ·ï¼Œä¸´æ—¶tokenæ‰ä¼šè¢«åˆ é™¤ï¼Œå…¶ä»–æƒ…å†µä¸ä¼šè¢«åˆ é™¤ï¼Œå¯¼è‡´ä¸´æ—¶tokenè¡¨å³ä¼šè¶Šæ¥è¶Šå¤§ï¼Œé‡‡ç”¨å®šæ—¶ä»»åŠ¡åˆ é™¤ä¸´æ—¶è¡¨tokenï¼Œå³ä¸´æ—¶tokenè¡¨æ¯å¤©å‡Œæ™¨å››ç‚¹æ¸…ç†ä¸€æ¬¡ã€‚æ¶‰åŠåˆ°å¯†ç ç›¸å…³çš„ä¼ è¾“ï¼Œå¯†ç æœ¬èº«è¦å…ˆåŠ å¯†ä¸€æ¬¡ã€‚ ç”¨æˆ·ç™»å½•åŽçš„å®‰å…¨ä¿éšœåŒå†…åµŒWebViewä¸ŽæœåŠ¡å™¨é€šä¿¡çš„å®‰å…¨æœºåˆ¶ç›¸åŒã€‚ å‘é€éªŒè¯ç ã€åˆæ¬¡è¿›å…¥é¡µé¢ã€ç”¨æˆ·ç¡®è®¤ç­‰æ— å®‰å…¨å¨èƒçš„è¯·æ±‚ï¼Œä¸èµ°å®‰å…¨éªŒè¯ï¼ŒæœåŠ¡ç«¯æ— éœ€è¿‡æ»¤ã€‚ ä¸¾ä¾‹è¯´æ˜Žï¼Œåˆæ¬¡è®¿é—®é¡µé¢åŠç™»å½•è¯·æ±‚æ ¼å¼å¦‚ä¸‹ï¼š123http://172.16.2.163:8091/no_filter/first_comehttp://172.16.2.163:8091/agent/community_login?id=10003&amp;name=10001&amp;pwd=20CC88D2E204FFA768509D33FA882492&amp;type=1&amp;uuid=2f52ef92b73b43659045567ba29881c4&amp;stime=1498728038692&amp;sign=ECD622B701C2B90E33319E7E08A422A9]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç«¯åˆå‡ºæ¸¸]]></title>
    <url>%2F2017%2F05%2F29%2Fdragon_Boat_Festival%2F</url>
    <content type="text"><![CDATA[æ˜Žåä¸‰é™µ:æ¨±æ¡ƒå›­-æ°´åº“-èŸ’å±±-å¤©æ± äº”æœˆåº•çš„åŒ—äº¬ï¼Œå·²ç»è¿›å…¥ç‚Žçƒ­çš„çŠ¶æ€ï¼Œä½†ä»Šå„¿ä¸ªå¤©å…¬ä½œç¾Žï¼Œæœ€é«˜æ¸©ä¹Ÿå°±27åº¦ï¼Œå°é£Žä¸æ–­ï¼Œååˆ†èˆ’çˆ½ã€‚æ­£å€¼æ¨±æ¡ƒæˆç†Ÿå­£ï¼ŒäºŽæ˜¯æ˜¨å¤©ä¸´æ—¶å†³å®šæ‘˜æ¨±æ¡ƒã€‚è¿™ä¸¤å¼ ç…§ç‰‡çœ‹èµ·æ¥è·Ÿå·æ¨±æ¡ƒä¼¼çš„ã€‚åƒæ¨±æ¡ƒè¿˜æ˜¯åŽ»çŽ°åœºæ‘˜çš„å¥½ï¼Œä¸ªå¤§è¿˜ç”œï¼Œæœ€åŽä¹°äº†24æ–¤å¸¦èµ°ï¼Œå¤Ÿåƒä¸€å‘¨çš„äº†ã€‚å¿«è‰‡å¸ˆå‚…çœŸæ˜¯å¯ä»¥ï¼Œå¼€çš„é£žå¿«ï¼Œç¿»äº†å¯å’‹æ•´ã€‚èŸ’å±±çš„å¤©æ± ï¼Œæ˜¯æŒºå¤§çš„ï¼Œç©ºæ°”ä¹Ÿä¸é”™ï¼Œå°±æ˜¯å¾—çˆ¬åˆ°å±±é¡¶ï¼Œå±±è·¯åªæœ‰ä¸€æ¡ï¼Œæ¯”è¾ƒé™¡ã€‚]]></content>
      <tags>
        <tag>ç”Ÿæ´»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸è§æ­£åˆ™åˆæ³•æ€§æ ¡éªŒ]]></title>
    <url>%2F2017%2F05%2F24%2Fphone_id%2F</url>
    <content type="text"><![CDATA[æ­£åˆ™è¡¨è¾¾å¼ç”¨äºŽå„ä¸ªæƒ…å½¢çš„æ•°æ®æ ¡éªŒï¼Œä¾‹å¦‚å¯¹è¯·æ±‚å‚æ•°çš„æ ¡éªŒï¼Œå®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘é€æ•°æ®å‰ï¼Œéœ€åˆæ­¥å¯¹æ•°æ®è¿›è¡Œåˆæ³•æ€§æ ¡éªŒï¼›ç”±äºŽå®¢æˆ·ç«¯æ•°æ®ä¸å¯ä¿¡ï¼ŒæœåŠ¡å™¨è¦å¯¹æ•°æ®è¿›è¡Œä¸¥æ ¼çš„åˆæ³•æ€§æ ¡éªŒã€‚æœ¬æ–‡è®°å½•çš„æ˜¯å¸¸ç”¨çš„èº«ä»½è¯åŠæ‰‹æœºå·ç­‰åˆæ³•æ€§æ­£åˆ™æ ¡éªŒã€‚ä»¥Javaç¼–ç¨‹ä¸ºä¾‹ã€‚ æ‰‹æœºå·åˆæ³•æ€§æ ¡éªŒè¿™é‡Œåˆæ³•æ€§æ ¡éªŒå¯¹è±¡ä¸ºä¸­å›½å¤§é™†åŠæ¸¯æ¾³æ‰‹æœºå·ã€‚12345678910111213141516171819202122232425262728293031323334/** * æ‰‹æœºå·åˆæ³•æ€§åˆ¤æ–­ï¼ˆå¤§é™†åŠæ¸¯æ¾³ï¼‰ */ public static boolean isPhoneLegal(String str) throws PatternSyntaxException &#123; return isMainLandPhoneLegal(str) || isHKPhoneLegal(str); &#125; /** * å¤§é™†æ‰‹æœºå·ç 11ä½æ•°ï¼ŒåŒ¹é…æ ¼å¼ï¼šå‰ä¸‰ä½å›ºå®šæ ¼å¼+åŽ8ä½ä»»æ„æ•° * æ­¤æ–¹æ³•ä¸­å‰ä¸‰ä½æ ¼å¼æœ‰ï¼š * 13+ä»»æ„æ•° * 15+é™¤4çš„ä»»æ„æ•° * 18+é™¤1å’Œ4çš„ä»»æ„æ•° * 17+é™¤9çš„ä»»æ„æ•° * 147 */ public static boolean isMainLandPhoneLegal(String str) throws PatternSyntaxException &#123; String regExp = &quot;^((13[0-9])|(15[^4])|(18[0,2,3,4,5-9])|(17[0-8])|(147))\\d&#123;8&#125;$&quot;; Pattern p = Pattern.compile(regExp); Matcher m = p.matcher(str); return m.matches(); &#125; /** * é¦™æ¸¯æ‰‹æœºå·ç 8ä½æ•°ï¼Œ5|6|8|9å¼€å¤´+7ä½ä»»æ„æ•° * æ¾³é—¨æ‰‹æœºå·ä»¥6å¼€å¤´ï¼Œå¯å½’åˆ°é¦™æ¸¯æ‰‹æœºå·åˆ¤æ–­ä¸­ * */ public static boolean isHKPhoneLegal(String str) throws PatternSyntaxException &#123; String regExp = &quot;^(5|6|8|9)\\d&#123;7&#125;$&quot;; Pattern p = Pattern.compile(regExp); Matcher m = p.matcher(str); return m.matches(); &#125; ä»¥ä¸Šæ‰‹æœºå·æ ¡éªŒå¤ªä¸¥æ ¼ï¼Œä¸€èˆ¬æƒ…å†µï¼Œä¸å»ºè®®ä½¿ç”¨ï¼Œå¤§é™†æ‰‹æœºå·å¯ç”¨ä»¥ä¸‹æ­£åˆ™ç®€å•æ ¡éªŒå³å¯:1String regExp = &quot;^1[34578]\\d&#123;9&#125;$&quot;; èº«ä»½è¯åˆæ³•æ€§æ ¡éªŒä»¥ä¸‹æ˜¯å®Œæ•´çš„æµ‹è¯•å‡½æ•°ï¼ŒåŒ…æ‹¬15ä½å’Œ18ä½èº«ä»½è¯å·åˆæ³•æ€§æ ¡éªŒä»¥åŠ15ä½åˆ°18ä½èº«ä»½è¯å·çš„è½¬æ¢ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368import java.text.ParseException;import java.text.SimpleDateFormat;import java.util.Calendar;import java.util.Date;/** * èº«ä»½è¯åˆæ³•æ€§æ ¡éªŒåŠ15ä½èº«ä»½è¯è½¬ä¸º18ä½ * &lt;p&gt; * --15ä½èº«ä»½è¯å·ç ï¼šç¬¬7ã€8ä½ä¸ºå‡ºç”Ÿå¹´ä»½(ä¸¤ä½æ•°)ï¼Œç¬¬9ã€10ä½ä¸ºå‡ºç”Ÿæœˆä»½ï¼Œç¬¬11ã€12ä½ä»£è¡¨å‡ºç”Ÿæ—¥æœŸï¼Œç¬¬15ä½ä»£è¡¨æ€§åˆ«ï¼Œå¥‡æ•°ä¸ºç”·ï¼Œå¶æ•°ä¸ºå¥³ã€‚ * --18ä½èº«ä»½è¯å·ç ï¼šç¬¬7ã€8ã€9ã€10ä½ä¸ºå‡ºç”Ÿå¹´ä»½(å››ä½æ•°)ï¼Œç¬¬11ã€ç¬¬12ä½ä¸ºå‡ºç”Ÿæœˆä»½ï¼Œç¬¬13ã€14ä½ä»£è¡¨å‡ºç”Ÿæ—¥æœŸï¼Œç¬¬17ä½ä»£è¡¨æ€§åˆ«ï¼Œå¥‡æ•°ä¸ºç”·ï¼Œå¶æ•°ä¸ºå¥³ï¼Œæœ€åŽä¸€ä½ä¸ºæ ¡éªŒä½ã€‚ */public class IdcardValidator &#123; /** * çœã€ç›´è¾–å¸‚ä»£ç è¡¨ï¼š * 11 : åŒ—äº¬ 12 : å¤©æ´¥ 13 : æ²³åŒ— 14 : å±±è¥¿ 15 : å†…è’™å¤ * 21 : è¾½å® 22 : å‰æž— 23 : é»‘é¾™æ±Ÿ 31 : ä¸Šæµ· 32 : æ±Ÿè‹ * 33 : æµ™æ±Ÿ 34 : å®‰å¾½ 35 : ç¦å»º 36 : æ±Ÿè¥¿ 37 : å±±ä¸œ * 41 : æ²³å— 42 : æ¹–åŒ— 43 : æ¹–å— 44 : å¹¿ä¸œ 45 : å¹¿è¥¿ 46 : æµ·å— * 50 : é‡åº† 51 : å››å· 52 : è´µå·ž 53 : äº‘å— 54 : è¥¿è— * 61 : é™•è¥¿ 62 : ç”˜è‚ƒ 63 : é’æµ· 64 : å®å¤ 65 : æ–°ç–† * 71 : å°æ¹¾ 81 : é¦™æ¸¯ 82 : æ¾³é—¨ 91 : å›½å¤– */ private static String cityCode[] = &#123;&quot;11&quot;, &quot;12&quot;, &quot;13&quot;, &quot;14&quot;, &quot;15&quot;, &quot;21&quot;, &quot;22&quot;, &quot;23&quot;, &quot;31&quot;, &quot;32&quot;, &quot;33&quot;, &quot;34&quot;, &quot;35&quot;, &quot;36&quot;, &quot;37&quot;, &quot;41&quot;, &quot;42&quot;, &quot;43&quot;, &quot;44&quot;, &quot;45&quot;, &quot;46&quot;, &quot;50&quot;, &quot;51&quot;, &quot;52&quot;, &quot;53&quot;, &quot;54&quot;, &quot;61&quot;, &quot;62&quot;, &quot;63&quot;, &quot;64&quot;, &quot;65&quot;, &quot;71&quot;, &quot;81&quot;, &quot;82&quot;, &quot;91&quot;&#125;; /** * æ¯ä½åŠ æƒå› å­ */ private static int power[] = &#123;7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2&#125;; /** * éªŒè¯æ‰€æœ‰èº«ä»½è¯çš„åˆæ³•æ€§ * * @param idcard èº«ä»½è¯ * @return åˆæ³•è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalse */ public static boolean isValidatedAllIdcard(String idcard) &#123; if (idcard == null) &#123; return false; &#125; else if (idcard.length() == 15) &#123; return validate15IDCard(idcard); &#125; else if (idcard.length() == 18) &#123; return validate18Idcard(idcard); &#125; else &#123; return false; &#125; &#125; /** * åˆ¤æ–­18ä½èº«ä»½è¯çš„åˆæ³•æ€§ * æ ¹æ®ã€–ä¸­åŽäººæ°‘å…±å’Œå›½å›½å®¶æ ‡å‡†GB11643-1999ã€—ä¸­æœ‰å…³å…¬æ°‘èº«ä»½å·ç çš„è§„å®šï¼Œå…¬æ°‘èº«ä»½å·ç æ˜¯ç‰¹å¾ç»„åˆç ï¼Œç”±åä¸ƒä½æ•°å­—æœ¬ä½“ç å’Œä¸€ä½æ•°å­—æ ¡éªŒç ç»„æˆã€‚ * æŽ’åˆ—é¡ºåºä»Žå·¦è‡³å³ä¾æ¬¡ä¸ºï¼šå…­ä½æ•°å­—åœ°å€ç ï¼Œå…«ä½æ•°å­—å‡ºç”Ÿæ—¥æœŸç ï¼Œä¸‰ä½æ•°å­—é¡ºåºç å’Œä¸€ä½æ•°å­—æ ¡éªŒç ã€‚ * é¡ºåºç : è¡¨ç¤ºåœ¨åŒä¸€åœ°å€ç æ‰€æ ‡è¯†çš„åŒºåŸŸèŒƒå›´å†…ï¼Œå¯¹åŒå¹´ã€åŒæœˆã€åŒ æ—¥å‡ºç”Ÿçš„äººç¼–å®šçš„é¡ºåºå·ï¼Œé¡ºåºç çš„å¥‡æ•°åˆ†é…ç»™ç”·æ€§ï¼Œå¶æ•°åˆ†é… ç»™å¥³æ€§ã€‚ * &lt;p&gt; * (1).å‰1ã€2ä½æ•°å­—è¡¨ç¤ºï¼šæ‰€åœ¨çœä»½çš„ä»£ç ï¼› * (2).ç¬¬3ã€4ä½æ•°å­—è¡¨ç¤ºï¼šæ‰€åœ¨åŸŽå¸‚çš„ä»£ç ï¼› * (3).ç¬¬5ã€6ä½æ•°å­—è¡¨ç¤ºï¼šæ‰€åœ¨åŒºåŽ¿çš„ä»£ç ï¼› * (4).ç¬¬7~14ä½æ•°å­—è¡¨ç¤ºï¼šå‡ºç”Ÿå¹´ã€æœˆã€æ—¥ï¼› * (5).ç¬¬15ã€16ä½æ•°å­—è¡¨ç¤ºï¼šæ‰€åœ¨åœ°çš„æ´¾å‡ºæ‰€çš„ä»£ç ï¼› * (6).ç¬¬17ä½æ•°å­—è¡¨ç¤ºæ€§åˆ«ï¼šå¥‡æ•°è¡¨ç¤ºç”·æ€§ï¼Œå¶æ•°è¡¨ç¤ºå¥³æ€§ï¼› * (7).ç¬¬18ä½æ•°å­—æ˜¯æ ¡æ£€ç ï¼šä¹Ÿæœ‰çš„è¯´æ˜¯ä¸ªäººä¿¡æ¯ç ï¼Œä¸€èˆ¬æ˜¯éšè®¡ç®—æœºçš„éšæœºäº§ç”Ÿï¼Œç”¨æ¥æ£€éªŒèº«ä»½è¯çš„æ­£ç¡®æ€§ã€‚æ ¡æ£€ç å¯ä»¥æ˜¯0~9çš„æ•°å­—ï¼Œæœ‰æ—¶ä¹Ÿç”¨xè¡¨ç¤ºã€‚ * &lt;p&gt; * ç¬¬åå…«ä½æ•°å­—(æ ¡éªŒç )çš„è®¡ç®—æ–¹æ³•ä¸ºï¼š * (1).å°†å‰é¢çš„èº«ä»½è¯å·ç 17ä½æ•°åˆ†åˆ«ä¹˜ä»¥ä¸åŒçš„ç³»æ•°ã€‚ä»Žç¬¬ä¸€ä½åˆ°ç¬¬åä¸ƒä½çš„ç³»æ•°åˆ†åˆ«ä¸ºï¼š7 9 10 5 8 4 2 1 6 3 7 9 10 5 8 4 2 * (2).å°†è¿™17ä½æ•°å­—å’Œç³»æ•°ç›¸ä¹˜çš„ç»“æžœç›¸åŠ ã€‚ * (3).ç”¨åŠ å‡ºæ¥å’Œé™¤ä»¥11ï¼Œçœ‹ä½™æ•°æ˜¯å¤šå°‘ * (4).ä½™æ•°åªå¯èƒ½æœ‰0 1 2 3 4 5 6 7 8 9 10è¿™11ä¸ªæ•°å­—ã€‚å…¶åˆ†åˆ«å¯¹åº”çš„æœ€åŽä¸€ä½èº«ä»½è¯çš„å·ç ä¸º1 0 X 9 8 7 6 5 4 3 2 * (5).é€šè¿‡ä¸Šé¢å¾—çŸ¥å¦‚æžœä½™æ•°æ˜¯2ï¼Œå°±ä¼šåœ¨èº«ä»½è¯çš„ç¬¬18ä½æ•°å­—ä¸Šå‡ºçŽ°ç½—é©¬æ•°å­—çš„â…©ã€‚å¦‚æžœä½™æ•°æ˜¯10ï¼Œèº«ä»½è¯çš„æœ€åŽä¸€ä½å·ç å°±æ˜¯2ã€‚ * * @param idcard 18ä½èº«ä»½è¯å· * @return æ˜¯å¦åˆæ³• */ public static boolean validate18Idcard(String idcard) &#123; if (idcard == null) &#123; return false; &#125; // éž18ä½ä¸ºå‡ if (idcard.length() != 18) &#123; return false; &#125; // èŽ·å–å‰17ä½ String idcard17 = idcard.substring(0, 17); // å‰17ä½å…¨éƒ¨ä¸ºæ•°å­— if (!isDigital(idcard17)) &#123; return false; &#125; String provinceid = idcard.substring(0, 2); // æ ¡éªŒçœä»½ if (!checkProvinceid(provinceid)) &#123; return false; &#125; // æ ¡éªŒå‡ºç”Ÿæ—¥æœŸ String birthday = idcard.substring(6, 14); SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd&quot;); try &#123; Date birthDate = sdf.parse(birthday); String tmpDate = sdf.format(birthDate); if (!tmpDate.equals(birthday)) &#123;// å‡ºç”Ÿå¹´æœˆæ—¥ä¸æ­£ç¡® return false; &#125; &#125; catch (ParseException e1) &#123; return false; &#125; // èŽ·å–ç¬¬18ä½ String idcard18Code = idcard.substring(17, 18); char c[] = idcard17.toCharArray(); int bit[] = converCharToInt(c); int sum17 = 0; sum17 = getPowerSum(bit); // å°†å’Œå€¼ä¸Ž11å–æ¨¡å¾—åˆ°ä½™æ•°è¿›è¡Œæ ¡éªŒç åˆ¤æ–­ String checkCode = getCheckCodeBySum(sum17); if (null == checkCode) &#123; return false; &#125; // å°†èº«ä»½è¯çš„ç¬¬18ä½ä¸Žç®—å‡ºæ¥çš„æ ¡ç è¿›è¡ŒåŒ¹é…ï¼Œä¸ç›¸ç­‰å°±ä¸ºå‡ if (!idcard18Code.equalsIgnoreCase(checkCode)) &#123; return false; &#125; return true; &#125; /** * æ ¡éªŒ15ä½èº«ä»½è¯ * åªæ ¡éªŒçœä»½å’Œå‡ºç”Ÿå¹´æœˆæ—¥ * * @param idcard * @return */ public static boolean validate15IDCard(String idcard) &#123; if (idcard == null) &#123; return false; &#125; // éž15ä½ä¸ºå‡ if (idcard.length() != 15) &#123; return false; &#125; // 15å…¨éƒ¨ä¸ºæ•°å­— if (!isDigital(idcard)) &#123; return false; &#125; String provinceid = idcard.substring(0, 2); // æ ¡éªŒçœä»½ if (!checkProvinceid(provinceid)) &#123; return false; &#125; String birthday = idcard.substring(6, 12); SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyMMdd&quot;); try &#123; Date birthDate = sdf.parse(birthday); String tmpDate = sdf.format(birthDate); if (!tmpDate.equals(birthday)) &#123;// èº«ä»½è¯æ—¥æœŸé”™è¯¯ return false; &#125; &#125; catch (ParseException e1) &#123; return false; &#125; return true; &#125; /** * å°†15ä½çš„èº«ä»½è¯è½¬æˆ18ä½èº«ä»½è¯ * * @param idcard * @return */ public static String convertIdcarBy15bit(String idcard) &#123; if (idcard == null) &#123; return null; &#125; // éž15ä½èº«ä»½è¯ if (idcard.length() != 15) &#123; return null; &#125; // 15å…¨éƒ¨ä¸ºæ•°å­— if (!isDigital(idcard)) &#123; return null; &#125; String provinceid = idcard.substring(0, 2); // æ ¡éªŒçœä»½ if (!checkProvinceid(provinceid)) &#123; return null; &#125; String birthday = idcard.substring(6, 12); SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyMMdd&quot;); Date birthdate = null; try &#123; birthdate = sdf.parse(birthday); String tmpDate = sdf.format(birthdate); if (!tmpDate.equals(birthday)) &#123;// èº«ä»½è¯æ—¥æœŸé”™è¯¯ return null; &#125; &#125; catch (ParseException e1) &#123; return null; &#125; Calendar cday = Calendar.getInstance(); cday.setTime(birthdate); String year = String.valueOf(cday.get(Calendar.YEAR)); String idcard17 = idcard.substring(0, 6) + year + idcard.substring(8); char c[] = idcard17.toCharArray(); String checkCode = &quot;&quot;; // å°†å­—ç¬¦æ•°ç»„è½¬ä¸ºæ•´åž‹æ•°ç»„ int bit[] = converCharToInt(c); int sum17 = 0; sum17 = getPowerSum(bit); // èŽ·å–å’Œå€¼ä¸Ž11å–æ¨¡å¾—åˆ°ä½™æ•°è¿›è¡Œæ ¡éªŒç  checkCode = getCheckCodeBySum(sum17); // èŽ·å–ä¸åˆ°æ ¡éªŒä½ if (null == checkCode) &#123; return null; &#125; // å°†å‰17ä½ä¸Žç¬¬18ä½æ ¡éªŒç æ‹¼æŽ¥ idcard17 += checkCode; return idcard17; &#125; /** * æ ¡éªŒçœä»½ * * @param provinceid * @return åˆæ³•è¿”å›žTRUEï¼Œå¦åˆ™è¿”å›žFALSE */ private static boolean checkProvinceid(String provinceid) &#123; for (String id : cityCode) &#123; if (id.equals(provinceid)) &#123; return true; &#125; &#125; return false; &#125; /** * æ•°å­—éªŒè¯ * * @param str * @return */ private static boolean isDigital(String str) &#123; return str.matches(&quot;^[0-9]*$&quot;); &#125; /** * å°†èº«ä»½è¯çš„æ¯ä½å’Œå¯¹åº”ä½çš„åŠ æƒå› å­ç›¸ä¹˜ä¹‹åŽï¼Œå†å¾—åˆ°å’Œå€¼ * * @param bit * @return */ private static int getPowerSum(int[] bit) &#123; int sum = 0; if (power.length != bit.length) &#123; return sum; &#125; for (int i = 0; i &lt; bit.length; i++) &#123; for (int j = 0; j &lt; power.length; j++) &#123; if (i == j) &#123; sum = sum + bit[i] * power[j]; &#125; &#125; &#125; return sum; &#125; /** * å°†å’Œå€¼ä¸Ž11å–æ¨¡å¾—åˆ°ä½™æ•°è¿›è¡Œæ ¡éªŒç åˆ¤æ–­ * * @param sum17 * @return æ ¡éªŒä½ */ private static String getCheckCodeBySum(int sum17) &#123; String checkCode = null; switch (sum17 % 11) &#123; case 10: checkCode = &quot;2&quot;; break; case 9: checkCode = &quot;3&quot;; break; case 8: checkCode = &quot;4&quot;; break; case 7: checkCode = &quot;5&quot;; break; case 6: checkCode = &quot;6&quot;; break; case 5: checkCode = &quot;7&quot;; break; case 4: checkCode = &quot;8&quot;; break; case 3: checkCode = &quot;9&quot;; break; case 2: checkCode = &quot;x&quot;; break; case 1: checkCode = &quot;0&quot;; break; case 0: checkCode = &quot;1&quot;; break; &#125; return checkCode; &#125; /** * å°†å­—ç¬¦æ•°ç»„è½¬ä¸ºæ•´åž‹æ•°ç»„ * * @param c * @return * @throws NumberFormatException */ private static int[] converCharToInt(char[] c) throws NumberFormatException &#123; int[] a = new int[c.length]; int k = 0; for (char temp : c) &#123; a[k++] = Integer.parseInt(String.valueOf(temp)); &#125; return a; &#125; public static void main(String[] args) throws Exception &#123; String idcard15 = &quot;130321860311519&quot;; String idcard18 = &quot;210102198617083732&quot;;// // 15ä½èº«ä»½è¯ System.out.println(isValidatedAllIdcard(idcard15)); // 18ä½èº«ä»½è¯ System.out.println(isValidatedAllIdcard(idcard18)); // 15ä½èº«ä»½è¯è½¬18ä½èº«ä»½è¯ System.out.println(convertIdcarBy15bit(idcard15)); &#125;&#125; é“¶è¡Œå¡å·åˆæ³•æ€§æ ¡éªŒ123456789101112131415161718192021222324252627282930313233343536373839/** * æ ¡éªŒé“¶è¡Œå¡å¡å· * @param cardId * @return */public static boolean checkBankCard(String cardId) &#123; if(cardId.length() != 16 &amp;&amp; cardId.length() != 19)&#123; return false; &#125; char bit = getBankCardCheckCode(cardId.substring(0, cardId.length() - 1)); if(bit == &apos;N&apos;)&#123; return false; &#125; return cardId.charAt(cardId.length() - 1) == bit;&#125;/** * ä»Žä¸å«æ ¡éªŒä½çš„é“¶è¡Œå¡å¡å·é‡‡ç”¨ Luhm æ ¡éªŒç®—æ³•èŽ·å¾—æ ¡éªŒä½ * @param nonCheckCodeCardId * @return */public static char getBankCardCheckCode(String nonCheckCodeCardId)&#123; if(nonCheckCodeCardId == null || nonCheckCodeCardId.trim().length() == 0 || !nonCheckCodeCardId.matches(&quot;\\d+&quot;)) &#123; //å¦‚æžœä¼ çš„ä¸æ˜¯æ•°æ®è¿”å›žN return &apos;N&apos;; &#125; char[] chs = nonCheckCodeCardId.trim().toCharArray(); int luhmSum = 0; for(int i = chs.length - 1, j = 0; i &gt;= 0; i--, j++) &#123; int k = chs[i] - &apos;0&apos;; if(j % 2 == 0) &#123; k *= 2; k = k / 10 + k % 10; &#125; luhmSum += k; &#125; return (luhmSum % 10 == 0) ? &apos;0&apos; : (char)((10 - luhmSum % 10) + &apos;0&apos;);&#125; å¯†ç åˆæ³•æ€§æ ¡éªŒï¼ˆ6-10ä½å­—æ¯æ•°å­—ç»„åˆä¸ºä¾‹ï¼‰123456public static boolean isNewPwdIllegal(String str) throws PatternSyntaxException &#123; String regExp = &quot;^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]&#123;6,10&#125;$&quot;; Pattern p = Pattern.compile(regExp); Matcher m = p.matcher(str); return m.matches();&#125; æ—¶é—´æ ¼å¼yyyy-MM-dd hh:mm:ss123456public static boolean isLegalTime(String str)&#123; String regExp = &quot;^(((([0-9]&#123;3&#125;[1-9]|[0-9]&#123;2&#125;[1-9][0-9]|[0-9][1-9][0-9]&#123;2&#125;|[1-9][0-9]&#123;3&#125;)-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]&#123;2&#125;)(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))-02-29)) (20|21|22|23|[0-1][0-9]):[0-5][0-9]:[0-5][0-9])$&quot;; Pattern p = Pattern.compile(regExp); Matcher m = p.matcher(str); return m.matches(); &#125; é‚®ç®±æ ¼å¼123456public static boolean isMailLegal(String str)&#123; String regExp = &quot;^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$&quot;; Pattern p = Pattern.compile(regExp); Matcher m = p.matcher(str); return m.matches(); &#125; Ipv4åœ°å€123456public static boolean isIpv4(String str)&#123; String regExp = &quot;([1-9]|[1-9]\\d|1\\d&#123;2&#125;|2[0-4]\\d|25[0-5])(\\.(\\d|[1-9]\\d|1\\d&#123;2&#125;|2[0-4]\\d|25[0-5]))&#123;3&#125;&quot;; Pattern p = Pattern.compile(regExp); Matcher m = p.matcher(str); return m.matches(); &#125; Booleanç±»åž‹çš„å­—ç¬¦ä¸²å½¢å¼123456public static boolean isBoolean(String str)&#123; String regExp = &quot;^(true)|(false)$&quot;; Pattern p = Pattern.compile(regExp); Matcher m = p.matcher(str.toLowerCase()); return m.matches(); &#125; unixæ—¶é—´æˆ³ï¼Œæ¯«ç§’çº§ï¼Œåˆ°2030å¹´123456public static boolean isLegalTimestamp(String str) &#123; String regExp = &quot;^1[5-9]\\d&#123;11&#125;$&quot;; Pattern p = Pattern.compile(regExp); Matcher m = p.matcher(str); return m.matches();&#125; qqå·åŠå¾®ä¿¡å·Regex12qqå·ï¼š^[1-9][0-9]&#123;4,10&#125;$å¾®ä¿¡å·ï¼š^[a-zA-Z][-_a-zA-Z0-9]&#123;5,19&#125;$ å¾®ä¿¡å·è§„åˆ™å‚è€ƒï¼šhttp://kf.qq.com/touch/faq/120813euEJVf141212Vfi6fA.html æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨åœºæ™¯å¾ˆå¤šï¼Œä¸å¤æ‚çš„çŽ°ç”¨çŽ°å†™å³å¯ã€‚ç½‘ä¸Šæœ‰è®¸å¤šå¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼æ€»ç»“ï¼Œç”¨æ—¶å‚è€ƒã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Limax ZDBç®€å•ä»‹ç»åŠæ­»é”åˆ†æž]]></title>
    <url>%2F2017%2F05%2F22%2Flimax_zdb%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯limaxæ˜¯æ¯”è¾ƒå°ä¼—çš„åº”ç”¨æœåŠ¡å™¨æ¡†æž¶ï¼Œzdbæ˜¯limaxé‡‡ç”¨çš„æ•°æ®å­˜å‚¨æ–¹å¼ã€‚zdbé‡‡ç”¨k-vå­˜å‚¨ï¼Œæ²¡æœ‰äº‹åŠ¡çš„æ¦‚å¿µï¼Œè‡ªå¸¦é”ï¼ˆåŠ é”å’Œè§£é”åŒæ“ä½œå°è£…åœ¨ä¸€èµ·ï¼Œå¯¹å¤–éšè—ï¼‰ï¼Œç¼–ç¨‹è¾ƒä¸ºç®€å•ã€‚é¡¹ç›®å‰æœŸä½¿ç”¨zdbè¿›è¡Œæ•°æ®å­˜å‚¨ï¼Œéšç€é¡¹ç›®è§„æ¨¡çš„æ‰©å¤§ï¼Œæš´éœ²å‡ºä¸€äº›é—®é¢˜ã€‚æ¯ä¸ªæœåŠ¡å™¨éƒ½æœ‰ä¸€ä¸ªzdb.xmlæ–‡ä»¶ï¼ŒåŸºäºŽè¯¥æ–‡ä»¶ï¼Œantæž„å»ºç”Ÿæˆçš„tableå’Œxbeanä¹Ÿåªæœ‰å½“å‰æœåŠ¡å™¨å¯ä»¥è¯»å–ã€‚ä¸ºä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œzdbä½¿ç”¨æ–¹å¼è‹¥æœªä¸¥æ ¼æ³¨æ„ï¼Œå¯¼è‡´æ•°æ®åˆ†æ•£åœ¨ä¸åŒèŒèƒ½çš„æœåŠ¡å™¨ä¸Šï¼Œå½“æŸä¸ªåŠŸèƒ½éœ€è¦çš„æ•°æ®éœ€è¦ä»Žä¸åŒçš„æœåŠ¡å™¨ä¸Šè¯»å–æ—¶ï¼Œè¿™å°±å¾ˆå°´å°¬äº†ï¼Œæ•°æ®è¯»å–ç¹çï¼ŒæœåŠ¡å™¨ä¹‹é—´é€šä¿¡åè®®çš„ç¹çå¯¼è‡´ç¼–ç¨‹çš„ç¹çã€‚çŽ°åœ¨æ­£åœ¨é€æ­¥åºŸå¼ƒzdbï¼Œé‡‡ç”¨ä¸»æµçš„mysql+rediså­˜å‚¨ã€‚ ZDBzdbå®šä¹‰è¡¨æ—¶ï¼Œä¸»é”®æ— æ³•å®šä¹‰é”®åï¼Œåªéœ€å®šä¹‰ä¸»é”®ç±»åž‹ã€‚ä»¥ç®€å•çš„æ‰‹æœºç»‘å®šé€é’»åŠŸèƒ½ä¸ºä¾‹,zdbè®¾è®¡å¦‚ä¸‹ï¼Œmobile_id_tableä¸ºè¡¨åï¼Œstringä¸ºä¸»é”®ç±»åž‹ï¼Œå½“å‰è¡¨ä¸»é”®ä¸ºè´¦æˆ·IDï¼Œvalueä¸ºè®°å½•ç±»ï¼ŒMobileIdBeanå®šä¹‰è®°å½•åŒ…æ‹¬çš„å­—æ®µã€‚ 12345678&lt;table name=&quot;mobile_id_table&quot; key=&quot;string&quot; value=&quot;MobileIdBean&quot;/&gt;&lt;xbean name=&quot;MobileIdBean&quot;&gt;&lt;variable name=&quot;accountId&quot; type=&quot;int&quot;/&gt;&lt;!-- è´¦å·ID --&gt; &lt;variable name=&quot;bindTime&quot; type=&quot;long&quot;/&gt;&lt;!-- ç»‘å®šæ—¶é—´ --&gt; &lt;variable name=&quot;status&quot; type=&quot;string&quot;/&gt;&lt;!-- éªŒè¯çŠ¶æ€ --&gt; &lt;variable name=&quot;code&quot; type=&quot;string&quot;/&gt;&lt;!-- éªŒè¯ç  --&gt; &lt;variable name=&quot;codeTime&quot; type=&quot;long&quot;/&gt;&lt;!-- éªŒè¯ç å‘æ”¾æ—¶é—´ --&gt;&lt;/xbean&gt; éœ€æ±‚ä¸­é™¤äº†é€šè¿‡æ‰‹æœºå·æŸ¥ç»‘å®šæ—¶é—´å’Œè´¦æˆ·IDï¼Œè¿˜æœ‰é€šè¿‡è´¦å·IDæŸ¥ç»‘å®šæ—¶é—´å’Œæ‰‹æœºå·ã€‚ç”±äºŽzdbçš„å±€é™æ€§ï¼Œå¯¼è‡´ç¬¬äºŒå¼ è¡¨çš„äº§ç”Ÿã€‚zdbæŸ¥ç‰¹å®šæ•°æ®åªèƒ½é€šè¿‡ä¸»é”®ï¼Œæ‰€ä»¥è¿™é‡Œé‡‡å–åŒå‘è¡¨çš„æ–¹å¼ï¼Œä½†æ˜¯æœ‰æ•°æ®å†—ä½™çš„é—®é¢˜ï¼Œéƒ½å­˜å‚¨äº†ç»‘å®šæ—¶é—´ã€‚ä½†æ˜¯æŸ¥æ•°æ®å¿«ï¼Œæ— è®ºä½•ç§æ–¹å¼æŸ¥ï¼Œéƒ½ä»…éœ€æŸ¥ä¸€å¼ è¡¨ã€‚ 123456&lt;table name=&quot;id_mobile_table&quot; key=&quot;int&quot; value=&quot;IdMobileBean&quot;/&gt;&lt;xbean name=&quot;IdMobileBean&quot;&gt;&lt;variable name=&quot;accountMobile&quot; type=&quot;string&quot;/&gt;&lt;!-- è´¦å·æ‰‹æœºå· --&gt;&lt;variable name=&quot;bindTime&quot; type=&quot;long&quot;/&gt;&lt;!-- ç»‘å®šæ—¶é—´ --&gt;&lt;variable name=&quot;bindAward&quot; type=&quot;int&quot;/&gt;&lt;!-- ç»‘å®šæ‰€å¾—å¥–åŠ±ï¼ŒåŽ†å²è®°å½• --&gt;&lt;/xbean&gt; ä¸ºè§£å†³ä¸Šè¿°æ•°æ®å†—ä½™çš„é—®é¢˜ï¼Œå¯é‡‡ç”¨å¦‚ä¸‹æ–¹å¼ï¼š 1234&lt;table name=&quot;id_mobile_table&quot; key=&quot;int&quot; value=&quot;IdMobileBean&quot;/&gt;&lt;xbean name=&quot;IdMobileBean&quot;&gt; &lt;variable name=&quot;accountMobile&quot; type=&quot;string&quot;/&gt;&lt;!-- è´¦å·æ‰‹æœºå· --&gt;&lt;/xbean&gt; é€šè¿‡æ‰‹æœºæŸ¥ï¼Œç›´æŽ¥æŸ¥ç¬¬ä¸€å¼ è¡¨ã€‚é€šè¿‡è´¦å·IDæŸ¥ï¼ŒæŸ¥ç¬¬äºŒå¼ è¡¨ï¼Œæ‹¿åˆ°æ‰‹æœºå·åŽå†æŸ¥ç¬¬ä¸€å¼ è¡¨ã€‚é€šè¿‡è´¦å·IDæŸ¥æ•°æ®å°±å˜å¾—æ¯”è¾ƒç¹çï¼Œéœ€è¦è¯»ä¸¤å¼ è¡¨ã€‚zdbå®šä¹‰å®šä¹‰å®ŒæˆåŽï¼Œcmdåˆ°å¯¹åº”è·¯å¾„ä¸‹æ‰§è¡Œantï¼Œå³ç”Ÿæˆç›¸åº”çš„tableç±»åŠxbeanç±»ã€‚zdbéåŽ†æ•°æ®æ•ˆçŽ‡æ¯”è¾ƒä½Žã€‚åªæœ‰walkä¸€ç§æ–¹å¼: 1table.mobile_id_table.get().walk((key, value) -&gt; &#123;return true;&#125;); æ“ä½œæ˜¯ä»Žç¡¬ç›˜ä¸­è¯»å–æ•°æ®åˆ°å†…å­˜ï¼Œæ•ˆçŽ‡æ¯”è¾ƒä½Žã€‚è€Œä¸”ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µï¼Œå¢žåˆ æ”¹æ•°æ®åŽï¼Œå¯èƒ½å‡ºçŽ°å†…å­˜æ•°æ®å°šæœªè½åœ°åˆ°ç¡¬ç›˜ï¼Œget().walkèŽ·å–çš„æ•°æ®æ˜¯ä»Žç¡¬ç›˜ç›´æŽ¥èŽ·å¾—çš„ï¼ŒèŽ·å–åˆ°çš„æ˜¯æœªæ‰§è¡Œå¢žåˆ æ”¹å‰çš„é”™è¯¯æ•°æ®ã€‚ 1table.Channel_version_table.get().getCache().walk((key, value) -&gt; &#123; &#125;); æ“ä½œæ˜¯ä»Žå†…å­˜ä¸­è¯»å–æ•°æ®ï¼Œç›¸å¯¹äºŽç¬¬ä¸€ç§ï¼Œæ•ˆçŽ‡è‚¯å®šé«˜ã€‚è¿™ç§æ“ä½œåªä¼šè¯»å–å†…å­˜çš„æ•°æ®ï¼Œä¸ä¼šè¯»å–ç¡¬ç›˜çš„æ•°æ®ï¼Œä¼šå¯¼è‡´æ•°æ®è¯»å–ä¸å®Œå…¨ã€‚é‡‡å–çš„è§£å†³æ–¹æ³•æ˜¯èµ·æœæ—¶å°†æ‰€éœ€è¡¨çš„æ•°æ®get().walkåˆ°å†…å­˜ä¸­ï¼ŒåŽç»­æ•°æ®éƒ½æ˜¯æ“ä½œå†…å­˜ï¼Œé™¤äº†æå‡æ•ˆçŽ‡å¤–ï¼Œä¸ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´æˆ–æ•°æ®ä¸å®Œå…¨çš„æƒ…å†µã€‚zdbè¯»å–æ•°æ®æ—¶ï¼Œèƒ½ä¸ä½¿ç”¨walkéåŽ†å°±ä¸é€‚ç”¨walkéåŽ†æ•°æ®ï¼Œå¯é‡‡ç”¨é…ç½®æ–‡ä»¶æˆ–è€…å“ˆå¸Œè¡¨å­˜å‚¨ä¸»é”®ï¼ˆé€‚ç”¨äºŽè®°å½•è¾ƒå°‘çš„æƒ…å†µï¼‰ï¼Œç„¶åŽé€ä¸€selectã€‚selectæ“ä½œæ˜¯å…ˆä»Žå†…å­˜ä¸­è¯»æ•°æ®ï¼Œè‹¥å†…å­˜ä¸­æ— æ•°æ®ï¼Œå†ä»Žç¡¬ç›˜ä¸­è¯»å–æ•°æ®ã€‚ æ­»é”è¿˜æœªå¼ƒç”¨zdbæ—¶ï¼Œç”±äºŽç¼–ç¨‹çš„é”™è¯¯å¯¼è‡´æ­»é”ï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸‹zdbæ­»é”çš„æƒ…å†µåŠæ³¨æ„äº‹é¡¹ã€‚ 1234567MobileIdBean mobileIdBean = table.Mobile_id_table.select(phoneNumber);if (mobileIdBean == null)&#123; mobileIdBean = table.Mobile_id_table.insert(phoneNumber); mobileIdBean.setAccountId(roleId); mobileIdBean.setCodeTime(0);&#125; å¹¶å‘æ‰§è¡Œselectï¼ˆçº¿ç¨‹èŽ·å–è¯»é”ï¼‰åŒä¸€ä¸ªphoneNumberæ—¶ï¼Œä¼šå‡ºçŽ°å¤šçº¿ç¨‹è¿›å…¥åˆ°ifé‡Œï¼Œæ‰§è¡Œæœ€å¿«çš„çº¿ç¨‹insertï¼ˆå‡çº§ä¸ºå†™é”ï¼‰ï¼ŒæˆåŠŸï¼ŒåŽç»­setAccountIdç­‰æ“ä½œæ­£å¸¸è¿›è¡Œã€‚è€Œå…¶ä½™çº¿ç¨‹insertå¤±è´¥ï¼Œè¿”å›žnullï¼Œæ“ä½œå‡ºé”™ã€‚åº”è¯¥å°†selectæ›´æ”¹ä¸ºupdate,åˆå§‹å°±èŽ·å–å†™é”ï¼Œå¹¶å‘çš„åŽç»­çº¿ç¨‹å°±åªèƒ½ç­‰å¾…å‰ä¸€çº¿ç¨‹ç»“æŸï¼Œä¸ä¼šå‡ºçŽ°å¤šä¸ªçº¿ç¨‹åŒæ—¶è¿›å…¥åˆ°ifçš„æƒ…å†µã€‚ 1234567MobileIdBean mobileIdBean = table.Mobile_id_table.update(phoneNumber);if (mobileIdBean == null)&#123; mobileIdBean = table.Mobile_id_table.insert(phoneNumber); mobileIdBean.setAccountId(roleId); mobileIdBean.setCodeTime(0);&#125; æ¶‰åŠåˆ°åŽç»­æ•°æ®æ›´æ”¹çš„æƒ…å†µï¼Œä¸è¦ä½¿ç”¨selectï¼ŒselectèŽ·å–çš„è¯»é”ï¼Œå…¶ä»–æ“ä½œï¼ˆinsert/delete/updateï¼‰èŽ·å–çš„æ˜¯å†™é”ã€‚ é¢˜å¤–è¯ï¼Œå…³äºŽç¼“å­˜é’ˆå¯¹ä¸»æµçš„mysql+rediså­˜å‚¨ã€‚ç”±äºŽç›´æŽ¥å¯¹mysqlè¯»å†™æ•°æ®æ•ˆçŽ‡ä½Žï¼Œå¼•å…¥ç¼“å­˜å¯è§£å†³æ•ˆçŽ‡é—®é¢˜ã€‚å¼•å…¥ç¼“å­˜å¯èƒ½ä¼šå‡ºçŽ°ä¸Žæ•°æ®åº“æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µï¼Œé¿å…è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œè¯»å†™æ•°æ®æ—¶å¯é‡‡å–å¦‚ä¸‹ç­–ç•¥ä¿è¯ç¼“å­˜ä¸Žæ•°æ®åº“æ•°æ®ä¿æŒä¸€è‡´ã€‚ è¯»æ•°æ®ä¿æŒä¸€è‡´å…ˆè¯»å–ç¼“å­˜ï¼Œè‹¥ä¸å­˜åœ¨åˆ™ä»ŽDBä¸­è¯»å–ï¼Œå¹¶å°†ç»“æžœå†™å…¥åˆ°ç¼“å­˜ä¸­ï¼›ä¸‹æ¬¡æ•°æ®è¯»å–æ—¶ä¾¿å¯ä»¥ç›´æŽ¥ä»Žç¼“å­˜ä¸­èŽ·å–æ•°æ®ã€‚ å†™æ•°æ®ä¿æŒä¸€è‡´ï¼ˆæ·˜æ±°ç­–ç•¥ï¼‰æ•°æ®çš„ä¿®æ”¹æ˜¯ç›´æŽ¥å¤±æ•ˆç¼“å­˜æ•°æ®ï¼Œå†ä¿®æ”¹DBå†…å®¹ï¼Œé¿å…DBä¿®æ”¹æˆåŠŸï¼Œä½†ç”±äºŽç½‘ç»œæˆ–è€…å…¶ä»–é—®é¢˜å¯¼è‡´ç¼“å­˜æ•°æ®æ²¡æœ‰æ¸…ç†ï¼Œé€ æˆäº†è„æ•°æ®ã€‚ æ·˜æ±°ç­–ç•¥ç®€å•å®¹æ˜“ç¼–ç¨‹ï¼Œ ä½†æ˜¯æ€§èƒ½ä¸å¥½ï¼Œå…ˆå†™å…¥ mysqlçš„æ—¶å€™æœ‰å¯èƒ½è€—æ—¶è¿‡é•¿ã€‚ å¯è€ƒè™‘åŒå†™ç­–ç•¥ï¼šä¸ä½†å†™å…¥Redisï¼Œè¿˜ä¼šå†™å…¥ Mysqlã€‚åŒå†™ç­–ç•¥æ€§åœ¨Redisä¸Šå†™å…¥æ€§èƒ½å¾ˆå¥½ï¼Œæ­¤æ—¶æ•°æ®ç«‹åˆ»å¯ç”¨ï¼Œåœ¨Mysqlä¸Šå¯èƒ½ä¼šå‡ºçŽ°å¤§é‡å¹¶å‘å†™å…¥é˜»å¡žï¼Œä¸€èˆ¬ä¼šé‡‡ç”¨é«˜å¯é æ¶ˆæ¯é˜Ÿåˆ—åŠ å¼ºMysqlçš„å†™å…¥ã€‚ è¿˜æœ‰ä¸€ç§ç‰ˆæœ¬ç­–ç•¥ï¼Œæ¯æ¬¡å†™å…¥Redisï¼Œåšå¢žé‡å†™å…¥ï¼Œä¸è¦†ç›–åŽŸæœ‰æ•°æ®ï¼Œå°†æ•°æ®ç‰ˆæœ¬å¢žåŠ ï¼Œé‡‡ç”¨æ¶ˆæ¯é˜Ÿåˆ—å»¶è¿Ÿå†™å…¥ Mysqlã€‚ç‰ˆæœ¬ç­–ç•¥ç¼–ç¨‹è¾ƒä¸ºå¤æ‚ã€‚ å¦‚æžœæ•°æ®é€»è¾‘ä¸Šæ˜¯è¯»å¤šå†™å°‘ï¼Œé‡‡ç”¨æ·˜æ±°ç­–ç•¥è¶³å¤Ÿã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQLå…å®‰è£…ç‰ˆé…ç½®]]></title>
    <url>%2F2017%2F05%2F16%2Fmysql%2F</url>
    <content type="text"><![CDATA[å¦‚æžœè¦ä½¿ç”¨Mysqlï¼Œç›´æŽ¥ä¸‹è½½å®‰è£…WAMPæˆ–è€…LAMPå³å¯ã€‚è‹¥å¯¹å…å®‰è£…Mysqlæœ‰å…´è¶£ï¼Œå¯å‚è€ƒæœ¬æ–‡ã€‚æœ€è¿‘é‡è£…ç³»ç»ŸåŽï¼Œæ•´äº†ä¸€ä¸ªå…å®‰è£…ç‰ˆçš„Mysqlï¼Œé…ç½®æ­¥éª¤è®°å½•å¦‚ä¸‹ã€‚Windows64ä¸‹é€šç”¨ï¼Œé…ç½®ä¸å—Mysqlç‰ˆæœ¬å·çš„å½±å“ã€‚æˆ‘æ˜¯åœ¨Win7é…ç½®ï¼Œç‰ˆæœ¬å·ä¸º5.7.18ã€‚ä¸‹è½½åœ°å€ è§£åŽ‹MySQLåŽ‹ç¼©åŒ…å°†ä¸‹è½½çš„MySQLåŽ‹ç¼©åŒ…è§£åŽ‹åˆ°è‡ªå®šä¹‰ç›®å½•ä¸‹ï¼Œæˆ‘çš„è§£åŽ‹ç›®å½•æ˜¯: G:\mysql\mysql-5.7.18-winx64 æ–°å»ºmy.iniï¼Œ å¤åˆ¶ä¸‹é¢çš„é…ç½®ä¿¡æ¯åˆ° my.ini ä¿å­˜1234567891011121314151617[client]port=3306default-character-set=utf8[mysqld]port=3306character_set_server=utf8#è§£åŽ‹ç›®å½•basedir=G:\mysql\mysql-5.7.18-winx64#è§£åŽ‹ç›®å½•ä¸‹dataç›®å½•datadir=G:\mysql\mysql-5.7.18-winx64\datasql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES[WinMySQLAdmin]G:\mysql\mysql-5.7.18-winx64\bin\mysqld.exe æ·»åŠ çŽ¯å¢ƒå˜é‡1.ç³»ç»Ÿå˜é‡ä¸‹æ–°å»ºå˜é‡ï¼Œå˜é‡åä¸ºï¼šMYSQL_HOMEï¼Œå˜é‡å€¼ä¸ºG:\mysql\mysql-5.7.18-winx642.ç¼–è¾‘ç³»ç»Ÿå˜é‡çš„Pathï¼Œæ·»åŠ å˜é‡å€¼;%MYSQL_HOME%\bin ç”Ÿæˆdataæ–‡ä»¶å¤¹1.ä»ŽæŽ§åˆ¶å°è¿›å…¥åˆ°MySQLè§£åŽ‹ç›®å½•ä¸‹çš„ bin ç›®å½•ä¸‹ï¼ˆç›´æŽ¥åœ¨ç›®å½•ä¸‹æŒ‰ä½shiftï¼Œç‚¹å‡»é¼ æ ‡å³é”®å¯çœ‹åˆ°â€œåœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤è¡Œçª—å£â€ï¼‰2.è¾“å…¥æœåŠ¡å®‰è£…å‘½ä»¤ï¼š mysqld --console mysqld --initialize mysqld install å®‰è£…æˆåŠŸåŽä¼šæç¤ºæœåŠ¡å®‰è£…æˆåŠŸï¼šService successfully installedã€‚ä¹‹æ‰€ä»¥æ‰§è¡Œè¿™å‡ æ­¥ï¼Œæ˜¯å› ä¸ºåœ¨è§£åŽ‹ç›®å½•ä¸­æ²¡æœ‰dataæ–‡ä»¶å¤¹ï¼Œéœ€è¦ç”¨è¿™å‡ ä¸ªå‘½ä»¤äº§ç”Ÿdataæ–‡ä»¶å¤¹ã€‚æ³¨ï¼šç§»é™¤æœåŠ¡å‘½ä»¤ä¸ºï¼šmysqld removeè‹¥æ‰§è¡Œmysqld installåŽï¼Œç³»ç»Ÿæç¤ºInstall/Remove of the Service Denied!ï¼Œåˆ™ç”¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmdå³å¯ å¯åŠ¨MySQLæœåŠ¡æ–¹æ³•ä¸€ï¼šå¯åŠ¨æœåŠ¡å‘½ä»¤ä¸ºï¼šnet start mysqlæ–¹æ³•äºŒï¼š æ‰“å¼€ç®¡ç†å·¥å…· æœåŠ¡ï¼Œæ‰¾åˆ°MySQLæœåŠ¡ã€‚é€šè¿‡å³é”®é€‰æ‹©å¯åŠ¨æˆ–è€…ç›´æŽ¥ç‚¹å‡»å·¦è¾¹çš„å¯åŠ¨æ¥å¯åŠ¨æœåŠ¡ ä¿®æ”¹ root è´¦å·çš„å¯†ç å½“æˆåŠŸè¿›å…¥å¼€å¯æœåŠ¡ä»¥åŽï¼Œcmdä¸‹æ‰§è¡Œ mysql -u root -p å›žè½¦ï¼Œè¾“å…¥å¯†ç ï¼Œå‡ºçŽ°ï¼š ERROR 1045 (28000): Access denied for user &apos;root&apos;@&apos;localhost&apos; (using password: NO) å…³é—­æœåŠ¡ net stop MySQL ç”¨å®‰å…¨æ¨¡å¼æ‰“å¼€ mysqld --skip-grant-tables æ­¤æ—¶å…‰æ ‡ä¼šä¸€ç›´é—ªã€‚æ³¨æ„ï¼Œä¸è¦å…³é—­å½“å‰çª—å£ï¼Œæ‰“å¼€å¦ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ã€‚ å’Œå‰é¢ä¸€æ ·çš„æ“ä½œï¼Œåœ¨binç›®å½•ä¸‹æ‰“å¼€cmdï¼Œç™»å½• mysql -u root -p å¯†ç ä¸ºç©º,ç›´æŽ¥å›žè½¦å³å¯è¿›å…¥ã€‚æ‰§è¡Œ use mysql; update user set authentication_string=password(&quot;123456&quot;) where user=&quot;root&quot;; flush privileges; ç™»å½•åˆšå¼€å§‹å¯åŠ¨å¤±è´¥ï¼Œæ˜¯å› ä¸ºmysqldè¿›ç¨‹è¿˜å¼€ç€å‘¢ï¼ŒkillæŽ‰é‡æ–°ç™»å½•å³å¯ã€‚æ³¨ï¼šè‹¥å®‰è£…æˆåŠŸï¼Œè¿›å…¥mysqlï¼Œä¸ç®¡æ‰§è¡Œä»€ä¹ˆå‘½ä»¤éƒ½æç¤ºï¼šYou must reset your password using ALTER USER statement before executing this statement.åˆ™æ‰§è¡Œä»¥ä¸‹ä¸‰æ­¥ï¼š12345step 1: SET PASSWORD = PASSWORD(&apos;your new password&apos;);step 2: ALTER USER &apos;root&apos;@&apos;localhost&apos; PASSWORD EXPIRE NEVER;step 3: flush privileges;]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>DataBase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é«˜æ•ˆæ´—ç‰Œç®—æ³•ä»‹ç»]]></title>
    <url>%2F2017%2F04%2F14%2Fshuffle_introduce%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å†™äº†ä¸€ä¸ªæ¢­å“ˆç‰ŒæˆDemoï¼Œç®€å•ä»‹ç»ç”¨åˆ°çš„æ´—ç‰Œç®—æ³•ã€‚123456789101112131415161718public void shuffle()&#123; // éšæœºä½æ•°ç´¢å¼• int tmpIndex; // ä¸´æ—¶å­˜å‚¨æ•°ç»„å½“å‰å€¼ Card tmpCard; for (int i = 0; i &lt; CardDeck.DECK_SIZE; i++) &#123; tmpIndex = (int)(Math.random() * CardDeck.DECK_SIZE); if (tmpIndex != i) &#123; tmpCard = cards[tmpIndex]; cards[tmpIndex] = cards[i]; cards[i] = tmpCard; &#125; &#125; return;&#125; æ€æƒ³ï¼šä»Žæ•°ç»„ç¬¬ä¸€ä½å¼€å§‹ï¼Œéšæœºrandomä¸€ä¸ªæ•°å­—ï¼Œç¬¬ä¸€ä½å’Œéšæœºå‡ºçš„é‚£ä½äº¤æ¢ï¼›ç„¶åŽä¾æ¬¡éåŽ†è¿™ä¸ªè¿‡ç¨‹åˆ°æœ€åŽä¸€å¼ ç‰Œã€‚æ—¶é—´å¤æ‚åº¦O(n)ï¼Œç©ºé—´å¤æ‚åº¦O(1)ã€‚ä¼˜ç‚¹ï¼šä¸ŽæŠ½ç‰Œç®—æ³•ï¼ˆéšæœºæŠ½ç‰Œæ”¾åˆ°æ–°æ•°ç»„ï¼Œç›´åˆ°æŠ½å®Œä¸ºæ­¢ï¼‰ç›¸æ¯”ï¼Œå½“å‰æ´—ç‰Œç®—æ³•éšæœºæ€§æ›´å¼ºï¼Œå·²éšæœºçš„ä½æ•°ä»ä¼šä¸ŽåŽé¢éšæœºçš„æ•°ä½äº¤æ¢ï¼›æ— éœ€å¼€è¾Ÿæ–°æ•°ç»„ï¼Œç©ºé—´å¤æ‚åº¦é™ä½Žã€‚å¦å¤–ï¼ŒDemoä¸Žä¼ ç»Ÿæ¢­å“ˆç›¸æ¯”ï¼ŒåŠ å…¥äº”å¼ é¬¼ç‰Œï¼Œéš¾åº¦å‡çº§ã€‚ç‰Œåž‹åˆ¤æ–­åŠç®€å•æœºå™¨åšå¼ˆç®—æ³•è¿˜æ˜¯æœ‰ç‚¹éš¾åº¦çš„ã€‚æ„Ÿå…´è¶£å¯çœ‹ä¸‹Demoï¼šGithubé“¾æŽ¥]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¸¸æˆå¼€å‘åŽ†ç¨‹è®°å½•-H5]]></title>
    <url>%2F2017%2F03%2F26%2FH5_record%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯H5æ¸¸æˆå‰ç«¯å¼€å‘æœ‰å°†è¿‘ä¸€å¹´ç»éªŒï¼Œå¤§éƒ¨åˆ†é¡¹ç›®éƒ½æ˜¯å•å…µä½œæˆ˜ã€‚ä¸»è¦ä½¿ç”¨å¼•æ“Žå’Œè¯­è¨€ä¸ºEgret(TypeScipt)ï¼ŒConstruct2(JavaScript)ã€‚å‰ç«¯å®Œå…¨ç‹¬ç«‹å¼€å‘çš„ä¸Šçº¿æ¸¸æˆæœ‰ä¸‰æ¬¾ï¼šSurvivalï¼ˆæ´»ä¸‹åŽ»ï¼‰ï¼Œç °ç °å…”ï¼ŒIOæ¸¸æˆç‚¸å¼¹äººã€‚çŽ°åœ¨è½¬å‘æ¸¸æˆæœåŠ¡ç«¯å¼€å‘ï¼Œå¼€å‘è¯­è¨€ç›®å‰ä»¥Javaä¸ºä¸»ï¼Œé¡¹ç›®åŒ…æ‹¬AppåŠH5ï¼Œæ£‹ç‰Œç±»ä¸ºä¸»ã€‚è¿™é‡Œæ˜¯å¯¹ä¹‹å‰çš„H5å¼€å‘é¡¹ç›®è¿›è¡Œé˜¶æ®µæ€§çš„æ€»ç»“ã€‚ æ­£å¼é¡¹ç›®Survivalï¼šå¼€å‘çš„ç¬¬ä¸€æ¬¾H5æ‰‹æ¸¸ï¼Œè´Ÿè´£åŽåŠæ®µçš„å‰åŽç«¯å¼€å‘ã€‚Egret GUIé¡¹ç›®,åŽç«¯ä½¿ç”¨phpå’Œmysqlï¼Œæ–‡å­—ç±»æ¸¸æˆ,è§†é¢‘é“¾æŽ¥ã€‚ ä¸ªäººæœåŠ¡å™¨demoé“¾æŽ¥åœ°å€ ï¼Œdemoå¤ªç®€é™‹ï¼Œæ„Ÿå…´è¶£ç›´æŽ¥åˆ°qqç©ºé—´çŽ©ä¸€ä¸‹ã€‚ç °ç °å…”ï¼šç®€å•çš„Egret EUIé¡¹ç›®ï¼Œä¸ªäººæœåŠ¡å™¨demoé“¾æŽ¥åœ°å€ã€‚IOæ¸¸æˆç‚¸å¼¹äººï¼šä»¥æ³¡æ³¡å ‚ä¸ºåŽŸåž‹ï¼Œå›½å†…æµ·å¤–ä¸¤ç‰ˆï¼Œå‘¨æœŸä¸‰ä¸ªæœˆã€‚ä½¿ç”¨ç½‘æ˜“pomeloæ¡†æž¶ï¼Œå‰ç«¯ä¸»è¦æ˜¯ä¸šåŠ¡é€»è¾‘å’Œæ’ä»¶çš„å¼€å‘ï¼ŒåŽç«¯ç”±ä¸€ä¸ªå°ä¼™ä¼´è´Ÿè´£ï¼Œä¸»è¦ä½¿ç”¨nodeã€‚ ç»ƒä¹ é¡¹ç›®æ—¶é’Ÿå¤§æˆ˜ï¼šç®€å•çš„Egret EUI é¡¹ç›®ï¼Œé“¾æŽ¥åœ°å€ã€‚é£žæœºå¤§æˆ˜ï¼ˆé“¾æŽ¥åœ°å€ï¼‰åŠflappybirdï¼ˆé“¾æŽ¥åœ°å€ï¼‰: Construct2å°é¡¹ç›®,ç¾Žæœ¯ç´ æå°±æ˜¯ä»Žç½‘ä¸Šéšä¾¿æ‰¾çš„ã€‚Construct2ä¸­å¼•å…¥Spriteræ’ä»¶è¿›è¡Œéª¨éª¼åŠ¨ç”»æµ‹è¯•ï¼Œæµ‹è¯•æ•ˆæžœé“¾æŽ¥,ç›¸æ¯”å¸§åŠ¨ç”»ï¼Œæ€§èƒ½å’Œæ•ˆæžœæµç•…åº¦æå‡ï¼Œä½†æ˜¯å¯¹è±¡æ•°é‡é£™å‡ã€‚è‹¥é¡¹ç›®å¯¹è±¡æ•°é‡å°‘ï¼Œå¦‚å¯¹æ‰“æˆ–è€…é—¯å…³æ¸¸æˆï¼Œå¯é€‰æ‹©ä½¿ç”¨ã€‚]]></content>
      <tags>
        <tag>Html5</tag>
        <tag>æŠ€æœ¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Github æ ‡è®°å›¾æ ‡çš„æ›´æ”¹]]></title>
    <url>%2F2017%2F03%2F12%2FgitIgnore%2F</url>
    <content type="text"><![CDATA[githubä¸Šä¼ æ–°é¡¹ç›®æ—¶ï¼Œå‘çŽ°æ²¡æœ‰åˆ†ç±»å›¾æ ‡ï¼ˆå›¾æ ‡é”™è¯¯ä¹Ÿæ˜¯è¿™ä¹ˆæ”¹ï¼‰ï¼Œè¿™é‡Œå°†æ·»åŠ è¿‡ç¨‹è®°å½•ä¸‹æ¥ã€‚æ ¹ç›®å½•ä¸‹æ–°å»º.gitattributesæ–‡ä»¶ï¼Œå°†ä»¥ä¸‹å†…å®¹å¤åˆ¶ä¿å­˜ã€‚123*.js linguist-language=Java*.css linguist-language=Java*.html linguist-language=Java è¯¥æ–‡ä»¶å°†htmlã€cssã€jsï¼ˆæƒ³å…³è”çš„æ–‡ä»¶ï¼‰æ–‡ä»¶å…³è”ä¸ºJava(ç›®æ ‡ç±»åž‹)ã€‚æ­¤æ—¶ï¼Œgithubå°†æ­¤é¡¹ç›®è¯†åˆ«ä¸ºJavaé¡¹ç›®ã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Construct2ä½¿ç”¨å¿ƒå¾—]]></title>
    <url>%2F2017%2F03%2F03%2Fconstruct2_conclusion%2F</url>
    <content type="text"><![CDATA[Construct2ä»ŽæŽ¥è§¦åˆ°ä½¿ç”¨å·²æœ‰åŠå¹´æ—¶é—´ï¼Œä¼˜ç‚¹å°±æ˜¯ä¸Šæ‰‹å®¹æ˜“ï¼Œå¼€å‘å¿«ï¼Œä½†åªé€‚åˆå°åž‹2D-H5æ¸¸æˆä¸”æ˜¯é—­æºï¼Œå¾ˆé€‚åˆæ‡‚æŠ€æœ¯çš„ç­–åˆ’ä½¿ç”¨ï¼Œå¯¹ç¨‹åºçŒ¿æ¥è®²ï¼ŒçŽ©çŽ©å³å¯ã€‚åŒå¤§å¤šæ•°H5æ¸¸æˆå¼•æ“Žç›¸åŒï¼Œä¹Ÿæ˜¯ä¸€æ¬¡å¼€å‘ï¼Œå¯¼å‡ºå¤šå¹³å°åŒ…ã€‚å¼•æ“Žæœ¬èº«åªæä¾›åŸºç¡€åŠŸèƒ½ï¼Œæ’ä»¶çš„ä½¿ç”¨åŠå¼€å‘æ˜¯Construct2æ ¸å¿ƒä¹‹ä¸€ã€‚å®˜æ–¹è®ºå›ä¸Šæœ‰å„ç§éœ€è¦çš„æ’ä»¶ï¼ŒC2æ’ä»¶å¤§ç¥žRexè´¡çŒ®å°¤ä¸ºçªå‡ºã€‚ å‰ç«¯æž¶æž„å»ºè®® å°†å…¨å±€å˜é‡ç»Ÿä¸€æ”¾åˆ°ä¸€ä¸ªäº‹ä»¶è¡¨ä¸­ï¼Œæˆ‘ä¹ æƒ¯å‘½åä¸ºGlobalï¼Œç»Ÿä¸€ç®¡ç†å…¨å±€å˜é‡ã€‚ ä¸èƒ½è¿‡åˆ†ä½¿ç”¨å…¨å±€å˜é‡ï¼Œæ ¹æ®å˜é‡çš„ä½œç”¨åŸŸåˆ†ç±»ï¼Œåªè·ŸæŸä¸ªå¯¹è±¡æœ‰å…³æ”¾åˆ°å¯¹è±¡çš„å±€éƒ¨å˜é‡ä¸­ï¼›å¦‚æžœå˜é‡åªåœ¨å½“å‰layoutæœ‰æ•ˆï¼Œå¯ä»¥è€ƒè™‘æ”¾åˆ°å¯¹è±¡çš„å±€éƒ¨å˜é‡ä¸­ï¼Œæˆ–è€…å½“å‰å¸ƒå±€æ‰€æœ‰äº‹ä»¶æ”¾åˆ°ä¸€ä¸ªå¤§ç»„é‡Œï¼Œå˜é‡å£°æ˜Žåœ¨å½“å‰ç»„å†…ã€‚ èµ„æºç®¡ç†ä¸Šï¼Œåœ¨Object typesä¸‹å»ºç«‹å­æ–‡ä»¶å¤¹ï¼›å¯¹è±¡åŠ¨ç”»è¾ƒå¤šæˆ–è€…æ‰“ç®—å°†å¤šä¸ªå¯¹è±¡åˆå¹¶åˆ°ä¸€ä¸ªå¯¹è±¡ä¸Šï¼ˆä¹Ÿå»ºè®®è¿™ä¹ˆåšï¼‰æ—¶ï¼Œå¯¹è±¡åŠ¨ç”»ä½ç½®å»ºç«‹å­æ–‡ä»¶å¤¹ã€‚ å¯¹äºŽè¡Œä¸ºå®Œå…¨ç›¸åŒçš„å¯¹è±¡ï¼Œè¦æ”¾åˆ°åŒä¸€ä¸ªfamilyä¸­ã€‚ æ ¹æ®åŠŸèƒ½åˆ†ç±»ï¼Œåˆç†ä½¿ç”¨Groupã€‚ å¤šä½¿ç”¨Functionï¼Œå¦‚æžœå½“å‰å¸ƒå±€äº‹ä»¶è¿‡å¤šï¼ˆå¦‚è¶…è¿‡200æ¡ï¼‰ï¼Œå°†æ‰€æœ‰å‡½æ•°æ”¾åˆ°ä¸€ä¸ªäº‹ä»¶è¡¨ä¸­ï¼Œç„¶åŽåœ¨ä¸»äº‹ä»¶è¡¨ä¸­å¼•å…¥ã€‚ å¦‚æžœä¸ä½¿ç”¨ C2é»˜è®¤çš„loaderå¸ƒå±€ï¼Œå°†use loader layouté€‰ä¸ºyes , å°†first layouté€‰æ‹©ä¸ªäººå®šä¹‰çš„åŠ è½½å¸ƒå±€ï¼Œä½†æ˜¯å¦‚æžœä¸ªäººè®¾ç½®çš„åŠ è½½å¸ƒå±€ç¨å¾®æœ‰äº›å¤æ‚ï¼ŒC2çš„é»˜è®¤çš„loaderå¸ƒå±€ä¾ç„¶ä¼šæ˜¾ç¤ºï¼Œæ­¤æ—¶å°†å‘å¸ƒåŒ…çš„logoæ›¿æ¢å³å¯ã€‚ è‹¥ä¸€ä¸ªç‰©ä½“å¦‚bossç”±å¤šä¸ªå¯¹è±¡ç»„æˆï¼Œå°†å¤šä¸ªå¯¹è±¡æ”¾åˆ°ä¸€ä¸ªcontainerä¸­ï¼›å¸Œæœ›æŸäº›å¯¹è±¡åŒæ—¶åˆ›å»ºæˆ–è€…åˆ é™¤ï¼Œä¹Ÿè€ƒè™‘ä½¿ç”¨containerï¼Œå¾ˆå¥½ç”¨ã€‚ä½¿ç”¨containeræ—¶ï¼Œé€‰æ‹©containerçš„æŸä¸ªå¯¹è±¡ï¼Œæ­¤æ—¶å¯ç›´æŽ¥æ“ä½œè¯¥containerçš„å…¶ä»–å¯¹è±¡ï¼Œé€‰æ‹©å½“å‰å¯¹è±¡çš„è¿‡ç¨‹ä¹Ÿæ˜¯é€‰æ‹©å½“å‰æ•´ä¸ªcontainerã€‚ å¯¹è±¡å°½é‡å°‘ï¼Œè‹¥å¤šä¸ªå¯¹è±¡æœ‰ä¸åŒåŠ¨ç”»ä½†æ˜¯åŠŸèƒ½å®Œå…¨ç›¸åŒï¼Œç»Ÿä¸€æˆä¸€ä¸ªå¯¹è±¡ï¼ˆç±»ï¼‰ä¸Šï¼Œé€šè¿‡ä¸åŒåŠ¨ç”»æŽ§åˆ¶æ˜¾ç¤ºæˆ–è€…é€šè¿‡åŒä¸€åŠ¨ç”»çš„ä¸åŒå¸§æ¥æŽ§åˆ¶ã€‚ spriteråœ¨construct2ä¸­æ”¯æŒè‰¯å¥½ï¼Œå¾ˆå¤šæƒ…å†µä¸‹éƒ½å¯ä»¥é€‰æ‹©éª¨éª¼åŠ¨ç”»è€Œä¸æ˜¯å¸§åŠ¨ç”»ï¼Œå°¤å…¶æ˜¯å¯¹è±¡æ•°é‡è¾ƒå°‘çš„æƒ…å†µä¸‹ã€‚ æ€§èƒ½ä¼˜åŒ–åŠä½¿ç”¨å°ç»“ å…³é—­ä¸éœ€è¦ç¢°æ’žå¯¹è±¡çš„ç¢°æ’žï¼ˆé»˜è®¤éƒ½å¼€å¯ï¼‰ï¼Œæé«˜å‰ç«¯æ€§èƒ½ã€‚ C2è‹¥ä½¿ç”¨å…¨å¥—ç‰©ç†å¼•æ“Žå³å¯¹è±¡å¼•å…¥physicså±žæ€§ï¼Œå¯¹äºŽpcç«¯ï¼Œä¸ºä¿è¯æ€§èƒ½ï¼Œç‰©ç†å¯¹è±¡ä¸èƒ½è¶…è¿‡100ï¼Œç§»åŠ¨ç«¯ä¸èƒ½è¶…è¿‡40ã€‚ç‰©ç†å¯¹è±¡åªèƒ½ä¸Žç‰©ç†å¯¹è±¡äº¤äº’ã€‚ è‹¥æµè§ˆå™¨ä¸æ”¯æŒwebglï¼Œè¿è¡ŒæœŸé—´ä¼šå‡ºçŽ°é—ªé€€ï¼Œç¦ç”¨webglå³å¯ï¼Œæ­¤æ—¶ä¸ºcanvasã€‚ å°†è¦å£°éŸ³çš„æ ¼å¼è½¬ä¸ºwav,å¼•å…¥çš„è¿‡ç¨‹ï¼Œå¼•æ“Žä¼šè‡ªåŠ¨è½¬ä¸ºoggå’Œm4aä¸¤ç§æ ¼å¼ã€‚ Form controlä¸‹çš„å¯¹è±¡å¦‚Buttonå¤„äºŽæ¸¸æˆè§†å›¾æœ€ä¸Šå±‚ã€‚å¯ç›´æŽ¥æ›´æ”¹cssæ›´æ”¹æ ·å¼ã€‚ C2å¯æ‰“åŒ…æˆå¤šç§ç±»åž‹ï¼Œå¦‚H5,Android,Nw.jsç­‰ã€‚æ‰“åŒ…æˆappï¼Œéœ€ä¹‹åŽä½¿ç”¨phonegap buildç­‰å·¥å…·æž„å»ºappã€‚ talkingDataç­‰æŽ¥å…¥ï¼Œéœ€åœ¨index.htmlæ–‡ä»¶ä¸­å¼•å…¥å¤–æºæ–‡ä»¶ã€‚ è¸©è¿‡çš„å‘ set size ä¸èƒ½å’Œ set scaleè¿žç”¨ï¼Œç›¸å½“äºŽåŒä¸€ç§æ“ä½œï¼Œéƒ½æ˜¯åœ¨åŽŸå§‹å¯¹è±¡å°ºå¯¸ä¸Šåšæ›´æ”¹ï¼ŒåŽè€…ä¼šè¦†ç›–å‰è€…ã€‚ è®¾ç½®å­å¼¹å±žæ€§ï¼Œåº”å…ˆè®¾ç½®é€Ÿåº¦ï¼Œå†è®¾ç½®è§’åº¦ï¼Œå› ä¸ºå¦‚æžœè®¾ç½®è§’åº¦ï¼Œé€Ÿåº¦è‹¥ä¸º0ï¼Œä¸ç”Ÿæ•ˆã€‚ C2æ•°ç»„pushå…ƒç´ ï¼Œä¹‹åŽclear,ä¸ä¼šç”Ÿæ•ˆï¼Œpushçš„å…ƒç´ ä¾ç„¶åœ¨ã€‚ éšå½¢Buttonä¸å¯ç”¨ï¼Œè®¾ç½®æˆvisibleåŽï¼ŒtouchEnabledä¹Ÿè¢«ç¦ç”¨ã€‚ invisibleçš„å¯¹è±¡ä»å¯touchï¼Œå¦‚æžœæƒ³å®žçŽ°æ‰“å¼€æŸä¸ªé¡µé¢åŽï¼Œä¸‹é¢å›¾å±‚çš„å¯¹è±¡ä¸å¯touchï¼Œå¯é‡‡å–ç»™ä¸å¯touchçš„å¯¹è±¡åŠ å…¥æŽ§åˆ¶å˜é‡åŠcooldownå±žæ€§(å†·å´æ—¶é—´è®¾ä¸º0.1ç§’)ï¼Œå½“é¡µé¢æ‰“å¼€åŽï¼ŒæŽ§åˆ¶å˜é‡æ›´æ”¹ï¼Œcooldown requestï¼Œå½“cooldown finishæ—¶ï¼ŒæŽ§åˆ¶å˜é‡é‡ç½®ã€‚ C2ä¸­ç±»åž‹æœ‰é™ï¼Œè€Œä¸”è°ƒç”¨calljså°†textç±»åž‹çš„å˜é‡ä½œä¸ºå‚æ•°æ—¶ï¼Œåº”å¦‚ä¸‹â€output(â€œâ€â€&amp;userID&amp;â€â€â€)â€ï¼Œæ³¨æ„userIDä¸¤ä¾§çš„å¼•å·ï¼Œè‹¥æ— å¼•å·â€output(â€œ&amp;userID&amp;â€)â€ï¼Œä¼šå¯¼è‡´èŽ·å–åˆ°çš„userIDä¸æ˜¯å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯æ²¡æœ‰å¼•å·çš„å­—ç¬¦ä¸²ï¼Œå¾ˆå¥‡æ€ªã€‚ callJsä¸å¯åœ¨on start of layoutä½¿ç”¨ã€‚ æ¶‰åŠåˆ°å›žè°ƒå¤„ç†æ—¶ï¼Œå‡éœ€å°è£…æˆC2æ’ä»¶ï¼Œåœ¨æ’ä»¶å†…æ‰§è¡Œã€‚å¦‚superSDKæŽ¥å£è°ƒç”¨ã€‚ C2ä¸­æ— æ³•å®žçŽ°console.log(),åªèƒ½è®¾ç½®Textå€¼è¿›è¡Œè¾“å‡ºï¼Œå¯ä½¿ç”¨callJS, jsä¸­è¾“å‡ºã€‚æ‰§è¡ŒæŸä¸ªæ“ä½œä½†æ˜¯éœ€åœ¨å›žè°ƒä¸­å¤„ç†é€»è¾‘ï¼Œéœ€å°è£…æˆæ’ä»¶ã€‚ C2æ’ä»¶å¤§ç¥žrexRainbowè¯´ï¼Œc2æ²¡æœ‰ä»€ä¹ˆæ˜¯ä¸€ä¸ªwaitä¸èƒ½è§£å†³çš„ï¼Œå¦‚æžœæœ‰ï¼Œé‚£å°±ä¸¤ä¸ªã€‚åˆç†ä½¿ç”¨wait0ï¼Œå¡«å¼•æ“Žè‡ªèº«çš„å‘ã€‚ æ›¾ä½¿ç”¨åŠå¼€å‘çš„æ’ä»¶behaviorsæ’ä»¶ è®¾ç½®å¯¹è±¡æ¤­åœ†è¿åŠ¨â€”cicle å®žçŽ°é€šè¿‡åå­—åˆ›å»ºç‰¹å®šå¯¹è±¡ï¼Œéœ€behavioræ’ä»¶rex_bnicknameä¸Žpluginæ’ä»¶rex_nicknameä¸€åŒå¼•å…¥ å†·å´æ—¶é—´ï¼Œå€’è®¡æ—¶ä½¿ç”¨ï¼Œéœ€behavioræ’ä»¶rex_cooldownä¸Žpluginæ’ä»¶rex_timelineä¸€åŒå¼•å…¥ rex_movetoï¼Œè®¾ç½®å¯¹è±¡ç§»åŠ¨åˆ°æŸä¸ªä½ç½®ï¼Œå¸¸ç”¨åšçˆ†ç‚¸ç±»ç‰¹æ•ˆ rex_pin2imagepointï¼Œå®˜æ–¹åªèƒ½å°†å¯¹è±¡pinåˆ°å¦ä¸€ä¸ªå¯¹è±¡imagePoint=0çš„ä½ç½®ï¼Œåªæœ‰ä¸€ä¸ªpinç‚¹ï¼Œä½¿ç”¨æ­¤è¡Œä¸ºå¯ä»¥pinåˆ°æŸä¸ªå¯¹è±¡çš„ä¸åŒimagePointä¸Š liteTween,ç¼“åŠ¨åŠ¨ç”»effectsæ’ä»¶ æµ®é›•é¢œè‰²anaglyphcolor èƒŒæ™¯æ¨¡ç³Šç‰¹æ•ˆbasicBlurpluginsæ’ä»¶ JSON_for_construct2-masterâ€”JSONæ•°æ®å­˜å‚¨ä¸Žä½¿ç”¨ callJSâ€”è°ƒç”¨å¤–éƒ¨js scmlæ˜¯C2çš„spriteréª¨éª¼åŠ¨ç”»æ’ä»¶ spritefont+ï¼Œç¬¬ä¸‰æ–¹å­—ä½“æ’ä»¶ï¼›C2SpriteFontåˆ¶ä½œå·¥å…·,C2å­—ä½“åˆ¶ä½œå·¥å…·ï¼Œé…åˆC2è‡ªå¸¦çš„spritefontä½¿ç”¨ rex_gfsmä¸ºFSMæ’ä»¶ï¼Œæœ‰é™çŠ¶æ€æœº æœ€è¿‘å¼€å‘çš„IOæ¸¸æˆç‚¸å¼¹äººï¼Œå‰åŽç«¯é€šä¿¡ä½¿ç”¨ç½‘æ˜“çš„Pomeloã€‚C2çš„æ•°æ®ç±»åž‹å¾ˆå°‘ï¼Œæ•°æ®å¤„ç†è¿™å—åšçš„ä¸å¥½ï¼ŒäºŽæ˜¯å°†pomeloåŠsuperSDKå°è£…ä¸ºC2æ’ä»¶ï¼Œæ¸¸æˆå®¢æˆ·ç«¯ä¸ŽæœåŠ¡å™¨çš„æ•°æ®å¤„ç†åŠé€šä¿¡ç­‰å³åœ¨è¿™ä¸¤ä¸ªæ’ä»¶ä¸­å®Œæˆã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>JavaScript</tag>
        <tag>Construct2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Windowsä¸‹ä½¿ç”¨Hexo+Githubæ­å»ºä¸ªäººåšå®¢]]></title>
    <url>%2F2017%2F01%2F01%2Fhexo_gitpages%2F</url>
    <content type="text"><![CDATA[Hexoä»‹ç»é™æ€åšå®¢ç”Ÿæˆå™¨ï¼Œæ ¹æ®ç»™å®šçš„ä¸»é¢˜ï¼Œè´Ÿè´£æŠŠå†™å¥½çš„ Markdown æ–‡ç« è½¬æ¢æˆä¸€å † HTML + CSS + Javascript é¡µé¢ã€‚å¦å¤–ï¼ŒHexo è¿˜æœ‰æŠŠç”Ÿæˆå¥½çš„ç«™ç‚¹ä¸Šä¼ åˆ° Github Pages çš„åŠŸèƒ½ã€‚ èƒŒæ™¯è®°å½•ä¸ªäººå­¦ä¹ å’Œç”Ÿæ´»ï¼Œä½œä¸ºç¨‹åºçŒ¿ï¼Œæ­å»ºä¸ªäººåšå®¢æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ä½†åªæ˜¯ä¸ªåšå®¢ï¼Œè´­ä¹°äº‘æœåŠ¡å™¨æœ‰äº›ä¸å€¼å½“ï¼ŒæœåŠ¡å™¨ç¨å¾®å¥½äº›çš„é…ç½®å°±å¾—ä¸Šåƒã€‚ä¹‹å‰å¥½å‹ä¹°è¿‡å›½å¤–çš„æœåŠ¡å™¨ï¼Œhostsä¸åŠ åŸŸåè§£æžç»å¸¸è®¿é—®ä¸åˆ°ï¼Œæ›´æ‚²å‚¬çš„æ˜¯ï¼Œ.comåŸŸåè¿˜è¢«æ±¡æŸ“äº†ï¼Œå“å¾—æˆ‘æŠ±ç´§è‡ªå·±ï¼Œå†³å®šç”¨å…è´¹çš„gitPageså§ã€‚æ­å»ºçš„æ—¶å€™çœ‹è¿‡ä¸€äº›æ•™ç¨‹ï¼Œè¿˜æ˜¯é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼ˆå…¶å®žç›´æŽ¥çœ‹hexoå®˜ç½‘å°±okçš„ï¼‰ã€‚æˆ‘åœ¨æ­å»ºæ—¶ï¼Œä½¿ç”¨çš„æ˜¯Win10ç³»ç»Ÿï¼Œä»¥ä¸‹æ­å»ºæ­¥éª¤æ˜¯æ”¯æŒæ‰€æœ‰Winsç³»ç»Ÿçš„ã€‚OSç³»ç»Ÿä¸‹æ­å»ºä¸ŽWinsä¸åŒï¼Œä»¥hexoå®˜ç½‘ä¸ºå‡†ï¼Œå¯å‚è€ƒæœ¬æ–‡ æ­å»ºæ­¥éª¤ 1.é¦–å…ˆå®‰è£…gitåŠnodeï¼Œç”³è¯·githubè´¦å·å¹¶å°†ssh keyé…ç½®å®Œæˆã€‚ 2.cmdä¸‹è¾“å…¥powershellï¼Œè¿›å…¥cmdè¶…çº§åŠ å¼ºç‰ˆï¼ˆè¿™ä¸€æ­¥å¯å¿½ç•¥ï¼Œå¯¹æ­å»ºåšå®¢æ— å½±å“ï¼‰ã€‚ 3.npmçš„ä»»ä½•æ“ä½œéƒ½æ— æ³•ä½¿ç”¨æ—¶ï¼Œå¸è½½nodeé‡è£…ï¼Œå¹¶åˆ é™¤ C:\Users\Administrator\AppData\Roaming\npm C:\Users\Administrator\AppData\Roaming\npm-cacheæ–‡ä»¶å¤¹ 4.åœ¨å®‰è£…npmæ—¶ï¼Œå¯èƒ½æ ¹æ®æŸä¸ªæ•™ç¨‹è®¾ç½®äº†ä¾‹å¦‚ï¼š npm config set prefix &quot;C:\Program Files\nodejs\node_global&quot; npm config set cache &quot;C:\Program Files\nodejs\node_cache&quot; è®¾ç½®å‡ºé”™å¯èƒ½å°±å¯¼è‡´npmæ— æ³•ä½¿ç”¨ï¼Œæ­¤æ—¶éœ€æ¢å¤åˆ°é»˜è®¤ã€‚npm configæ¢å¤åˆ°é»˜è®¤åªéœ€åˆ é™¤C:\Users\Administrator.npmrcæ–‡ä»¶ã€‚å¦‚æžœ.npmrcä¸åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œå°±å…¨å±€æœä¸€ä¸‹å•¦ã€‚å½“æˆ‘é‡åˆ°ç¬¬3å’Œç¬¬4æ­¥ï¼Œæˆ‘çš„å†…å¿ƒæ˜¯è¿™æ ·çš„ 5.å®‰è£…hexoï¼Œæ‰§è¡Œå‘½ä»¤ npm install hexo-cli -g 6.å®‰è£…hexoç”Ÿæˆé¡µé¢éƒ¨ç½²åˆ°githubçš„ç»„ä»¶ï¼Œæ‰§è¡Œ npm install hexo-deployer-git --save 7.åˆ›å»ºæ”¾ç½®åšå®¢æ–‡ä»¶çš„æ–‡ä»¶å¤¹ hexo init blog 8.è¿›å…¥åˆ°æ–°åˆ›å»ºçš„åšå®¢é¡¹ç›®ä¸­ cd blog 9.å®‰è£…ä¾èµ–åŒ… npm install 10.ç”Ÿæˆåšå®¢é¡µé¢ hexo generate 11.æœ¬åœ°èµ·æœ hexo server æµè§ˆå™¨è®¿é—® http://localhost:4000/ å¯ä»¥é¢„è§ˆåšå®¢æ ·å¼ 12.githubåˆ›å»ºä»“åº“ï¼šä»“åº“åå¿…é¡»ä¸ºyouname.github.io, ä¾‹å¦‚æˆ‘çš„ä»“åº“åä¸ºmonkeydbean.github.io 13.åœ¨æœ¬åœ°åšå®¢ç›®å½•ä¸‹ï¼Œæ‰“å¼€git bash,ä»¥æˆ‘çš„ä¸ºä¾‹ï¼Œæ‰§è¡Œ git init git add remote origin https://github.com/MonkeyDBean/MonkeyDBean.github.io.git 14.é…ç½®æ–‡ä»¶_config.ymlæ›´æ”¹å¦‚ä¸‹1234deploy: type: git repo: https://github.com/MonkeyDBean/MonkeyDBean.github.io.git branch: master æ³¨ï¼šYAMLè¯­æ³•ï¼Œå­—å…¸æ˜¯ç”±ç®€å•çš„é”®: å€¼çš„å½¢å¼ç»„æˆ(å†’å·åŽé¢å¿…é¡»æ˜¯ä¸€ä¸ªç©ºæ ¼),å¦‚type:+&amp;nbsp+git 15.éƒ¨ç½²åˆ°githubï¼Œæ‰§è¡Œ hexo deploy è‹¥æäº¤ä¸ä¸ŠåŽ»ï¼Œæ£€æŸ¥è¯­æ³•ï¼›æ²¡é—®é¢˜çš„è¯é‡æ–°æ‰§è¡Œ npm install hexo-deployer-git --save hexo deploy æ‰§è¡Œåˆ°è¿™ä¸€æ­¥ï¼Œä»¥ä¸Šæ­¥éª¤æ²¡é—®é¢˜çš„è¯ï¼Œæµè§ˆå™¨è¾“å…¥ https://monkeydbean.github.io å¯è®¿é—®ä¸ªäººåšå®¢ï¼Œæ­¤æ—¶åªæœ‰HelloWorldå•é¡µé¢ã€‚ 16.æ¯æ¬¡éƒ¨ç½²ï¼Œå¯æŒ‰ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š hexo clean hexo generate hexo deploy 17.è®©åšå®¢ç‚«èµ·æ¥ï¼Œæœ€ç®€å•çš„ï¼Œå¾—æœ‰ä¸ªä¸»é¢˜ï¼Œæœç´¢è¾“å…¥hexo çŸ¥ä¹Žï¼Œé€‰ä¸€ä¸ªä¸»é¢˜å¼€å§‹ä½¿ç”¨å§ï¼Œä¸»é¢˜çš„ä½¿ç”¨æ–¹æ³•åœ¨ç›¸åº”ä¸»é¢˜çš„githubä¸Šæœ‰è¯¦ç»†ä»‹ç»ã€‚åŒ…æ‹¬å¤´åƒã€ç«™ç‚¹å›¾æ ‡ç­‰åŸºç¡€è®¾ç½®åŠç¬¬ä¸‰æ–¹æŽ¥å…¥ç­‰é«˜çº§è®¾ç½®ã€‚ 18.ç»‘å®šåŸŸåï¼šé¦–å…ˆå¾—æœ‰ä¸€ä¸ªåŸŸåï¼ŒåŸŸåæœåŠ¡å•†æœ‰å¾ˆå¤šï¼Œæˆ‘è¿™é‡Œç”¨çš„ä¸‡ç½‘ï¼Œé˜¿é‡Œäº‘åŸŸåæœåŠ¡ç”¨çš„å°±æ˜¯ä¸‡ç½‘ã€‚æ³¨å†Œå®ŒæˆåŽï¼Œæœç´¢å¿ƒä»ªåŸŸåæ˜¯å¦è¢«ä½¿ç”¨ï¼Œæœªè¢«ä½¿ç”¨å³å¯è´­ä¹°ï¼Œ.cnåŸŸåæ¯”è¾ƒä¾¿å®œï¼Œç¬¬ä¸€å¹´29å…ƒï¼Œæ— éœ€è´­ä¹°æ‰©å±•æœåŠ¡ã€‚åŸŸåè´­ä¹°å®ŒæˆåŽï¼Œæ·»åŠ cnameè§£æžå¦‚ä¸‹ï¼šåŒæ—¶ï¼Œåœ¨åšå®¢publicç›®å½•ä¸‹æ–°å»ºCNAMEæ–‡ä»¶ï¼šæ‰§è¡Œæ­¥éª¤16ï¼Œæµè§ˆå™¨è¾“å…¥monkeyben.cnå³å¯è®¿é—®ä¸ªäººåšå®¢ã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ…è°ˆHttpä¸­GETä¸ŽPOSTçš„åŒºåˆ«]]></title>
    <url>%2F2016%2F10%2F29%2Fget_post%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘çœ‹äº†å‡ ç¯‡ä»‹ç»GETä¸ŽPOSTçš„æ–‡ç« ï¼Œè®²çš„å¾ˆæœ‰æ„æ€ï¼Œåœ¨è¿™é‡Œå¼•ç”¨æ€»ç»“ä¸€ä¸‹ã€‚ åŒºåˆ«Httpå®šä¹‰äº†ä¸ŽæœåŠ¡å™¨äº¤äº’çš„ä¸åŒæ–¹æ³•ï¼Œæœ€åŸºæœ¬çš„æ–¹æ³•æœ‰4ç§ï¼Œåˆ†åˆ«æ˜¯GETï¼ŒPOSTï¼ŒPUTï¼ŒDELETEï¼Œåˆ†åˆ«å¯¹åº”ç€èµ„æºçš„æŸ¥ï¼Œæ”¹ï¼Œå¢žï¼Œåˆ ã€‚ GETå’ŒPOSTæ˜¯HTTPè¯·æ±‚çš„ä¸¤ç§åŸºæœ¬æ–¹æ³•ï¼ŒGETä¸€èˆ¬ç”¨äºŽèŽ·å–èµ„æºä¿¡æ¯ï¼Œè€ŒPOSTä¸€èˆ¬ç”¨äºŽæ›´æ–°èµ„æºä¿¡æ¯ã€‚ GETè¯·æ±‚åœ¨URLä¸­ä¼ é€çš„å‚æ•°æ˜¯æœ‰é•¿åº¦é™åˆ¶çš„ï¼Œæœ€å¤šåªèƒ½æ˜¯1024å­—èŠ‚ï¼Œç†è®ºä¸ŠPOSTæœ¨æœ‰é™åˆ¶ï¼Œå¯ä¼ è¾ƒå¤§é‡çš„æ•°æ®ã€‚ å¯¹å‚æ•°çš„æ•°æ®ç±»åž‹ï¼ŒGETåªæŽ¥å—ASCIIå­—ç¬¦ï¼Œè€ŒPOSTæ²¡æœ‰é™åˆ¶ã€‚ GETè¯·æ±‚å‚æ•°ä¼šè¢«å®Œæ•´ä¿ç•™åœ¨æµè§ˆå™¨åŽ†å²è®°å½•é‡Œï¼Œè€ŒPOSTä¸­çš„å‚æ•°ä¸ä¼šè¢«ä¿ç•™ã€‚ GETæ¯”POSTæ›´ä¸å®‰å…¨ï¼Œå› ä¸ºå‚æ•°ç›´æŽ¥æš´éœ²åœ¨URLä¸Šï¼Œæ‰€ä»¥ä¸èƒ½ç”¨æ¥ä¼ é€’æ•æ„Ÿä¿¡æ¯ã€‚ GETå‚æ•°é€šè¿‡URLä¼ é€’ï¼ŒPOSTæ”¾åœ¨Request bodyä¸­ã€‚ GETåœ¨æµè§ˆå™¨å›žé€€æ—¶æ˜¯æ— å®³çš„ï¼Œè€ŒPOSTä¼šå†æ¬¡æäº¤è¯·æ±‚ã€‚ â€¦â€¦â€¦â€¦ç¯ï¼Œç¯ç¯ç¯ç¯ä»Žè¡¨é¢çœ‹ï¼ŒGETä¸ŽPOSTçš„åŒºåˆ«é‚£ä¹ˆå¤šï¼Œå®žé™…ä¸Šå‘¢ï¼Ÿè®©æˆ‘ä»¬æ‰’ä¸‹GETå’ŒPOSTçš„å¤–è¡£ï¼Œå¦è¯šç›¸è§å§! å®šä¹‰æ ¹æ®HTTPè§„èŒƒï¼ŒGETç”¨äºŽä¿¡æ¯èŽ·å–ï¼Œè€Œä¸”åº”è¯¥æ˜¯å®‰å…¨çš„å’Œå¹‚ç­‰çš„ã€‚æ ¹æ®HTTPè§„èŒƒï¼ŒPOSTè¡¨ç¤ºå¯èƒ½ä¿®æ”¹å˜æœåŠ¡å™¨ä¸Šçš„èµ„æºçš„è¯·æ±‚ã€‚è¯·æ³¨æ„ï¼Œè¿™å‡ ä¸ªå­—â€œæ ¹æ®HTTPè§„èŒƒâ€ã€‚HTTPæ˜¯ä»€ä¹ˆ?HTTPæ˜¯åŸºäºŽTCP/IPçš„å…³äºŽæ•°æ®å¦‚ä½•åœ¨ä¸‡ç»´ç½‘ä¸­å¦‚ä½•é€šä¿¡çš„åè®®ã€‚GETå’ŒPOSTåˆæ˜¯ä»€ä¹ˆ?HTTPåè®®ä¸­çš„ä¸¤ç§å‘é€è¯·æ±‚çš„æ–¹æ³•ã€‚ æ¯”å–»åœ¨ä¸‡ç»´ç½‘ä¸–ç•Œä¸­ï¼ŒTCPå°±åƒæ±½è½¦ï¼Œæˆ‘ä»¬ç”¨TCPæ¥è¿è¾“æ•°æ®ï¼Œå®ƒå¾ˆå¯é ï¼Œä»Žæ¥ä¸ä¼šå‘ç”Ÿä¸¢ä»¶å°‘ä»¶çš„çŽ°è±¡ã€‚ä½†æ˜¯å¦‚æžœè·¯ä¸Šè·‘çš„å…¨æ˜¯çœ‹èµ·æ¥ä¸€æ¨¡ä¸€æ ·çš„æ±½è½¦ï¼Œé‚£è¿™ä¸ªä¸–ç•Œçœ‹èµ·æ¥æ˜¯ä¸€å›¢æ··ä¹±ï¼Œé€æ€¥ä»¶çš„æ±½è½¦å¯èƒ½è¢«å‰é¢æ»¡è½½è´§ç‰©çš„æ±½è½¦æ‹¦å µåœ¨è·¯ä¸Šï¼Œæ•´ä¸ªäº¤é€šç³»ç»Ÿä¸€å®šä¼šç˜«ç—ªã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œäº¤é€šè§„åˆ™HTTPè¯žç”Ÿäº†ã€‚HTTPç»™æ±½è½¦è¿è¾“è®¾å®šäº†å¥½å‡ ä¸ªæœåŠ¡ç±»åˆ«ï¼Œæœ‰GET, POST, PUT, DELETEç­‰ç­‰ï¼ŒHTTPè§„å®šï¼Œå½“æ‰§è¡ŒGETè¯·æ±‚çš„æ—¶å€™ï¼Œè¦ç»™æ±½è½¦è´´ä¸ŠGETçš„æ ‡ç­¾(è®¾ç½®methodä¸ºGET)ï¼Œè€Œä¸”è¦æ±‚æŠŠä¼ é€çš„æ•°æ®æ”¾åœ¨è½¦é¡¶ä¸Š(urlä¸­)ä»¥æ–¹ä¾¿è®°å½•ã€‚å¦‚æžœæ˜¯POSTè¯·æ±‚ï¼Œå°±è¦åœ¨è½¦ä¸Šè´´ä¸ŠPOSTçš„æ ‡ç­¾ï¼Œå¹¶æŠŠè´§ç‰©æ”¾åœ¨è½¦åŽ¢é‡Œã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨GETçš„æ—¶å€™å¾€è½¦åŽ¢å†…å·å·è—ç‚¹è´§ç‰©ï¼Œä½†æ˜¯è¿™æ˜¯å¾ˆä¸å…‰å½©;ä¹Ÿå¯ä»¥åœ¨POSTçš„æ—¶å€™åœ¨è½¦é¡¶ä¸Šä¹Ÿæ”¾ä¸€äº›æ•°æ®ï¼Œè®©äººè§‰å¾—å‚»ä¹Žä¹Žçš„ã€‚HTTPåªæ˜¯ä¸ªè¡Œä¸ºå‡†åˆ™ï¼Œè€ŒTCPæ‰æ˜¯GETå’ŒPOSTæ€Žä¹ˆå®žçŽ°çš„åŸºæœ¬ã€‚ä¸‡ç»´ç½‘ä¸–ç•Œä¸­ï¼Œè¿˜æœ‰å¦ä¸€ä¸ªé‡è¦çš„è§’è‰²ï¼šè¿è¾“å…¬å¸ã€‚ä¸åŒçš„æµè§ˆå™¨(å‘èµ·httpè¯·æ±‚)å’ŒæœåŠ¡å™¨(æŽ¥å—httpè¯·æ±‚)å°±æ˜¯ä¸åŒçš„è¿è¾“å…¬å¸ã€‚è™½ç„¶ç†è®ºä¸Šï¼Œä½ å¯ä»¥åœ¨è½¦é¡¶ä¸Šæ— é™çš„å †è´§ç‰©(urlä¸­æ— é™åŠ å‚æ•°)ã€‚ä½†æ˜¯è¿è¾“å…¬å¸å¯ä¸å‚»ï¼Œè£…è´§å’Œå¸è´§ä¹Ÿæ˜¯æœ‰å¾ˆå¤§æˆæœ¬çš„ï¼Œä»–ä»¬ä¼šé™åˆ¶å•æ¬¡è¿è¾“é‡æ¥æŽ§åˆ¶é£Žé™©ï¼Œæ•°æ®é‡å¤ªå¤§å¯¹æµè§ˆå™¨å’ŒæœåŠ¡å™¨éƒ½æ˜¯å¾ˆå¤§è´Ÿæ‹…ã€‚ä¸šç•Œä¸æˆæ–‡çš„è§„å®šæ˜¯ï¼Œ(å¤§å¤šæ•°)æµè§ˆå™¨é€šå¸¸éƒ½ä¼šé™åˆ¶urlé•¿åº¦åœ¨2Kä¸ªå­—èŠ‚ï¼Œè€Œ(å¤§å¤šæ•°)æœåŠ¡å™¨æœ€å¤šå¤„ç†64Kå¤§å°çš„urlã€‚è¶…è¿‡çš„éƒ¨åˆ†ï¼Œæ•ä¸å¤„ç†ã€‚å¦‚æžœä½ ç”¨GETæœåŠ¡ï¼Œåœ¨request bodyå·å·è—äº†æ•°æ®ï¼Œä¸åŒæœåŠ¡å™¨çš„å¤„ç†æ–¹å¼ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œæœ‰äº›æœåŠ¡å™¨ä¼šå¸®ä½ å¸è´§ï¼Œè¯»å‡ºæ•°æ®ï¼Œæœ‰äº›æœåŠ¡å™¨ç›´æŽ¥å¿½ç•¥ï¼Œæ‰€ä»¥ï¼Œè™½ç„¶GETå¯ä»¥å¸¦request bodyï¼Œä¹Ÿä¸èƒ½ä¿è¯ä¸€å®šèƒ½è¢«æŽ¥æ”¶åˆ°ã€‚ æœ¬è´¨GETå’ŒPOSTæœ¬è´¨ä¸Šå°±æ˜¯TCPé“¾æŽ¥ï¼Œå¹¶æ— å·®åˆ«ã€‚ä½†æ˜¯ç”±äºŽHTTPçš„è§„å®šå’Œæµè§ˆå™¨/æœåŠ¡å™¨çš„é™åˆ¶ï¼Œå¯¼è‡´ä»–ä»¬åœ¨åº”ç”¨è¿‡ç¨‹ä¸­ä½“çŽ°å‡ºä¸€äº›ä¸åŒã€‚HTTPçš„åº•å±‚æ˜¯TCP/IPã€‚æ‰€ä»¥GETå’ŒPOSTçš„åº•å±‚ä¹Ÿæ˜¯TCP/IPï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒGET/POSTéƒ½æ˜¯TCPé“¾æŽ¥ã€‚ä½ è¦ç»™GETåŠ ä¸Šrequest bodyï¼Œç»™POSTå¸¦ä¸Šurlå‚æ•°ï¼ŒæŠ€æœ¯ä¸Šæ˜¯å®Œå…¨è¡Œçš„é€šçš„ã€‚GETå’ŒPOSTè¿˜æœ‰ä¸€ä¸ªé‡å¤§åŒºåˆ«ï¼Œç®€å•çš„è¯´ï¼šGETäº§ç”Ÿä¸€ä¸ªTCPæ•°æ®åŒ…;POSTäº§ç”Ÿä¸¤ä¸ªTCPæ•°æ®åŒ…ã€‚é•¿çš„è¯´ï¼šå¯¹äºŽGETæ–¹å¼çš„è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šæŠŠhttp headerå’Œdataä¸€å¹¶å‘é€å‡ºåŽ»ï¼ŒæœåŠ¡å™¨å“åº”200(è¿”å›žæ•°æ®);è€Œå¯¹äºŽPOSTï¼Œæµè§ˆå™¨å…ˆå‘é€headerï¼ŒæœåŠ¡å™¨å“åº”100 continueï¼Œæµè§ˆå™¨å†å‘é€dataï¼ŒæœåŠ¡å™¨å“åº”200 ok(è¿”å›žæ•°æ®)ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒGETåªéœ€è¦æ±½è½¦è·‘ä¸€è¶Ÿå°±æŠŠè´§é€åˆ°äº†ï¼Œè€ŒPOSTå¾—è·‘ä¸¤è¶Ÿï¼Œç¬¬ä¸€è¶Ÿï¼Œå…ˆåŽ»å’ŒæœåŠ¡å™¨æ‰“ä¸ªæ‹›å‘¼â€œå—¨ï¼Œæˆ‘ç­‰ä¸‹è¦é€ä¸€æ‰¹è´§æ¥ï¼Œä½ ä»¬æ‰“å¼€é—¨è¿ŽæŽ¥æˆ‘â€ï¼Œç„¶åŽå†å›žå¤´æŠŠè´§é€è¿‡åŽ»ã€‚å› ä¸ºPOSTéœ€è¦ä¸¤æ­¥ï¼Œæ—¶é—´ä¸Šæ¶ˆè€—çš„è¦å¤šä¸€ç‚¹ï¼Œçœ‹èµ·æ¥GETæ¯”POSTæ›´æœ‰æ•ˆã€‚å› æ­¤Yahooå›¢é˜Ÿæœ‰æŽ¨èç”¨GETæ›¿æ¢POSTæ¥ä¼˜åŒ–ç½‘ç«™æ€§èƒ½ã€‚ä½†è¿™æ˜¯ä¸€ä¸ªå‘!è·³å…¥éœ€è°¨æ…Žã€‚ä¸ºä»€ä¹ˆ?1.GETä¸ŽPOSTéƒ½æœ‰è‡ªå·±çš„è¯­ä¹‰ï¼Œä¸èƒ½éšä¾¿æ··ç”¨ã€‚2.æ®ç ”ç©¶ï¼Œåœ¨ç½‘ç»œçŽ¯å¢ƒå¥½çš„æƒ…å†µä¸‹ï¼Œå‘ä¸€æ¬¡åŒ…çš„æ—¶é—´å’Œå‘ä¸¤æ¬¡åŒ…çš„æ—¶é—´å·®åˆ«åŸºæœ¬å¯ä»¥æ— è§†ã€‚è€Œåœ¨ç½‘ç»œçŽ¯å¢ƒå·®çš„æƒ…å†µä¸‹ï¼Œä¸¤æ¬¡åŒ…çš„TCPåœ¨éªŒè¯æ•°æ®åŒ…å®Œæ•´æ€§ä¸Šï¼Œæœ‰éžå¸¸å¤§çš„ä¼˜ç‚¹ã€‚3.å¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½ä¼šåœ¨POSTä¸­å‘é€ä¸¤æ¬¡åŒ…ï¼ŒFirefoxå°±åªå‘é€ä¸€æ¬¡ã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Egretç®€ç•¥æ€»ç»“]]></title>
    <url>%2F2016%2F09%2F02%2Fegret_conclusion%2F</url>
    <content type="text"><![CDATA[Egretä½¿ç”¨å·²æœ‰å¤§åŠå¹´ï¼Œç›¸æ¯”å…¶ä»–H5å¼•æ“Žï¼ŒEgretçš„ä¼˜åŠ¿æ˜¯å®˜æ–¹æ–‡æ¡£é½å…¨ï¼Œé…å¥—å·¥å…·å®Œå–„ï¼Œä½†æ€§èƒ½ä¸æ˜¯å¾ˆçªå‡ºã€‚ æ›¾ä½¿ç”¨å®˜æ–¹æä¾›çš„é…å¥—å·¥å…· ç•Œé¢æŽ’å¸ƒåŠå±žæ€§é¢„è®¾â€”Egret Wing ç¢Žå›¾åŽ‹ç¼©åˆæˆå¤§å›¾åŠMovieClipåŠ¨ç”»ç´ æå¤„ç†â€”TextureMerger èµ„æºç®¡ç†â€”ResDepot chromeä¸‹è°ƒè¯•æ’ä»¶â€”Egret Inspector ç²’å­æ•ˆæžœåˆ¶ä½œâ€”EgretFeather å½“ç„¶ï¼Œä»£ç ç¼–å†™è¿˜æ˜¯è¦ç”¨WebStormåŠSublimeã€‚ä»¥åŠå¼€å‘ä¸­å¸¸ç”¨åˆ°çš„å°å°å·¥å…·ï¼šåœ¨çº¿å›¾ç‰‡åŽ‹ç¼©â€”TinyPng.com,åˆå›¾åˆ†å‰²â€”pngSplitï¼Œåœ¨çº¿Jsonè½¬æ¢â€”bejsonï¼ŒäºŒç»´ç ç”Ÿæˆå™¨cli.imç­‰ç­‰ã€‚ è°ƒè¯•å‚æ•°è¯´æ˜ŽåŠMovieClip index.htmlä¸­ï¼Œdata-entry-class = â€œMainâ€,è¿›å…¥æ¸¸æˆè®¿é—®çš„ç¬¬ä¸€ä¸ªTsæ–‡ä»¶ï¼Œå…¥å£ç±»ï¼›data-orientation=â€autoâ€,æ—‹è½¬æ–¹å‘è®¾ç½®ï¼›data-frame-rate = â€œ60â€,æ¸¸æˆå¸§çŽ‡è®¾ç½®ï¼Œå¯æ›´æ”¹ï¼Œå»ºè®®ä¸º60çš„çº¦æ•°ï¼Œæ­£å¼é¡¹ç›®åŸºæœ¬è®¾ç½®ä¸º60ï¼Œæµ‹è¯•æ—¶æ›´æ”¹ã€‚data-show-fps=â€falseâ€,é»˜è®¤ä¸ºfalse,å¼€å¯åŽå¯çœ‹åˆ°å®žæ—¶å¸§çŽ‡ï¼Œæµ‹è¯•ä½¿ç”¨ï¼›data-show-log = â€œfalseâ€,é»˜è®¤ä¸ºfalse,å¼€å¯åŽï¼Œä»£ç ä¸­egret.log()ä¸­çš„å†…å®¹å³æ˜¾ç¤ºåœ¨å±å¹•ä¸­ï¼Œæµ‹è¯•ä½¿ç”¨ã€‚ å¼€å¯fpsåŽçš„å‚æ•°è¯´æ˜Žã€‚FPSä¸ºå¸§çŽ‡ï¼›Drawä¸ºæ¯å¸§drawæ–¹æ³•è°ƒç”¨çš„å¹³å‡æ¬¡æ•°ï¼Œè„çŸ©é˜µå èˆžå°çš„ç™¾åˆ†æ¯”ï¼›Costä¸ºæ¯å¸§èˆžå°æ‰€æœ‰äº‹ä»¶å¤„ç†åŠçŸ©é˜µè¿ç®—è€—æ—¶ï¼Œç»˜åˆ¶æ˜¾ç¤ºå¯¹è±¡è€—æ—¶ï¼ˆå•ä½ä¸ºmsï¼‰ã€‚ MovieClipä¸¾ä¾‹123456789101112131415161718192021222324252627282930class Bomb extends egret.Sprite&#123; private mcf:egret.MovieClipDataFactory; private mc:egret.MovieClip; public constructor() &#123; super(); this.init(); &#125; public init(str1:string,str2:string,number:number):void &#123; var data = RES.getRes(str1); var tex = RES.getRes(str2); this.mcf = new egret.MovieClipDataFactory(data, tex); this.mc = new egret.MovieClip(); this.mc.movieClipData = this.mcf.generateMovieClipData(); this.mc.play(number); //playTimes:number â€” æ’­æ”¾æ¬¡æ•°ã€‚ å‚æ•°ä¸ºæ•´æ•°ï¼Œå¯é€‰å‚æ•°ï¼Œ&gt;=1ï¼šè®¾å®šæ’­æ”¾æ¬¡æ•°ï¼Œ&lt;0ï¼šå¾ªçŽ¯æ’­æ”¾ï¼Œé»˜è®¤å€¼ 0ï¼šä¸æ”¹å˜æ’­ æ”¾æ¬¡æ•°(MovieClipåˆå§‹æ’­æ”¾æ¬¡æ•°è®¾ç½®ä¸º1)ï¼Œ this.addChild(this.mc); this.mc.addEventListener(egret.Event.COMPLETE, this.removeBomb, this); &#125; //è½°ç‚¸å®Œæ¯• private removeBomb(evt:egret.Event):void &#123; if(this.parent!=null) &#123; this.parent.removeChild(this); &#125; &#125;&#125; æ€§èƒ½ä¼˜åŒ– Audio å¦‚æžœéœ€æ±‚ä¸­éœ€è¦åŒæ—¶æ’­æ”¾å¤šä¸ªéŸ³é¢‘ï¼Œåˆ™ä½¿ç”¨WebAudioã€‚X5æµè§ˆå™¨å†…æ ¸WebAudioå¯æ”¯æŒå¤šéŸ³é¢‘ã€‚Egret3.1.4ä¹‹åŽï¼Œindex.htmlæ–‡ä»¶ä¸­ï¼Œegret.runEgret({renderMode:â€webglâ€,audioType:0}); é»˜è®¤çš„æ¸²æŸ“æ¨¡å¼ä¸ºCanvas,ä¹‹å‰å¾®ä¿¡å¹³å°ä¸Šçš„æ¸¸æˆä½¿ç”¨çš„å‡ä¸ºCanvasã€‚éŸ³é¢‘ç±»åž‹ä¸­ï¼Œé»˜è®¤ä¸º0ï¼ŒIOS7ä»¥ä¸Šè¡¨ç¤ºWebAudioï¼›1è¡¨ç¤ºQQ Audioï¼Œé¡¹ç›®è‹¥åœ¨è…¾è®¯å¹³å°ä¸Šçº¿å¦‚QQç©ºé—´ä¸­çš„çŽ©å§ï¼Œåˆ™ä½¿ç”¨QQ Audioï¼Œè…¾è®¯è§£æžéŸ³é¢‘æœ‰è‡ªå·±çš„ä¸€å¥—æ–¹æ¡ˆï¼›2è¡¨ç¤ºå¼ºåˆ¶ä½¿ç”¨WebAudio;3è¡¨ç¤ºä½¿ç”¨æµè§ˆå™¨è‡ªå¸¦çš„Audioï¼Œä¸æŽ¨èã€‚ å½“å¤šä¸ªéŸ³é¢‘è½®è¯¢æ’­æ”¾æ’­æ”¾çš„æ—¶å€™ï¼Œå¦‚ababaï¼Œå¦‚æžœæ‰“å¼€ç½‘ç»œä¾¦å¬ï¼Œæœ‰å¯èƒ½å‘çŽ°æ’­æ”¾ä¸€æ¬¡å‘æœåŠ¡å™¨è¯·æ±‚ä¸€æ¬¡ï¼ŒåŽŸå› æ˜¯ä¸åŒæµè§ˆå™¨å†…æ ¸å¯¹éŸ³é¢‘å®žçŽ°æ–¹å¼ä¸ä¸€æ ·ã€‚è§£å†³æ–¹æ¡ˆæ˜¯ï¼šå°†è½®è¯¢æ’­æ”¾çš„å¤šä¸ªéŸ³é¢‘æ‹¼æˆä¸€ä¸ªéŸ³é¢‘ï¼Œé€šè¿‡æ—¶é—´æ®µæŽ§åˆ¶æ’­æ”¾ã€‚ ç”±äºŽæµè§ˆå™¨çš„å®‰å…¨é™åˆ¶ï¼ŒåŠ è½½å®Œæˆå¯èƒ½æ— æ³•è‡ªåŠ¨æ’­æ”¾èƒŒæ™¯éŸ³ä¹ï¼Œè¿™ç§æƒ…å†µå°†èƒŒæ™¯éŸ³ä¹è®¾ç½®æˆç‚¹å‡»æ’­æ”¾çš„å½¢å¼ï¼Œå¦‚åŠ è½½å®ŒæˆåŽï¼Œå¼¹å‡ºæŒ‰é’®ï¼ŒçŽ©å®¶ç‚¹å‡»é€‰æ‹©æ˜¯å¦æ’­æ”¾èƒŒæ™¯éŸ³ä¹ã€‚ä¸»æµH5æ¸¸æˆå‡æ˜¯é‡‡ç”¨è¿™ç§æ–¹å¼ã€‚ Text TextFieldä¸­ä½¿ç”¨cacheAsBitmapï¼Œå¯ä»¥å‡å°‘é‡ç»˜æ¬¡æ•°ã€‚åŽŸå› æ˜¯TextFieldæ˜¯æ–‡æœ¬ï¼Œæµè§ˆå™¨æ¸²æŸ“é€šè¿‡CPUçš„è®¡ç®—ï¼Œå¯¹å›¾ç‰‡æ¸²æŸ“é€Ÿåº¦å¿«ï¼Œå¯¹æ–‡æœ¬æ¸²æŸ“é€Ÿåº¦æ…¢ã€‚ TextFieldå‡å°‘å¯¹äºŽæè¾¹ï¼ˆstrokeï¼‰çš„ä½¿ç”¨ï¼Œç”¨å›¾ç‰‡ä»£æ›¿ã€‚ è¾“å…¥æ–‡æœ¬æ¡†å°½é‡å‡ºçŽ°åœ¨è½¯é”®ç›˜çš„ä¸Šé¢ï¼Œæ‰‹æœºéƒ¨åˆ†æµè§ˆå™¨ä¸­ï¼Œå¦‚æžœè¾“å…¥æ–‡æœ¬æ¡†å¤ªé ä¸‹ï¼Œå¼¹å‡ºçš„è½¯é”®ç›˜ä¼šé®æŒ¡ä½è¾“å…¥æ–‡æœ¬æ¡†ã€‚ Image å•å¼ å›¾ï¼ˆåŒ…æ‹¬SpriteSheetï¼‰çš„å¤§å°ä¸è¦è¶…è¿‡1024*1024,æµè§ˆå™¨å¯¹å›¾ç‰‡å¤§å°é™åˆ¶ä¼šå¯¹è¶…è¿‡çš„è¯¥å°ºå¯¸å¤§å°çš„å›¾ç‰‡è¿›è¡Œè‡ªåŠ¨åŽ‹ç¼©å¤„ç†å¯¼è‡´å›¾ç‰‡æ¨¡ç³Šå‘è™šã€‚ å°†ç¢Žå›¾åˆæˆä¸€å¼ å¤§å›¾ï¼Œæ¯æ¬¡è¿›è¡Œå›¾ç‰‡ä¸‹è½½æ—¶ä¼šå…ˆè¿›è¡ŒTCPä¸‰æ¬¡æ¡æ‰‹åè®®ï¼Œè¿™ä¸ªæ—¶é—´ä¼šè¶…è¿‡è¾ƒå¤šå°å›¾ä¸‹è½½çš„æ—¶é—´ã€‚ ä½¿ç”¨ä¹å®«æ ¼æ—¶ï¼Œä¸è¦ä½¿ç”¨éžæ•´æ•°å®½é«˜ï¼›åœ¨ListæŽ§ä»¶ä¸­ä¸è¦ä½¿ç”¨ä¹å®«æ ¼å›¾ç‰‡æ¥å‡å°‘drawçš„æ¬¡æ•°ã€‚ å•é™æ€é¡µé¢ï¼ŒcacheAsBitMapå¯ä»¥å‡å°‘é‡ç»˜æ¬¡æ•°ã€‚å¦‚åœ¨å¤§å›¾ä¸­å–å‡ºéƒ¨åˆ†ç¢Žå›¾ç»„æˆçš„å•é™æ€é¡µé¢ã€‚ ä½¿ç”¨SpriteSheetåˆå¹¶çš„å›¾ç‰‡å°ºå¯¸è¦ä¼˜äºŽå•å¼ å›¾ç‰‡çš„æ€»å°ºå¯¸ï¼Œå°¤å…¶æ˜¯å¸¦é€æ˜Žé€šé“çš„ã€‚ NetWork ç´ æå¤„ç†ã€‚ä¸è¦ä¸€æ¬¡æ€§ä¸‹è½½å¤ªå¤šçš„ç´ æï¼Œå°½é‡åˆ†å¸ƒåœ¨ä½¿ç”¨å‰åŠ è½½ã€‚å°†ç¢Žå›¾å’Œæˆä¸€å¼ å¤§å›¾ï¼Œå‡å°‘ä¸‹è½½æ¬¡æ•°ã€‚Pngå›¾å¯ä»¥ä½¿ç”¨åŽ‹ç¼©å·¥å…·ï¼ˆå¦‚TinyPngï¼‰åŽ‹ç¼©å‡å°‘ä½“ç§¯ã€‚ é…ç½®æ–‡ä»¶ã€‚å°½é‡å°†é…ç½®æ–‡ä»¶åˆå¹¶åˆ°ä¸€ä¸ªå¤§æ–‡ä»¶é‡Œï¼Œå‡å°‘ä¸‹è½½æ¬¡æ•°ã€‚åœ¨Httpè¯·æ±‚ä¸­ï¼ŒåŠ è½½å•ä¸ªæ–‡ä»¶é€Ÿåº¦è¦ä¼˜äºŽåŠ è½½å¤šä¸ªæ–‡ä»¶ã€‚é…ç½®æ–‡ä»¶åŽ»æŽ‰æ ¼å¼åŒ–ï¼Œåˆ©ç”¨åœ¨çº¿Jsonæ ¼å¼åŒ–å·¥å…·ï¼ˆå¦‚bejsonï¼Œsojsonï¼‰å¤„ç†Jsonæ•°æ®ã€‚Jsonæ•°æ®å¯ä»¥åŽ»æŽ‰ä¸€äº›ä¸å¿…è¦çš„å°æ•°å’Œå†—é•¿å‘½åã€‚ ä¸‹è½½å¤„ç†ã€‚èµ„æºæœåŠ¡å™¨å¼€å¯GZIPåŽ‹ç¼©ï¼Œæé«˜è½½å…¥é€ŸçŽ‡ï¼›ç™»å½•åŠ ä¸»é¡µé¢ç´ æä¸è¦è¶…è¿‡2Mï¼›åŠ å…¥é™é»˜åŠ è½½ï¼Œæ¯”å¦‚åœ¨ç™»å½•ç•Œé¢æ“ä½œæ—¶ä¸‹è½½ä¸»é¡µé¢ç›¸å…³ç´ æã€‚ Mask é®ç½©å¦‚æžœæ˜¯DisplayObjectï¼Œå¿…é¡»åŠ å…¥åˆ°æ˜¾ç¤ºåˆ—è¡¨åŽï¼Œæ–¹èƒ½æ­£å¸¸ä½¿ç”¨ã€‚ é®ç½©å¦‚æžœæ˜¯Rectangleï¼Œä¿®æ”¹é®ç½©æ•°æ®åŽï¼Œé‡æ–°å°†é®ç½©èµ‹å€¼ç»™å¯¹è±¡ã€‚ DisplayObject Shape/DisplayObjectContainerï¼Œèƒ½é€šè¿‡çˆ¶å±‚è®¡ç®—å‡ºæ¥çš„äº¤äº’ä¸ç›´æŽ¥åœ¨å­å®¹å™¨é‡ŒåŠ ã€‚å¦‚EUIä¸­ï¼ŒGroupç»„ä»¶ä¸­æœ‰Imageç»„ä»¶ï¼ŒTouch Imageçš„ç›‘å¬ç›´æŽ¥å°†Touchç›‘å¬åŠ åœ¨Groupä¸Šï¼Œå¦‚æžœæ˜¯ä¸€ä¸ªGroupä¸­æœ‰å¤šå¼ å›¾éœ€è¦æœ‰ç›‘å¬äº‹ä»¶ï¼Œå¯åœ¨Groupä¸ŠåŠ ä¸€ä¸ªç›‘å¬ï¼Œæ ¹æ®Groupçš„Touchä½ç½®è¿›è¡Œå“åº”ã€‚ ç¦ç”¨ä¸å¿…è¦æ˜¾ç¤ºå¯¹è±¡çš„è§¦æ‘¸äº¤äº’ï¼Œé»˜è®¤å°±æ˜¯å…³é—­çš„ã€‚ä½†æ˜¯å¼€å‘æ—¶ï¼Œè‡ªå·±çš„å†™çš„åº•å±‚æ¡†æž¶å¯èƒ½åˆç»™æ‰“å¼€äº†ï¼Œeuiçš„touchenableæ˜¯é»˜è®¤æ‰“å¼€çš„ï¼Œä¸éœ€è¦touchäº‹ä»¶ç›‘å¬æ—¶éœ€æ‰‹åŠ¨å…³é—­ã€‚è§¦æ‘¸å±å¹•å®žé™…ä¸Šå°±æ˜¯è§¦æ‘¸canvas,canvasæ ¹æ®ä½ç½®åœ¨æ˜¾ç¤ºåˆ—è¡¨ä¸­é€å±‚æœç´¢ï¼Œå®žé™…ä¸Šä¹Ÿæ˜¯ç¢°æ’žæ£€æµ‹ã€‚ 1234567var sp :egret.Sprite = new egret.Sprite();this.addChild(sp);sp.touchChildren = false; //ç¡®å®šå­å­™å¯¹è±¡æ˜¯å¦æŽ¥å—è§¦æ‘¸äº‹ä»¶ï¼Œé»˜è®¤ä¸ºtruesp.touchEnabled = false; //æ­¤å¯¹è±¡æ˜¯å¦æŽ¥å—è§¦æ‘¸äº‹ä»¶ï¼Œé»˜è®¤ä¸ºtrue èƒ½ç”¨å›¾ç‰‡çš„ä¸ç”¨Graphicså®žçŽ°ã€‚ å°½é‡å°†é™æ€å›¾æˆ–è€…æ–‡å­—æ”¾åˆ°ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œå¹¶å¯¹å®¹å™¨ç¼“å­˜ï¼ˆcacheAsBitMapï¼‰ã€‚ å‡å°‘æ˜¾ç¤ºå¯¹è±¡çš„æ—‹è½¬åŠç¼©æ”¾ã€‚ å°½å¯èƒ½é‡ç”¨å¯¹è±¡ï¼Œå»ºç«‹å¯¹è±¡æ± ï¼Œè€Œä¸åˆ›å»ºå¯¹è±¡å¹¶å¯¹å…¶æ‰§è¡Œåžƒåœ¾å›žæ”¶ã€‚åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå°†å¯¹è±¡åˆ›å»ºåœ¨å¾ªçŽ¯å¤–éƒ¨å¹¶åœ¨å¾ªçŽ¯å†…åå¤é‡ç”¨ã€‚éœ€è¦å¯†é›†çš„åˆ›å»ºå¯¹è±¡ï¼Œè¦å¼•å…¥å¯¹è±¡æ± ï¼Œä¾‹å¦‚åšä¸€æ¬¾æ‰“é£žæœºç±»åž‹çš„æ¸¸æˆï¼Œè¿›å…¥æˆ˜æ–—å‰ï¼Œé£žæœºï¼Œæ€ªç‰©ï¼ŒæŽ‰è¡€ç‰¹æ•ˆç­‰å¯¹è±¡æå‰åˆå§‹åŒ–ï¼Œåœ¨è¿‡ç¨‹ä¸­å®žæ—¶æå–ï¼Œè€Œä¸æ˜¯å®žæ—¶åˆ›å»ºã€‚ å¯¹è±¡å¤ç”¨ä¸Žé‡Šæ”¾ Eventæ´¾å‘è¦åˆç†ä½¿ç”¨Eventè‡ªå¸¦çš„é™æ€æ–¹æ³•ï¼Œå¦‚egret.Event.dispatchEvent(this,â€dragonbonesâ€)ã€‚ äº‹ä»¶åˆ é™¤ï¼Œç”¨å®Œäº‹ä»¶å³åˆ é™¤ã€‚ Tweenå¾ªçŽ¯ç»“æŸæ—¶ï¼Œåˆ é™¤ã€‚ æ˜¾ç¤ºåˆ—è¡¨åˆ é™¤ï¼Œé¢æ¿ä¸ä½¿ç”¨åˆ™removeæŽ‰ã€‚ æ˜¾ç¤ºåœæ­¢è®¡æ—¶å™¨ï¼Œè®©å®ƒä»¬å‡†å¤‡å¥½è¿›è¡Œåžƒåœ¾å›žæ”¶ã€‚æš‚åœæ¸…é™¤è®¡æ•°å™¨clearInterval()ã€clearTimeout()ã€Timer.stop()ã€‚ TypeScipt å°½é‡ä¸è¦åœ¨ä½¿ç”¨æ–¹æ³•å†…åˆ›å»ºå‡½æ•°ï¼Œä¸€ä¸ªå‡½æ•°å†…ä¸è¦åµŒå¥—å¦ä¸€ä¸ªå‡½æ•°çš„å®šä¹‰ Tsä¸­æ²¡æœ‰superå±žæ€§çš„è°ƒç”¨ï¼ŒJsç±»ç»§æ‰¿çš„æœ¬è´¨æ˜¯é€šè¿‡åŽŸåž‹é“¾å®žçŽ°çš„ï¼Œä½†æ˜¯egretæä¾›äº†egret.superGet å’Œ egret.superSet æ¥è°ƒç”¨çˆ¶ç±»å±žæ€§ã€‚ ç±»æ–¹æ³•ä¸­ï¼Œå°†thisèµ‹å€¼ç»™å¦ä¸€ä¸ªä¸´æ—¶å˜é‡selfï¼Œvar self = this;å¦‚æžœå½“å‰ç±»thisä½¿ç”¨è¾ƒå¤šï¼Œå¦‚forå¾ªçŽ¯å†…ä½¿ç”¨æ—¶ï¼Œä½¿ç”¨selfã€‚ å…¶ä»– LocalToGlobalåŽçš„åæ ‡ä¸è¦æœ‰å°æ•°ï¼›ä¸€èˆ¬æƒ…å†µä¸‹åæ ‡è®¡ç®—ç­‰ä¹Ÿå°½é‡ä¸ä½¿ç”¨å°æ•°ã€‚ å¯¹è±¡å¤ç”¨æ¯”è¾ƒé«˜æ—¶ï¼Œå¦‚æ‰“é£žæœºçš„å­å¼¹ï¼Œä½¿ç”¨å¯¹è±¡æ± ä¼˜åŒ–ã€‚ å°½é‡å‡å°‘Alphaæ··åˆçš„ä½¿ç”¨ã€‚ å¤šæ¬¡è°ƒç”¨ç±»å±žæ€§æ—¶ï¼Œé¿å…ç›´æŽ¥ä½¿ç”¨thisï¼Œå¦‚æžœforå¾ªçŽ¯ä¸€ç›´ç”¨åˆ°this.aï¼Œå¯var _a = this.aï¼Œç”¨å˜é‡åšç®€å•ç¼“å­˜å†åŽ»è®¡ç®—ï¼Œæ•ˆçŽ‡å°±ä¼šæå‡ï¼Œå¦‚_length = Array.lengthã€‚ Event.ENTER_FRAMEæ•°é‡æŽ§åˆ¶ã€‚MainLoopåŒ…æ‹¬ENTER_FRAMEï¼ˆæ¯å¸§ä¸»è¦æ‰§è¡Œé€»è¾‘ï¼‰-&gt;CLEAR(æ¸…ç©ºä¸Šä¸€å¸§å›¾åƒ) -&gt;UPDATE TRANSFORM(è®¡ç®—è¿™ä¸€å¸§çš„æ˜¾ç¤º) -&gt; UPDATE DRAWã€‚ ä½ç§»å¦‚è·‘é…·æ¸¸æˆçš„è®¡ç®—ä¸è¦é€šè¿‡å¸§æ•°æ¥è®¡ç®—ï¼Œé€šè¿‡æ—¶é—´æ¥è®¡ç®—ã€‚ ä½¿ç”¨60çš„çº¦æ•°ä½œä¸ºå¸§é¢‘æ•°ã€‚Egretè‡ªå¸¦Timerï¼Œæ¯ç§’å›ºå®šæŒ¯è¡60æ¬¡ã€‚ å¯¹äºŽç®€å•çš„åŠ¨ç”»ï¼Œä½¿ç”¨åºåˆ—å¸§æˆ–è€…dbçš„æ€¥é€Ÿæ¨¡å¼ã€‚ éžåŠ¨ä½œæ¸¸æˆé™ä½Žå¸§çŽ‡å¯å¤§å¹…æé«˜æ€§èƒ½ã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>TypeScript</tag>
        <tag>Egret</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®åº“èŒƒå¼å­¦ä¹ æ€»ç»“]]></title>
    <url>%2F2016%2F08%2F05%2Fdatabase_introduce%2F</url>
    <content type="text"><![CDATA[è¿‘æœŸé‡æ¸©æ•°æ®åº“èŒƒå¼ã€‚ ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰å±žæ€§ä¸å¯å†åˆ†ï¼Œå¼ºè°ƒçš„æ˜¯åŽŸå­æ€§ã€‚å¦‚è¡¨ï¼šã€è”ç³»äººã€‘ï¼ˆå§“åï¼Œæ€§åˆ«ï¼Œç”µè¯ï¼‰ï¼Œåœ¨å®žé™…åœºæ™¯ä¸­ï¼Œè”ç³»äººæœ‰å®¶åº­ç”µè¯å’Œå…¬å¸ç”µè¯ï¼Œé‚£ä¹ˆè¿™ç§è¡¨ç»“æž„è®¾è®¡å°±æ²¡æœ‰è¾¾åˆ° 1NFã€‚è¦ç¬¦åˆ 1NF æˆ‘ä»¬åªéœ€æŠŠåˆ—ï¼ˆç”µè¯ï¼‰æ‹†åˆ†ï¼Œå³ï¼šã€è”ç³»äººã€‘ï¼ˆå§“åï¼Œæ€§åˆ«ï¼Œå®¶åº­ç”µè¯ï¼Œå…¬å¸ç”µè¯ï¼‰ã€‚ ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰é¦–å…ˆï¼Œç¬¦åˆ1NFï¼Œå¹¶ä¸”ï¼Œéžä¸»å±žæ€§å®Œå…¨ä¾èµ–äºŽç ï¼Œå³æ²¡æœ‰åŒ…å«åœ¨ä¸»é”®ä¸­çš„åˆ—å¿…é¡»å®Œå…¨ä¾èµ–äºŽä¸»é”®ï¼Œè€Œä¸èƒ½åªä¾èµ–äºŽä¸»é”®çš„ä¸€éƒ¨åˆ†ã€‚å¼ºè°ƒçš„æ˜¯å®Œå…¨ä¾èµ–è€Œéžéƒ¨åˆ†ä¾èµ–ã€‚è€ƒè™‘ä¸€ä¸ªè®¢å•æ˜Žç»†è¡¨ï¼šã€OrderDetailã€‘ï¼ˆOrderIDï¼ŒProductIDï¼ŒUnitPriceï¼ŒDiscountï¼ŒQuantityï¼ŒProductNameï¼‰ã€‚ å› ä¸ºæˆ‘ä»¬çŸ¥é“åœ¨ä¸€ä¸ªè®¢å•ä¸­å¯ä»¥è®¢è´­å¤šç§äº§å“ï¼Œæ‰€ä»¥å•å•ä¸€ä¸ª OrderID æ˜¯ä¸è¶³ä»¥æˆä¸ºä¸»é”®çš„ï¼Œä¸»é”®åº”è¯¥æ˜¯ï¼ˆOrderIDï¼ŒProductIDï¼‰ã€‚æ˜¾è€Œæ˜“è§ Discountï¼ˆæŠ˜æ‰£ï¼‰ï¼ŒQuantityï¼ˆæ•°é‡ï¼‰å®Œå…¨ä¾èµ–ï¼ˆå–å†³ï¼‰äºŽä¸»é”®ï¼ˆOderIDï¼ŒProductIDï¼‰ï¼Œè€Œ UnitPriceï¼ŒProductName åªä¾èµ–äºŽ ProductIDã€‚æ‰€ä»¥ OrderDetail è¡¨ä¸ç¬¦åˆ 2NFã€‚ä¸ç¬¦åˆ 2NF çš„è®¾è®¡å®¹æ˜“äº§ç”Ÿå†—ä½™æ•°æ®ã€‚å¯ä»¥æŠŠã€OrderDetailã€‘è¡¨æ‹†åˆ†ä¸ºã€OrderDetailã€‘ï¼ˆOrderIDï¼ŒProductIDï¼ŒDiscountï¼ŒQuantityï¼‰å’Œã€Productã€‘ï¼ˆProductIDï¼ŒUnitPriceï¼ŒProductNameï¼‰æ¥æ¶ˆé™¤åŽŸè®¢å•è¡¨ä¸­UnitPriceï¼ŒProductNameå¤šæ¬¡é‡å¤çš„æƒ…å†µã€‚ ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰é¦–å…ˆï¼Œç¬¦åˆ 2NFï¼Œå¦å¤–éžä¸»é”®åˆ—å¿…é¡»ç›´æŽ¥ä¾èµ–äºŽä¸»é”®ï¼Œä¸èƒ½å­˜åœ¨ä¼ é€’ä¾èµ–ã€‚å³ä¸èƒ½å­˜åœ¨ï¼šéžä¸»é”®åˆ— A ä¾èµ–äºŽéžä¸»é”®åˆ— Bï¼Œéžä¸»é”®åˆ— B ä¾èµ–äºŽä¸»é”®çš„æƒ…å†µã€‚ å¼ºè°ƒçš„æ˜¯æ¶ˆé™¤ä¼ é€’ä¾èµ–ã€‚è€ƒè™‘ä¸€ä¸ªè®¢å•è¡¨ã€Orderã€‘ï¼ˆOrderIDï¼ŒOrderDateï¼ŒCustomerIDï¼ŒCustomerNameï¼ŒCustomerAddrï¼ŒCustomerCityï¼‰ä¸»é”®æ˜¯ï¼ˆOrderIDï¼‰ã€‚å…¶ä¸­ OrderDateï¼ŒCustomerIDï¼ŒCustomerNameï¼ŒCustomerAddrï¼ŒCustomerCity ç­‰éžä¸»é”®åˆ—éƒ½å®Œå…¨ä¾èµ–äºŽä¸»é”®ï¼ˆOrderIDï¼‰ï¼Œæ‰€ä»¥ç¬¦åˆ 2NFã€‚ä¸è¿‡é—®é¢˜æ˜¯ CustomerNameï¼ŒCustomerAddrï¼ŒCustomerCity ç›´æŽ¥ä¾èµ–çš„æ˜¯ CustomerIDï¼ˆéžä¸»é”®åˆ—ï¼‰ï¼Œè€Œä¸æ˜¯ç›´æŽ¥ä¾èµ–äºŽä¸»é”®ï¼Œå®ƒæ˜¯é€šè¿‡ä¼ é€’æ‰ä¾èµ–äºŽä¸»é”®ï¼Œæ‰€ä»¥ä¸ç¬¦åˆ 3NFã€‚é€šè¿‡æ‹†åˆ†ã€Orderã€‘ä¸ºã€Orderã€‘ï¼ˆOrderIDï¼ŒOrderDateï¼ŒCustomerIDï¼‰å’Œã€Customerã€‘ï¼ˆCustomerIDï¼ŒCustomerNameï¼ŒCustomerAddrï¼ŒCustomerCityï¼‰ä»Žè€Œè¾¾åˆ° 3NFã€‚ BCèŒƒå¼ï¼ˆBCNFï¼‰ä»»ä½•å­—æ®µéƒ½ä¸èƒ½ä¼ é€’ä¾èµ–ä»»ä¸€ä¾¯é€‰å…³é”®å­—ã€‚ç¬¬ä¸‰èŒƒå¼ä¸ºéžä¸»é”®åˆ—ä¸èƒ½ä¼ é€’ä¾èµ–ï¼Œè€ŒBCèŒƒå¼ä¸ºæ‰€æœ‰é”®åˆ—éƒ½ä¸èƒ½ä¼ é€’ä¾èµ–ã€‚åœ¨ç¬¬ä¸‰èŒƒå¼çš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥æ¶ˆé™¤äº†ä¸»å±žæ€§çš„ä¼ é€’ä¾èµ–ã€‚BCèŒƒå¼æ—¢æ£€æŸ¥éžä¸»å±žæ€§ï¼Œåˆæ£€æŸ¥ä¸»å±žæ€§ã€‚ ç¬¬å››èŒƒå¼ï¼ˆ4CFï¼‰æŠŠåŒä¸€è¡¨å†…çš„å¤šå¯¹å¤šå…³ç³»åˆ é™¤ã€‚ ç¬¬äº”èŒƒå¼ï¼ˆ5CFï¼‰ä»Žæœ€ç»ˆç»“æž„é‡æ–°å»ºç«‹åŽŸå§‹ç»“æž„ã€‚ æ­£ç¡®è®¤è¯†æ•°æ®å†—ä½™ä¸»é”®ä¸Žå¤–é”®åœ¨å¤šè¡¨ä¸­çš„é‡å¤å‡ºçŽ°, ä¸å±žäºŽæ•°æ®å†—ä½™ï¼Œè¿™ä¸ªæ¦‚å¿µå¿…é¡»æ¸…æ¥šã€‚éžé”®å­—æ®µçš„é‡å¤å‡ºçŽ°, æ‰æ˜¯æ•°æ®å†—ä½™ï¼è€Œä¸”æ˜¯ä¸€ç§ä½Žçº§å†—ä½™ï¼Œå³é‡å¤æ€§çš„å†—ä½™ã€‚é«˜çº§å†—ä½™ä¸æ˜¯å­—æ®µçš„é‡å¤å‡ºçŽ°ï¼Œè€Œæ˜¯å­—æ®µçš„æ´¾ç”Ÿå‡ºçŽ°ã€‚ä¾‹ï¼šå•†å“ä¸­çš„â€œå•ä»·ã€æ•°é‡ã€é‡‘é¢â€ä¸‰ä¸ªå­—æ®µï¼Œâ€œé‡‘é¢â€å°±æ˜¯ç”±â€œå•ä»·â€ä¹˜ä»¥â€œæ•°é‡â€æ´¾ç”Ÿå‡ºæ¥çš„ï¼Œå®ƒå°±æ˜¯å†—ä½™ï¼Œè€Œä¸”æ˜¯ä¸€ç§é«˜çº§å†—ä½™ã€‚å†—ä½™çš„ç›®çš„æ˜¯ä¸ºäº†æé«˜å¤„ç†é€Ÿåº¦ã€‚åªæœ‰ä½Žçº§å†—ä½™æ‰ä¼šå¢žåŠ æ•°æ®çš„ä¸ä¸€è‡´æ€§ï¼Œå› ä¸ºåŒä¸€æ•°æ®ï¼Œå¯èƒ½ä»Žä¸åŒæ—¶é—´ã€åœ°ç‚¹ã€è§’è‰²ä¸Šå¤šæ¬¡å½•å…¥ã€‚ æ€»ç»“ç»å¤§å¤šæ•°å®žé™…å¼€å‘æœ€å¤šç”¨åˆ°BCèŒƒå¼ã€‚ç¬¬å››å’Œç¬¬äº”èŒƒå¼æ„Ÿå…´è¶£å¤šçœ‹çœ‹èµ„æ–™ï¼Œäº†è§£å³å¯ã€‚èŒƒå¼ä¸æ˜¯è¶Šé«˜è¶Šå¥½ï¼Œè¿‡äºŽèŒƒå¼åŒ–ä¼šå¯¹æ•°æ®åº“çš„é€»è¾‘å¯è¯»æ€§å’Œä½¿ç”¨æ•ˆçŽ‡èµ·åˆ°é˜»ç¢ã€‚æ•°æ®åº“è¿žæŽ¥æœ‰æ€§èƒ½æ¶ˆè€—ï¼Œå®žé™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¼šæœ‰æ•°æ®å†—ä½™ï¼Œä»¥ç©ºé—´æ¢æ—¶é—´ï¼Œæ‰€ä»¥æå€¡é«˜çº§å†—ä½™(æ´¾ç”Ÿæ€§å†—ä½™)ï¼Œåå¯¹ä½Žçº§å†—ä½™(é‡å¤æ€§å†—ä½™)ã€‚]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>DataBase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¯•ä¸š]]></title>
    <url>%2F2016%2F06%2F10%2Fgraduate%2F</url>
    <content type="text"><![CDATA[è´´å‡ å¼ ç…§ç‰‡~æ•™å­¦åŒºåˆ°ä½“è‚²é¦†çš„è·¯ä¸Šï¼Œäº®çœ¼çš„æ¯•ä¸šä¸‰å­—-.-æ¥ä¸€æ¡¶å›¾ä¹¦é¦†ä½“è‚²åœºæ•™å­¦åŒºè½¯é™¢æ­£é—¨å¯¹æ¯”ä¸€ä¸‹å¤§ä¸€é’è‘±ï¼š Your browser does not support the audio tag.]]></content>
      <tags>
        <tag>ç”Ÿæ´»</tag>
      </tags>
  </entry>
</search>